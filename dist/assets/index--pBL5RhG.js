(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var ou={exports:{}},pi={},cu={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xn=Symbol.for("react.element"),Kh=Symbol.for("react.portal"),Gh=Symbol.for("react.fragment"),Qh=Symbol.for("react.strict_mode"),Yh=Symbol.for("react.profiler"),Xh=Symbol.for("react.provider"),Zh=Symbol.for("react.context"),ef=Symbol.for("react.forward_ref"),tf=Symbol.for("react.suspense"),rf=Symbol.for("react.memo"),nf=Symbol.for("react.lazy"),No=Symbol.iterator;function sf(t){return t===null||typeof t!="object"?null:(t=No&&t[No]||t["@@iterator"],typeof t=="function"?t:null)}var uu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},du=Object.assign,hu={};function en(t,e,r){this.props=t,this.context=e,this.refs=hu,this.updater=r||uu}en.prototype.isReactComponent={};en.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};en.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fu(){}fu.prototype=en.prototype;function jl(t,e,r){this.props=t,this.context=e,this.refs=hu,this.updater=r||uu}var _l=jl.prototype=new fu;_l.constructor=jl;du(_l,en.prototype);_l.isPureReactComponent=!0;var ko=Array.isArray,mu=Object.prototype.hasOwnProperty,Nl={current:null},pu={key:!0,ref:!0,__self:!0,__source:!0};function gu(t,e,r){var n,i={},a=null,l=null;if(e!=null)for(n in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(a=""+e.key),e)mu.call(e,n)&&!pu.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Xn,type:t,key:a,ref:l,props:i,_owner:Nl.current}}function af(t,e){return{$$typeof:Xn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xn}function lf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var So=/\/+/g;function Ai(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lf(""+t.key):e.toString(36)}function Ts(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Xn:case Kh:l=!0}}if(l)return l=t,i=i(l),t=n===""?"."+Ai(l,0):n,ko(i)?(r="",t!=null&&(r=t.replace(So,"$&/")+"/"),Ts(i,e,r,"",function(u){return u})):i!=null&&(kl(i)&&(i=af(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(So,"$&/")+"/")+t)),e.push(i)),1;if(l=0,n=n===""?".":n+":",ko(t))for(var o=0;o<t.length;o++){a=t[o];var c=n+Ai(a,o);l+=Ts(a,e,r,c,i)}else if(c=sf(t),typeof c=="function")for(t=c.call(t),o=0;!(a=t.next()).done;)a=a.value,c=n+Ai(a,o++),l+=Ts(a,e,r,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function ls(t,e,r){if(t==null)return t;var n=[],i=0;return Ts(t,n,"","",function(a){return e.call(r,a,i++)}),n}function of(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Se={current:null},Ps={transition:null},cf={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:Ps,ReactCurrentOwner:Nl};function xu(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:ls,forEach:function(t,e,r){ls(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ls(t,function(){e++}),e},toArray:function(t){return ls(t,function(e){return e})||[]},only:function(t){if(!kl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};z.Component=en;z.Fragment=Gh;z.Profiler=Yh;z.PureComponent=jl;z.StrictMode=Qh;z.Suspense=tf;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cf;z.act=xu;z.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=du({},t.props),i=t.key,a=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,l=Nl.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)mu.call(e,c)&&!pu.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Xn,type:t.type,key:i,ref:a,props:n,_owner:l}};z.createContext=function(t){return t={$$typeof:Zh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Xh,_context:t},t.Consumer=t};z.createElement=gu;z.createFactory=function(t){var e=gu.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:ef,render:t}};z.isValidElement=kl;z.lazy=function(t){return{$$typeof:nf,_payload:{_status:-1,_result:t},_init:of}};z.memo=function(t,e){return{$$typeof:rf,type:t,compare:e===void 0?null:e}};z.startTransition=function(t){var e=Ps.transition;Ps.transition={};try{t()}finally{Ps.transition=e}};z.unstable_act=xu;z.useCallback=function(t,e){return Se.current.useCallback(t,e)};z.useContext=function(t){return Se.current.useContext(t)};z.useDebugValue=function(){};z.useDeferredValue=function(t){return Se.current.useDeferredValue(t)};z.useEffect=function(t,e){return Se.current.useEffect(t,e)};z.useId=function(){return Se.current.useId()};z.useImperativeHandle=function(t,e,r){return Se.current.useImperativeHandle(t,e,r)};z.useInsertionEffect=function(t,e){return Se.current.useInsertionEffect(t,e)};z.useLayoutEffect=function(t,e){return Se.current.useLayoutEffect(t,e)};z.useMemo=function(t,e){return Se.current.useMemo(t,e)};z.useReducer=function(t,e,r){return Se.current.useReducer(t,e,r)};z.useRef=function(t){return Se.current.useRef(t)};z.useState=function(t){return Se.current.useState(t)};z.useSyncExternalStore=function(t,e,r){return Se.current.useSyncExternalStore(t,e,r)};z.useTransition=function(){return Se.current.useTransition()};z.version="18.3.1";cu.exports=z;var C=cu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf=C,df=Symbol.for("react.element"),hf=Symbol.for("react.fragment"),ff=Object.prototype.hasOwnProperty,mf=uf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pf={key:!0,ref:!0,__self:!0,__source:!0};function yu(t,e,r){var n,i={},a=null,l=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(l=e.ref);for(n in e)ff.call(e,n)&&!pf.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:df,type:t,key:a,ref:l,props:i,_owner:mf.current}}pi.Fragment=hf;pi.jsx=yu;pi.jsxs=yu;ou.exports=pi;var s=ou.exports,vu={exports:{}},ze={},wu={exports:{}},bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,O){var I=E.length;E.push(O);e:for(;0<I;){var U=I-1>>>1,q=E[U];if(0<i(q,O))E[U]=O,E[I]=q,I=U;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var O=E[0],I=E.pop();if(I!==O){E[0]=I;e:for(var U=0,q=E.length,j=q>>>1;U<j;){var D=2*(U+1)-1,W=E[D],se=D+1,fe=E[se];if(0>i(W,I))se<q&&0>i(fe,W)?(E[U]=fe,E[se]=I,U=se):(E[U]=W,E[D]=I,U=D);else if(se<q&&0>i(fe,I))E[U]=fe,E[se]=I,U=se;else break e}}return O}function i(E,O){var I=E.sortIndex-O.sortIndex;return I!==0?I:E.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,h=null,f=3,x=!1,y=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(E){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=E)n(u),O.sortIndex=O.expirationTime,e(c,O);else break;O=r(u)}}function v(E){if(b=!1,m(E),!y)if(r(c)!==null)y=!0,V(w);else{var O=r(u);O!==null&&Z(v,O.startTime-E)}}function w(E,O){y=!1,b&&(b=!1,g(T),T=-1),x=!0;var I=f;try{for(m(O),h=r(c);h!==null&&(!(h.expirationTime>O)||E&&!Y());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var q=U(h.expirationTime<=O);O=t.unstable_now(),typeof q=="function"?h.callback=q:h===r(c)&&n(c),m(O)}else n(c);h=r(c)}if(h!==null)var j=!0;else{var D=r(u);D!==null&&Z(v,D.startTime-O),j=!1}return j}finally{h=null,f=I,x=!1}}var _=!1,N=null,T=-1,M=5,R=-1;function Y(){return!(t.unstable_now()-R<M)}function qe(){if(N!==null){var E=t.unstable_now();R=E;var O=!0;try{O=N(!0,E)}finally{O?De():(_=!1,N=null)}}else _=!1}var De;if(typeof p=="function")De=function(){p(qe)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,he=lt.port2;lt.port1.onmessage=qe,De=function(){he.postMessage(null)}}else De=function(){S(qe,0)};function V(E){N=E,_||(_=!0,De())}function Z(E,O){T=S(function(){E(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){y||x||(y=!0,V(w))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(E){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var I=f;f=O;try{return E()}finally{f=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,O){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var I=f;f=E;try{return O()}finally{f=I}},t.unstable_scheduleCallback=function(E,O,I){var U=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?U+I:U):I=U,E){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=I+q,E={id:d++,callback:O,priorityLevel:E,startTime:I,expirationTime:q,sortIndex:-1},I>U?(E.sortIndex=I,e(u,E),r(c)===null&&E===r(u)&&(b?(g(T),T=-1):b=!0,Z(v,I-U))):(E.sortIndex=q,e(c,E),y||x||(y=!0,V(w))),E},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(E){var O=f;return function(){var I=f;f=O;try{return E.apply(this,arguments)}finally{f=I}}}})(bu);wu.exports=bu;var gf=wu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xf=C,Fe=gf;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ju=new Set,$n={};function xr(t,e){Vr(t,e),Vr(t+"Capture",e)}function Vr(t,e){for($n[t]=e,t=0;t<e.length;t++)ju.add(e[t])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xa=Object.prototype.hasOwnProperty,yf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Co={},Eo={};function vf(t){return xa.call(Eo,t)?!0:xa.call(Co,t)?!1:yf.test(t)?Eo[t]=!0:(Co[t]=!0,!1)}function wf(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bf(t,e,r,n){if(e===null||typeof e>"u"||wf(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ce(t,e,r,n,i,a,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=l}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ye[t]=new Ce(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ye[e]=new Ce(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ye[t]=new Ce(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ye[t]=new Ce(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ye[t]=new Ce(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ye[t]=new Ce(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ye[t]=new Ce(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ye[t]=new Ce(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ye[t]=new Ce(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sl=/[\-:]([a-z])/g;function Cl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sl,Cl);ye[e]=new Ce(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sl,Cl);ye[e]=new Ce(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sl,Cl);ye[e]=new Ce(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ye[t]=new Ce(t,1,!1,t.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ye[t]=new Ce(t,1,!1,t.toLowerCase(),null,!0,!0)});function El(t,e,r,n){var i=ye.hasOwnProperty(e)?ye[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bf(e,r,i,n)&&(r=null),n||i===null?vf(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ct=xf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,os=Symbol.for("react.element"),Er=Symbol.for("react.portal"),Tr=Symbol.for("react.fragment"),Tl=Symbol.for("react.strict_mode"),ya=Symbol.for("react.profiler"),_u=Symbol.for("react.provider"),Nu=Symbol.for("react.context"),Pl=Symbol.for("react.forward_ref"),va=Symbol.for("react.suspense"),wa=Symbol.for("react.suspense_list"),Ol=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),ku=Symbol.for("react.offscreen"),To=Symbol.iterator;function ln(t){return t===null||typeof t!="object"?null:(t=To&&t[To]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,Li;function gn(t){if(Li===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Li=e&&e[1]||""}return`
`+Li+t}var Mi=!1;function Ui(t,e){if(!t||Mi)return"";Mi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,o=a.length-1;1<=l&&0<=o&&i[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==a[o]){var c=`
`+i[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{Mi=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?gn(t):""}function jf(t){switch(t.tag){case 5:return gn(t.type);case 16:return gn("Lazy");case 13:return gn("Suspense");case 19:return gn("SuspenseList");case 0:case 2:case 15:return t=Ui(t.type,!1),t;case 11:return t=Ui(t.type.render,!1),t;case 1:return t=Ui(t.type,!0),t;default:return""}}function ba(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Tr:return"Fragment";case Er:return"Portal";case ya:return"Profiler";case Tl:return"StrictMode";case va:return"Suspense";case wa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nu:return(t.displayName||"Context")+".Consumer";case _u:return(t._context.displayName||"Context")+".Provider";case Pl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ol:return e=t.displayName||null,e!==null?e:ba(t.type)||"Memo";case Rt:e=t._payload,t=t._init;try{return ba(t(e))}catch{}}return null}function _f(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ba(e);case 8:return e===Tl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Kt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Su(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Nf(t){var e=Su(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cs(t){t._valueTracker||(t._valueTracker=Nf(t))}function Cu(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Su(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ja(t,e){var r=e.checked;return re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Po(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Kt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Eu(t,e){e=e.checked,e!=null&&El(t,"checked",e,!1)}function _a(t,e){Eu(t,e);var r=Kt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Na(t,e.type,r):e.hasOwnProperty("defaultValue")&&Na(t,e.type,Kt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Oo(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Na(t,e,r){(e!=="number"||Bs(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var xn=Array.isArray;function Fr(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Kt(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ka(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ro(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(k(92));if(xn(r)){if(1<r.length)throw Error(k(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Kt(r)}}function Tu(t,e){var r=Kt(e.value),n=Kt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Io(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Pu(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Pu(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var us,Ou=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(us=us||document.createElement("div"),us.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=us.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kf=["Webkit","ms","Moz","O"];Object.keys(bn).forEach(function(t){kf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bn[e]=bn[t]})});function Ru(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||bn.hasOwnProperty(t)&&bn[t]?(""+e).trim():e+"px"}function Iu(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Ru(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Sf=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ca(t,e){if(e){if(Sf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function Ea(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ta=null;function Rl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pa=null,zr=null,Br=null;function $o(t){if(t=ts(t)){if(typeof Pa!="function")throw Error(k(280));var e=t.stateNode;e&&(e=wi(e),Pa(t.stateNode,t.type,e))}}function $u(t){zr?Br?Br.push(t):Br=[t]:zr=t}function Du(){if(zr){var t=zr,e=Br;if(Br=zr=null,$o(t),e)for(t=0;t<e.length;t++)$o(e[t])}}function Au(t,e){return t(e)}function Lu(){}var Fi=!1;function Mu(t,e,r){if(Fi)return t(e,r);Fi=!0;try{return Au(t,e,r)}finally{Fi=!1,(zr!==null||Br!==null)&&(Lu(),Du())}}function An(t,e){var r=t.stateNode;if(r===null)return null;var n=wi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(k(231,e,typeof r));return r}var Oa=!1;if(_t)try{var on={};Object.defineProperty(on,"passive",{get:function(){Oa=!0}}),window.addEventListener("test",on,on),window.removeEventListener("test",on,on)}catch{Oa=!1}function Cf(t,e,r,n,i,a,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var jn=!1,qs=null,Ws=!1,Ra=null,Ef={onError:function(t){jn=!0,qs=t}};function Tf(t,e,r,n,i,a,l,o,c){jn=!1,qs=null,Cf.apply(Ef,arguments)}function Pf(t,e,r,n,i,a,l,o,c){if(Tf.apply(this,arguments),jn){if(jn){var u=qs;jn=!1,qs=null}else throw Error(k(198));Ws||(Ws=!0,Ra=u)}}function yr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Uu(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Do(t){if(yr(t)!==t)throw Error(k(188))}function Of(t){var e=t.alternate;if(!e){if(e=yr(t),e===null)throw Error(k(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Do(i),t;if(a===n)return Do(i),e;a=a.sibling}throw Error(k(188))}if(r.return!==n.return)r=i,n=a;else{for(var l=!1,o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l)throw Error(k(189))}}if(r.alternate!==n)throw Error(k(190))}if(r.tag!==3)throw Error(k(188));return r.stateNode.current===r?t:e}function Fu(t){return t=Of(t),t!==null?zu(t):null}function zu(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zu(t);if(e!==null)return e;t=t.sibling}return null}var Bu=Fe.unstable_scheduleCallback,Ao=Fe.unstable_cancelCallback,Rf=Fe.unstable_shouldYield,If=Fe.unstable_requestPaint,ie=Fe.unstable_now,$f=Fe.unstable_getCurrentPriorityLevel,Il=Fe.unstable_ImmediatePriority,qu=Fe.unstable_UserBlockingPriority,Hs=Fe.unstable_NormalPriority,Df=Fe.unstable_LowPriority,Wu=Fe.unstable_IdlePriority,gi=null,ht=null;function Af(t){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(gi,t,void 0,(t.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:Uf,Lf=Math.log,Mf=Math.LN2;function Uf(t){return t>>>=0,t===0?32:31-(Lf(t)/Mf|0)|0}var ds=64,hs=4194304;function yn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vs(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,l=r&268435455;if(l!==0){var o=l&~i;o!==0?n=yn(o):(a&=l,a!==0&&(n=yn(a)))}else l=r&~i,l!==0?n=yn(l):a!==0&&(n=yn(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-st(e),i=1<<r,n|=t[r],e&=~i;return n}function Ff(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zf(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-st(a),o=1<<l,c=i[l];c===-1?(!(o&r)||o&n)&&(i[l]=Ff(o,e)):c<=e&&(t.expiredLanes|=o),a&=~o}}function Ia(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hu(){var t=ds;return ds<<=1,!(ds&4194240)&&(ds=64),t}function zi(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Zn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-st(e),t[e]=r}function Bf(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-st(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function $l(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-st(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var H=0;function Vu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ju,Dl,Ku,Gu,Qu,$a=!1,fs=[],Ft=null,zt=null,Bt=null,Ln=new Map,Mn=new Map,$t=[],qf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lo(t,e){switch(t){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Ln.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mn.delete(e.pointerId)}}function cn(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=ts(e),e!==null&&Dl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Wf(t,e,r,n,i){switch(e){case"focusin":return Ft=cn(Ft,t,e,r,n,i),!0;case"dragenter":return zt=cn(zt,t,e,r,n,i),!0;case"mouseover":return Bt=cn(Bt,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ln.set(a,cn(Ln.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Mn.set(a,cn(Mn.get(a)||null,t,e,r,n,i)),!0}return!1}function Yu(t){var e=ar(t.target);if(e!==null){var r=yr(e);if(r!==null){if(e=r.tag,e===13){if(e=Uu(r),e!==null){t.blockedOn=e,Qu(t.priority,function(){Ku(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Os(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Da(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ta=n,r.target.dispatchEvent(n),Ta=null}else return e=ts(r),e!==null&&Dl(e),t.blockedOn=r,!1;e.shift()}return!0}function Mo(t,e,r){Os(t)&&r.delete(e)}function Hf(){$a=!1,Ft!==null&&Os(Ft)&&(Ft=null),zt!==null&&Os(zt)&&(zt=null),Bt!==null&&Os(Bt)&&(Bt=null),Ln.forEach(Mo),Mn.forEach(Mo)}function un(t,e){t.blockedOn===e&&(t.blockedOn=null,$a||($a=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,Hf)))}function Un(t){function e(i){return un(i,t)}if(0<fs.length){un(fs[0],t);for(var r=1;r<fs.length;r++){var n=fs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ft!==null&&un(Ft,t),zt!==null&&un(zt,t),Bt!==null&&un(Bt,t),Ln.forEach(e),Mn.forEach(e),r=0;r<$t.length;r++)n=$t[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<$t.length&&(r=$t[0],r.blockedOn===null);)Yu(r),r.blockedOn===null&&$t.shift()}var qr=Ct.ReactCurrentBatchConfig,Js=!0;function Vf(t,e,r,n){var i=H,a=qr.transition;qr.transition=null;try{H=1,Al(t,e,r,n)}finally{H=i,qr.transition=a}}function Jf(t,e,r,n){var i=H,a=qr.transition;qr.transition=null;try{H=4,Al(t,e,r,n)}finally{H=i,qr.transition=a}}function Al(t,e,r,n){if(Js){var i=Da(t,e,r,n);if(i===null)Yi(t,e,n,Ks,r),Lo(t,n);else if(Wf(i,t,e,r,n))n.stopPropagation();else if(Lo(t,n),e&4&&-1<qf.indexOf(t)){for(;i!==null;){var a=ts(i);if(a!==null&&Ju(a),a=Da(t,e,r,n),a===null&&Yi(t,e,n,Ks,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Yi(t,e,n,null,r)}}var Ks=null;function Da(t,e,r,n){if(Ks=null,t=Rl(n),t=ar(t),t!==null)if(e=yr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Uu(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ks=t,null}function Xu(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($f()){case Il:return 1;case qu:return 4;case Hs:case Df:return 16;case Wu:return 536870912;default:return 16}default:return 16}}var Lt=null,Ll=null,Rs=null;function Zu(){if(Rs)return Rs;var t,e=Ll,r=e.length,n,i="value"in Lt?Lt.value:Lt.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var l=r-t;for(n=1;n<=l&&e[r-n]===i[a-n];n++);return Rs=i.slice(t,1<n?1-n:void 0)}function Is(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ms(){return!0}function Uo(){return!1}function Be(t){function e(r,n,i,a,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ms:Uo,this.isPropagationStopped=Uo,this}return re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),e}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=Be(tn),es=re({},tn,{view:0,detail:0}),Kf=Be(es),Bi,qi,dn,xi=re({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ul,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dn&&(dn&&t.type==="mousemove"?(Bi=t.screenX-dn.screenX,qi=t.screenY-dn.screenY):qi=Bi=0,dn=t),Bi)},movementY:function(t){return"movementY"in t?t.movementY:qi}}),Fo=Be(xi),Gf=re({},xi,{dataTransfer:0}),Qf=Be(Gf),Yf=re({},es,{relatedTarget:0}),Wi=Be(Yf),Xf=re({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),Zf=Be(Xf),em=re({},tn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tm=Be(em),rm=re({},tn,{data:0}),zo=Be(rm),nm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},im={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function am(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=im[t])?!!e[t]:!1}function Ul(){return am}var lm=re({},es,{key:function(t){if(t.key){var e=nm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ul,charCode:function(t){return t.type==="keypress"?Is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),om=Be(lm),cm=re({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=Be(cm),um=re({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ul}),dm=Be(um),hm=re({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),fm=Be(hm),mm=re({},xi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pm=Be(mm),gm=[9,13,27,32],Fl=_t&&"CompositionEvent"in window,_n=null;_t&&"documentMode"in document&&(_n=document.documentMode);var xm=_t&&"TextEvent"in window&&!_n,ed=_t&&(!Fl||_n&&8<_n&&11>=_n),qo=" ",Wo=!1;function td(t,e){switch(t){case"keyup":return gm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pr=!1;function ym(t,e){switch(t){case"compositionend":return rd(e);case"keypress":return e.which!==32?null:(Wo=!0,qo);case"textInput":return t=e.data,t===qo&&Wo?null:t;default:return null}}function vm(t,e){if(Pr)return t==="compositionend"||!Fl&&td(t,e)?(t=Zu(),Rs=Ll=Lt=null,Pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ed&&e.locale!=="ko"?null:e.data;default:return null}}var wm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ho(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wm[t.type]:e==="textarea"}function nd(t,e,r,n){$u(n),e=Gs(e,"onChange"),0<e.length&&(r=new Ml("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Nn=null,Fn=null;function bm(t){md(t,0)}function yi(t){var e=Ir(t);if(Cu(e))return t}function jm(t,e){if(t==="change")return e}var sd=!1;if(_t){var Hi;if(_t){var Vi="oninput"in document;if(!Vi){var Vo=document.createElement("div");Vo.setAttribute("oninput","return;"),Vi=typeof Vo.oninput=="function"}Hi=Vi}else Hi=!1;sd=Hi&&(!document.documentMode||9<document.documentMode)}function Jo(){Nn&&(Nn.detachEvent("onpropertychange",id),Fn=Nn=null)}function id(t){if(t.propertyName==="value"&&yi(Fn)){var e=[];nd(e,Fn,t,Rl(t)),Mu(bm,e)}}function _m(t,e,r){t==="focusin"?(Jo(),Nn=e,Fn=r,Nn.attachEvent("onpropertychange",id)):t==="focusout"&&Jo()}function Nm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yi(Fn)}function km(t,e){if(t==="click")return yi(e)}function Sm(t,e){if(t==="input"||t==="change")return yi(e)}function Cm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var at=typeof Object.is=="function"?Object.is:Cm;function zn(t,e){if(at(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!xa.call(e,i)||!at(t[i],e[i]))return!1}return!0}function Ko(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Go(t,e){var r=Ko(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ko(r)}}function ad(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ad(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ld(){for(var t=window,e=Bs();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Bs(t.document)}return e}function zl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Em(t){var e=ld(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&ad(r.ownerDocument.documentElement,r)){if(n!==null&&zl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=Go(r,a);var l=Go(r,n);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Tm=_t&&"documentMode"in document&&11>=document.documentMode,Or=null,Aa=null,kn=null,La=!1;function Qo(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;La||Or==null||Or!==Bs(n)||(n=Or,"selectionStart"in n&&zl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kn&&zn(kn,n)||(kn=n,n=Gs(Aa,"onSelect"),0<n.length&&(e=new Ml("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Or)))}function ps(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Rr={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionend:ps("Transition","TransitionEnd")},Ji={},od={};_t&&(od=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function vi(t){if(Ji[t])return Ji[t];if(!Rr[t])return t;var e=Rr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in od)return Ji[t]=e[r];return t}var cd=vi("animationend"),ud=vi("animationiteration"),dd=vi("animationstart"),hd=vi("transitionend"),fd=new Map,Yo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(t,e){fd.set(t,e),xr(e,[t])}for(var Ki=0;Ki<Yo.length;Ki++){var Gi=Yo[Ki],Pm=Gi.toLowerCase(),Om=Gi[0].toUpperCase()+Gi.slice(1);Qt(Pm,"on"+Om)}Qt(cd,"onAnimationEnd");Qt(ud,"onAnimationIteration");Qt(dd,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(hd,"onTransitionEnd");Vr("onMouseEnter",["mouseout","mouseover"]);Vr("onMouseLeave",["mouseout","mouseover"]);Vr("onPointerEnter",["pointerout","pointerover"]);Vr("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rm=new Set("cancel close invalid load scroll toggle".split(" ").concat(vn));function Xo(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Pf(n,e,void 0,t),t.currentTarget=null}function md(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;Xo(i,o,u),a=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;Xo(i,o,u),a=c}}}if(Ws)throw t=Ra,Ws=!1,Ra=null,t}function G(t,e){var r=e[Ba];r===void 0&&(r=e[Ba]=new Set);var n=t+"__bubble";r.has(n)||(pd(e,t,2,!1),r.add(n))}function Qi(t,e,r){var n=0;e&&(n|=4),pd(r,t,n,e)}var gs="_reactListening"+Math.random().toString(36).slice(2);function Bn(t){if(!t[gs]){t[gs]=!0,ju.forEach(function(r){r!=="selectionchange"&&(Rm.has(r)||Qi(r,!1,t),Qi(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gs]||(e[gs]=!0,Qi("selectionchange",!1,e))}}function pd(t,e,r,n){switch(Xu(e)){case 1:var i=Vf;break;case 4:i=Jf;break;default:i=Al}r=i.bind(null,e,r,t),i=void 0,!Oa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Yi(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;o!==null;){if(l=ar(o),l===null)return;if(c=l.tag,c===5||c===6){n=a=l;continue e}o=o.parentNode}}n=n.return}Mu(function(){var u=a,d=Rl(r),h=[];e:{var f=fd.get(t);if(f!==void 0){var x=Ml,y=t;switch(t){case"keypress":if(Is(r)===0)break e;case"keydown":case"keyup":x=om;break;case"focusin":y="focus",x=Wi;break;case"focusout":y="blur",x=Wi;break;case"beforeblur":case"afterblur":x=Wi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=dm;break;case cd:case ud:case dd:x=Zf;break;case hd:x=fm;break;case"scroll":x=Kf;break;case"wheel":x=pm;break;case"copy":case"cut":case"paste":x=tm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Bo}var b=(e&4)!==0,S=!b&&t==="scroll",g=b?f!==null?f+"Capture":null:f;b=[];for(var p=u,m;p!==null;){m=p;var v=m.stateNode;if(m.tag===5&&v!==null&&(m=v,g!==null&&(v=An(p,g),v!=null&&b.push(qn(p,v,m)))),S)break;p=p.return}0<b.length&&(f=new x(f,y,null,r,d),h.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",f&&r!==Ta&&(y=r.relatedTarget||r.fromElement)&&(ar(y)||y[Nt]))break e;if((x||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,x?(y=r.relatedTarget||r.toElement,x=u,y=y?ar(y):null,y!==null&&(S=yr(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=u),x!==y)){if(b=Fo,v="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(b=Bo,v="onPointerLeave",g="onPointerEnter",p="pointer"),S=x==null?f:Ir(x),m=y==null?f:Ir(y),f=new b(v,p+"leave",x,r,d),f.target=S,f.relatedTarget=m,v=null,ar(d)===u&&(b=new b(g,p+"enter",y,r,d),b.target=m,b.relatedTarget=S,v=b),S=v,x&&y)t:{for(b=x,g=y,p=0,m=b;m;m=wr(m))p++;for(m=0,v=g;v;v=wr(v))m++;for(;0<p-m;)b=wr(b),p--;for(;0<m-p;)g=wr(g),m--;for(;p--;){if(b===g||g!==null&&b===g.alternate)break t;b=wr(b),g=wr(g)}b=null}else b=null;x!==null&&Zo(h,f,x,b,!1),y!==null&&S!==null&&Zo(h,S,y,b,!0)}}e:{if(f=u?Ir(u):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var w=jm;else if(Ho(f))if(sd)w=Sm;else{w=Nm;var _=_m}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=km);if(w&&(w=w(t,u))){nd(h,w,r,d);break e}_&&_(t,f,u),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Na(f,"number",f.value)}switch(_=u?Ir(u):window,t){case"focusin":(Ho(_)||_.contentEditable==="true")&&(Or=_,Aa=u,kn=null);break;case"focusout":kn=Aa=Or=null;break;case"mousedown":La=!0;break;case"contextmenu":case"mouseup":case"dragend":La=!1,Qo(h,r,d);break;case"selectionchange":if(Tm)break;case"keydown":case"keyup":Qo(h,r,d)}var N;if(Fl)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Pr?td(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(ed&&r.locale!=="ko"&&(Pr||T!=="onCompositionStart"?T==="onCompositionEnd"&&Pr&&(N=Zu()):(Lt=d,Ll="value"in Lt?Lt.value:Lt.textContent,Pr=!0)),_=Gs(u,T),0<_.length&&(T=new zo(T,t,null,r,d),h.push({event:T,listeners:_}),N?T.data=N:(N=rd(r),N!==null&&(T.data=N)))),(N=xm?ym(t,r):vm(t,r))&&(u=Gs(u,"onBeforeInput"),0<u.length&&(d=new zo("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=N))}md(h,e)})}function qn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Gs(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=An(t,r),a!=null&&n.unshift(qn(t,a,i)),a=An(t,e),a!=null&&n.push(qn(t,a,i))),t=t.return}return n}function wr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Zo(t,e,r,n,i){for(var a=e._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,i?(c=An(r,a),c!=null&&l.unshift(qn(r,c,o))):i||(c=An(r,a),c!=null&&l.push(qn(r,c,o)))),r=r.return}l.length!==0&&t.push({event:e,listeners:l})}var Im=/\r\n?/g,$m=/\u0000|\uFFFD/g;function ec(t){return(typeof t=="string"?t:""+t).replace(Im,`
`).replace($m,"")}function xs(t,e,r){if(e=ec(e),ec(t)!==e&&r)throw Error(k(425))}function Qs(){}var Ma=null,Ua=null;function Fa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var za=typeof setTimeout=="function"?setTimeout:void 0,Dm=typeof clearTimeout=="function"?clearTimeout:void 0,tc=typeof Promise=="function"?Promise:void 0,Am=typeof queueMicrotask=="function"?queueMicrotask:typeof tc<"u"?function(t){return tc.resolve(null).then(t).catch(Lm)}:za;function Lm(t){setTimeout(function(){throw t})}function Xi(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Un(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Un(e)}function qt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var rn=Math.random().toString(36).slice(2),dt="__reactFiber$"+rn,Wn="__reactProps$"+rn,Nt="__reactContainer$"+rn,Ba="__reactEvents$"+rn,Mm="__reactListeners$"+rn,Um="__reactHandles$"+rn;function ar(t){var e=t[dt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Nt]||r[dt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=rc(t);t!==null;){if(r=t[dt])return r;t=rc(t)}return e}t=r,r=t.parentNode}return null}function ts(t){return t=t[dt]||t[Nt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ir(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function wi(t){return t[Wn]||null}var qa=[],$r=-1;function Yt(t){return{current:t}}function Q(t){0>$r||(t.current=qa[$r],qa[$r]=null,$r--)}function K(t,e){$r++,qa[$r]=t.current,t.current=e}var Gt={},je=Yt(Gt),Oe=Yt(!1),dr=Gt;function Jr(t,e){var r=t.type.contextTypes;if(!r)return Gt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Re(t){return t=t.childContextTypes,t!=null}function Ys(){Q(Oe),Q(je)}function nc(t,e,r){if(je.current!==Gt)throw Error(k(168));K(je,e),K(Oe,r)}function gd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(k(108,_f(t)||"Unknown",i));return re({},r,n)}function Xs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gt,dr=je.current,K(je,t),K(Oe,Oe.current),!0}function sc(t,e,r){var n=t.stateNode;if(!n)throw Error(k(169));r?(t=gd(t,e,dr),n.__reactInternalMemoizedMergedChildContext=t,Q(Oe),Q(je),K(je,t)):Q(Oe),K(Oe,r)}var xt=null,bi=!1,Zi=!1;function xd(t){xt===null?xt=[t]:xt.push(t)}function Fm(t){bi=!0,xd(t)}function Xt(){if(!Zi&&xt!==null){Zi=!0;var t=0,e=H;try{var r=xt;for(H=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}xt=null,bi=!1}catch(i){throw xt!==null&&(xt=xt.slice(t+1)),Bu(Il,Xt),i}finally{H=e,Zi=!1}}return null}var Dr=[],Ar=0,Zs=null,ei=0,We=[],He=0,hr=null,yt=1,vt="";function rr(t,e){Dr[Ar++]=ei,Dr[Ar++]=Zs,Zs=t,ei=e}function yd(t,e,r){We[He++]=yt,We[He++]=vt,We[He++]=hr,hr=t;var n=yt;t=vt;var i=32-st(n)-1;n&=~(1<<i),r+=1;var a=32-st(e)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,yt=1<<32-st(e)+i|r<<i|n,vt=a+t}else yt=1<<a|r<<i|n,vt=t}function Bl(t){t.return!==null&&(rr(t,1),yd(t,1,0))}function ql(t){for(;t===Zs;)Zs=Dr[--Ar],Dr[Ar]=null,ei=Dr[--Ar],Dr[Ar]=null;for(;t===hr;)hr=We[--He],We[He]=null,vt=We[--He],We[He]=null,yt=We[--He],We[He]=null}var Ue=null,Me=null,X=!1,nt=null;function vd(t,e){var r=Je(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ic(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ue=t,Me=qt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ue=t,Me=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=hr!==null?{id:yt,overflow:vt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Je(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ue=t,Me=null,!0):!1;default:return!1}}function Wa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ha(t){if(X){var e=Me;if(e){var r=e;if(!ic(t,e)){if(Wa(t))throw Error(k(418));e=qt(r.nextSibling);var n=Ue;e&&ic(t,e)?vd(n,r):(t.flags=t.flags&-4097|2,X=!1,Ue=t)}}else{if(Wa(t))throw Error(k(418));t.flags=t.flags&-4097|2,X=!1,Ue=t}}}function ac(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ue=t}function ys(t){if(t!==Ue)return!1;if(!X)return ac(t),X=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fa(t.type,t.memoizedProps)),e&&(e=Me)){if(Wa(t))throw wd(),Error(k(418));for(;e;)vd(t,e),e=qt(e.nextSibling)}if(ac(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Me=qt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Me=null}}else Me=Ue?qt(t.stateNode.nextSibling):null;return!0}function wd(){for(var t=Me;t;)t=qt(t.nextSibling)}function Kr(){Me=Ue=null,X=!1}function Wl(t){nt===null?nt=[t]:nt.push(t)}var zm=Ct.ReactCurrentBatchConfig;function hn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(k(309));var n=r.stateNode}if(!n)throw Error(k(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(l){var o=i.refs;l===null?delete o[a]:o[a]=l},e._stringRef=a,e)}if(typeof t!="string")throw Error(k(284));if(!r._owner)throw Error(k(290,t))}return t}function vs(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lc(t){var e=t._init;return e(t._payload)}function bd(t){function e(g,p){if(t){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function r(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=Jt(g,p),g.index=0,g.sibling=null,g}function a(g,p,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function l(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,p,m,v){return p===null||p.tag!==6?(p=aa(m,g.mode,v),p.return=g,p):(p=i(p,m),p.return=g,p)}function c(g,p,m,v){var w=m.type;return w===Tr?d(g,p,m.props.children,v,m.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Rt&&lc(w)===p.type)?(v=i(p,m.props),v.ref=hn(g,p,m),v.return=g,v):(v=Fs(m.type,m.key,m.props,null,g.mode,v),v.ref=hn(g,p,m),v.return=g,v)}function u(g,p,m,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=la(m,g.mode,v),p.return=g,p):(p=i(p,m.children||[]),p.return=g,p)}function d(g,p,m,v,w){return p===null||p.tag!==7?(p=ur(m,g.mode,v,w),p.return=g,p):(p=i(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=aa(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case os:return m=Fs(p.type,p.key,p.props,null,g.mode,m),m.ref=hn(g,null,p),m.return=g,m;case Er:return p=la(p,g.mode,m),p.return=g,p;case Rt:var v=p._init;return h(g,v(p._payload),m)}if(xn(p)||ln(p))return p=ur(p,g.mode,m,null),p.return=g,p;vs(g,p)}return null}function f(g,p,m,v){var w=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return w!==null?null:o(g,p,""+m,v);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case os:return m.key===w?c(g,p,m,v):null;case Er:return m.key===w?u(g,p,m,v):null;case Rt:return w=m._init,f(g,p,w(m._payload),v)}if(xn(m)||ln(m))return w!==null?null:d(g,p,m,v,null);vs(g,m)}return null}function x(g,p,m,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return g=g.get(m)||null,o(p,g,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case os:return g=g.get(v.key===null?m:v.key)||null,c(p,g,v,w);case Er:return g=g.get(v.key===null?m:v.key)||null,u(p,g,v,w);case Rt:var _=v._init;return x(g,p,m,_(v._payload),w)}if(xn(v)||ln(v))return g=g.get(m)||null,d(p,g,v,w,null);vs(p,v)}return null}function y(g,p,m,v){for(var w=null,_=null,N=p,T=p=0,M=null;N!==null&&T<m.length;T++){N.index>T?(M=N,N=null):M=N.sibling;var R=f(g,N,m[T],v);if(R===null){N===null&&(N=M);break}t&&N&&R.alternate===null&&e(g,N),p=a(R,p,T),_===null?w=R:_.sibling=R,_=R,N=M}if(T===m.length)return r(g,N),X&&rr(g,T),w;if(N===null){for(;T<m.length;T++)N=h(g,m[T],v),N!==null&&(p=a(N,p,T),_===null?w=N:_.sibling=N,_=N);return X&&rr(g,T),w}for(N=n(g,N);T<m.length;T++)M=x(N,g,T,m[T],v),M!==null&&(t&&M.alternate!==null&&N.delete(M.key===null?T:M.key),p=a(M,p,T),_===null?w=M:_.sibling=M,_=M);return t&&N.forEach(function(Y){return e(g,Y)}),X&&rr(g,T),w}function b(g,p,m,v){var w=ln(m);if(typeof w!="function")throw Error(k(150));if(m=w.call(m),m==null)throw Error(k(151));for(var _=w=null,N=p,T=p=0,M=null,R=m.next();N!==null&&!R.done;T++,R=m.next()){N.index>T?(M=N,N=null):M=N.sibling;var Y=f(g,N,R.value,v);if(Y===null){N===null&&(N=M);break}t&&N&&Y.alternate===null&&e(g,N),p=a(Y,p,T),_===null?w=Y:_.sibling=Y,_=Y,N=M}if(R.done)return r(g,N),X&&rr(g,T),w;if(N===null){for(;!R.done;T++,R=m.next())R=h(g,R.value,v),R!==null&&(p=a(R,p,T),_===null?w=R:_.sibling=R,_=R);return X&&rr(g,T),w}for(N=n(g,N);!R.done;T++,R=m.next())R=x(N,g,T,R.value,v),R!==null&&(t&&R.alternate!==null&&N.delete(R.key===null?T:R.key),p=a(R,p,T),_===null?w=R:_.sibling=R,_=R);return t&&N.forEach(function(qe){return e(g,qe)}),X&&rr(g,T),w}function S(g,p,m,v){if(typeof m=="object"&&m!==null&&m.type===Tr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case os:e:{for(var w=m.key,_=p;_!==null;){if(_.key===w){if(w=m.type,w===Tr){if(_.tag===7){r(g,_.sibling),p=i(_,m.props.children),p.return=g,g=p;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Rt&&lc(w)===_.type){r(g,_.sibling),p=i(_,m.props),p.ref=hn(g,_,m),p.return=g,g=p;break e}r(g,_);break}else e(g,_);_=_.sibling}m.type===Tr?(p=ur(m.props.children,g.mode,v,m.key),p.return=g,g=p):(v=Fs(m.type,m.key,m.props,null,g.mode,v),v.ref=hn(g,p,m),v.return=g,g=v)}return l(g);case Er:e:{for(_=m.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(g,p.sibling),p=i(p,m.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else e(g,p);p=p.sibling}p=la(m,g.mode,v),p.return=g,g=p}return l(g);case Rt:return _=m._init,S(g,p,_(m._payload),v)}if(xn(m))return y(g,p,m,v);if(ln(m))return b(g,p,m,v);vs(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(g,p.sibling),p=i(p,m),p.return=g,g=p):(r(g,p),p=aa(m,g.mode,v),p.return=g,g=p),l(g)):r(g,p)}return S}var Gr=bd(!0),jd=bd(!1),ti=Yt(null),ri=null,Lr=null,Hl=null;function Vl(){Hl=Lr=ri=null}function Jl(t){var e=ti.current;Q(ti),t._currentValue=e}function Va(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Wr(t,e){ri=t,Hl=Lr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pe=!0),t.firstContext=null)}function Qe(t){var e=t._currentValue;if(Hl!==t)if(t={context:t,memoizedValue:e,next:null},Lr===null){if(ri===null)throw Error(k(308));Lr=t,ri.dependencies={lanes:0,firstContext:t}}else Lr=Lr.next=t;return e}var lr=null;function Kl(t){lr===null?lr=[t]:lr.push(t)}function _d(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Kl(e)):(r.next=i.next,i.next=r),e.interleaved=r,kt(t,n)}function kt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var It=!1;function Gl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,B&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,kt(t,r)}return i=n.interleaved,i===null?(e.next=e,Kl(n)):(e.next=i.next,i.next=e),n.interleaved=e,kt(t,r)}function $s(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$l(t,r)}}function oc(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ni(t,e,r,n){var i=t.updateQueue;It=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?a=u:l.next=u,l=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;l=0,d=u=c=null,o=a;do{var f=o.lane,x=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,b=o;switch(f=e,x=r,b.tag){case 1:if(y=b.payload,typeof y=="function"){h=y.call(x,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,f=typeof y=="function"?y.call(x,h,f):y,f==null)break e;h=re({},h,f);break e;case 2:It=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else x={eventTime:x,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=x,c=h):d=d.next=x,l|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);mr|=l,t.lanes=l,t.memoizedState=h}}function cc(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(k(191,i));i.call(n)}}}var rs={},ft=Yt(rs),Hn=Yt(rs),Vn=Yt(rs);function or(t){if(t===rs)throw Error(k(174));return t}function Ql(t,e){switch(K(Vn,e),K(Hn,t),K(ft,rs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sa(e,t)}Q(ft),K(ft,e)}function Qr(){Q(ft),Q(Hn),Q(Vn)}function kd(t){or(Vn.current);var e=or(ft.current),r=Sa(e,t.type);e!==r&&(K(Hn,t),K(ft,r))}function Yl(t){Hn.current===t&&(Q(ft),Q(Hn))}var ee=Yt(0);function si(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ea=[];function Xl(){for(var t=0;t<ea.length;t++)ea[t]._workInProgressVersionPrimary=null;ea.length=0}var Ds=Ct.ReactCurrentDispatcher,ta=Ct.ReactCurrentBatchConfig,fr=0,te=null,ue=null,me=null,ii=!1,Sn=!1,Jn=0,Bm=0;function ve(){throw Error(k(321))}function Zl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!at(t[r],e[r]))return!1;return!0}function eo(t,e,r,n,i,a){if(fr=a,te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ds.current=t===null||t.memoizedState===null?Vm:Jm,t=r(n,i),Sn){a=0;do{if(Sn=!1,Jn=0,25<=a)throw Error(k(301));a+=1,me=ue=null,e.updateQueue=null,Ds.current=Km,t=r(n,i)}while(Sn)}if(Ds.current=ai,e=ue!==null&&ue.next!==null,fr=0,me=ue=te=null,ii=!1,e)throw Error(k(300));return t}function to(){var t=Jn!==0;return Jn=0,t}function ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?te.memoizedState=me=t:me=me.next=t,me}function Ye(){if(ue===null){var t=te.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=me===null?te.memoizedState:me.next;if(e!==null)me=e,ue=t;else{if(t===null)throw Error(k(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},me===null?te.memoizedState=me=t:me=me.next=t}return me}function Kn(t,e){return typeof e=="function"?e(t):e}function ra(t){var e=Ye(),r=e.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=t;var n=ue,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=l=null,c=null,u=a;do{var d=u.lane;if((fr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,l=n):c=c.next=h,te.lanes|=d,mr|=d}u=u.next}while(u!==null&&u!==a);c===null?l=n:c.next=o,at(n,e.memoizedState)||(Pe=!0),e.memoizedState=n,e.baseState=l,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,te.lanes|=a,mr|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function na(t){var e=Ye(),r=e.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do a=t(a,l.action),l=l.next;while(l!==i);at(a,e.memoizedState)||(Pe=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function Sd(){}function Cd(t,e){var r=te,n=Ye(),i=e(),a=!at(n.memoizedState,i);if(a&&(n.memoizedState=i,Pe=!0),n=n.queue,ro(Pd.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||me!==null&&me.memoizedState.tag&1){if(r.flags|=2048,Gn(9,Td.bind(null,r,n,i,e),void 0,null),pe===null)throw Error(k(349));fr&30||Ed(r,e,i)}return i}function Ed(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Td(t,e,r,n){e.value=r,e.getSnapshot=n,Od(e)&&Rd(t)}function Pd(t,e,r){return r(function(){Od(e)&&Rd(t)})}function Od(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!at(t,r)}catch{return!0}}function Rd(t){var e=kt(t,1);e!==null&&it(e,t,1,-1)}function uc(t){var e=ct();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:t},e.queue=t,t=t.dispatch=Hm.bind(null,te,t),[e.memoizedState,t]}function Gn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Id(){return Ye().memoizedState}function As(t,e,r,n){var i=ct();te.flags|=t,i.memoizedState=Gn(1|e,r,void 0,n===void 0?null:n)}function ji(t,e,r,n){var i=Ye();n=n===void 0?null:n;var a=void 0;if(ue!==null){var l=ue.memoizedState;if(a=l.destroy,n!==null&&Zl(n,l.deps)){i.memoizedState=Gn(e,r,a,n);return}}te.flags|=t,i.memoizedState=Gn(1|e,r,a,n)}function dc(t,e){return As(8390656,8,t,e)}function ro(t,e){return ji(2048,8,t,e)}function $d(t,e){return ji(4,2,t,e)}function Dd(t,e){return ji(4,4,t,e)}function Ad(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ld(t,e,r){return r=r!=null?r.concat([t]):null,ji(4,4,Ad.bind(null,e,t),r)}function no(){}function Md(t,e){var r=Ye();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Zl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Ud(t,e){var r=Ye();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Zl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Fd(t,e,r){return fr&21?(at(r,e)||(r=Hu(),te.lanes|=r,mr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pe=!0),t.memoizedState=r)}function qm(t,e){var r=H;H=r!==0&&4>r?r:4,t(!0);var n=ta.transition;ta.transition={};try{t(!1),e()}finally{H=r,ta.transition=n}}function zd(){return Ye().memoizedState}function Wm(t,e,r){var n=Vt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Bd(t))qd(e,r);else if(r=_d(t,e,r,n),r!==null){var i=ke();it(r,t,n,i),Wd(r,e,n)}}function Hm(t,e,r){var n=Vt(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bd(t))qd(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,o=a(l,r);if(i.hasEagerState=!0,i.eagerState=o,at(o,l)){var c=e.interleaved;c===null?(i.next=i,Kl(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=_d(t,e,i,n),r!==null&&(i=ke(),it(r,t,n,i),Wd(r,e,n))}}function Bd(t){var e=t.alternate;return t===te||e!==null&&e===te}function qd(t,e){Sn=ii=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Wd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$l(t,r)}}var ai={readContext:Qe,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},Vm={readContext:Qe,useCallback:function(t,e){return ct().memoizedState=[t,e===void 0?null:e],t},useContext:Qe,useEffect:dc,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,As(4194308,4,Ad.bind(null,e,t),r)},useLayoutEffect:function(t,e){return As(4194308,4,t,e)},useInsertionEffect:function(t,e){return As(4,2,t,e)},useMemo:function(t,e){var r=ct();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ct();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Wm.bind(null,te,t),[n.memoizedState,t]},useRef:function(t){var e=ct();return t={current:t},e.memoizedState=t},useState:uc,useDebugValue:no,useDeferredValue:function(t){return ct().memoizedState=t},useTransition:function(){var t=uc(!1),e=t[0];return t=qm.bind(null,t[1]),ct().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=te,i=ct();if(X){if(r===void 0)throw Error(k(407));r=r()}else{if(r=e(),pe===null)throw Error(k(349));fr&30||Ed(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,dc(Pd.bind(null,n,a,t),[t]),n.flags|=2048,Gn(9,Td.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=ct(),e=pe.identifierPrefix;if(X){var r=vt,n=yt;r=(n&~(1<<32-st(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Jn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Bm++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Jm={readContext:Qe,useCallback:Md,useContext:Qe,useEffect:ro,useImperativeHandle:Ld,useInsertionEffect:$d,useLayoutEffect:Dd,useMemo:Ud,useReducer:ra,useRef:Id,useState:function(){return ra(Kn)},useDebugValue:no,useDeferredValue:function(t){var e=Ye();return Fd(e,ue.memoizedState,t)},useTransition:function(){var t=ra(Kn)[0],e=Ye().memoizedState;return[t,e]},useMutableSource:Sd,useSyncExternalStore:Cd,useId:zd,unstable_isNewReconciler:!1},Km={readContext:Qe,useCallback:Md,useContext:Qe,useEffect:ro,useImperativeHandle:Ld,useInsertionEffect:$d,useLayoutEffect:Dd,useMemo:Ud,useReducer:na,useRef:Id,useState:function(){return na(Kn)},useDebugValue:no,useDeferredValue:function(t){var e=Ye();return ue===null?e.memoizedState=t:Fd(e,ue.memoizedState,t)},useTransition:function(){var t=na(Kn)[0],e=Ye().memoizedState;return[t,e]},useMutableSource:Sd,useSyncExternalStore:Cd,useId:zd,unstable_isNewReconciler:!1};function et(t,e){if(t&&t.defaultProps){e=re({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ja(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:re({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var _i={isMounted:function(t){return(t=t._reactInternals)?yr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ke(),i=Vt(t),a=bt(n,i);a.payload=e,r!=null&&(a.callback=r),e=Wt(t,a,i),e!==null&&(it(e,t,i,n),$s(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ke(),i=Vt(t),a=bt(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Wt(t,a,i),e!==null&&(it(e,t,i,n),$s(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ke(),n=Vt(t),i=bt(r,n);i.tag=2,e!=null&&(i.callback=e),e=Wt(t,i,n),e!==null&&(it(e,t,n,r),$s(e,t,n))}};function hc(t,e,r,n,i,a,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,l):e.prototype&&e.prototype.isPureReactComponent?!zn(r,n)||!zn(i,a):!0}function Hd(t,e,r){var n=!1,i=Gt,a=e.contextType;return typeof a=="object"&&a!==null?a=Qe(a):(i=Re(e)?dr:je.current,n=e.contextTypes,a=(n=n!=null)?Jr(t,i):Gt),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_i,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function fc(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&_i.enqueueReplaceState(e,e.state,null)}function Ka(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Gl(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Qe(a):(a=Re(e)?dr:je.current,i.context=Jr(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Ja(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_i.enqueueReplaceState(i,i.state,null),ni(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yr(t,e){try{var r="",n=e;do r+=jf(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function sa(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ga(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Gm=typeof WeakMap=="function"?WeakMap:Map;function Vd(t,e,r){r=bt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){oi||(oi=!0,il=n),Ga(t,e)},r}function Jd(t,e,r){r=bt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Ga(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Ga(t,e),typeof n!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),r}function mc(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Gm;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=cp.bind(null,t,e,r),e.then(t,t))}function pc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gc(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=bt(-1,1),e.tag=2,Wt(r,e,1))),r.lanes|=1),t)}var Qm=Ct.ReactCurrentOwner,Pe=!1;function Ne(t,e,r,n){e.child=t===null?jd(e,null,r,n):Gr(e,t.child,r,n)}function xc(t,e,r,n,i){r=r.render;var a=e.ref;return Wr(e,i),n=eo(t,e,r,n,a,i),r=to(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,St(t,e,i)):(X&&r&&Bl(e),e.flags|=1,Ne(t,e,n,i),e.child)}function yc(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!ho(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,Kd(t,e,a,n,i)):(t=Fs(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:zn,r(l,n)&&t.ref===e.ref)return St(t,e,i)}return e.flags|=1,t=Jt(a,n),t.ref=e.ref,t.return=e,e.child=t}function Kd(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(zn(a,n)&&t.ref===e.ref)if(Pe=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Pe=!0);else return e.lanes=t.lanes,St(t,e,i)}return Qa(t,e,r,n,i)}function Gd(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Ur,Ae),Ae|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(Ur,Ae),Ae|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,K(Ur,Ae),Ae|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,K(Ur,Ae),Ae|=n;return Ne(t,e,i,r),e.child}function Qd(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Qa(t,e,r,n,i){var a=Re(r)?dr:je.current;return a=Jr(e,a),Wr(e,i),r=eo(t,e,r,n,a,i),n=to(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,St(t,e,i)):(X&&n&&Bl(e),e.flags|=1,Ne(t,e,r,i),e.child)}function vc(t,e,r,n,i){if(Re(r)){var a=!0;Xs(e)}else a=!1;if(Wr(e,i),e.stateNode===null)Ls(t,e),Hd(e,r,n),Ka(e,r,n,i),n=!0;else if(t===null){var l=e.stateNode,o=e.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qe(u):(u=Re(r)?dr:je.current,u=Jr(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==u)&&fc(e,l,n,u),It=!1;var f=e.memoizedState;l.state=f,ni(e,n,l,i),c=e.memoizedState,o!==n||f!==c||Oe.current||It?(typeof d=="function"&&(Ja(e,r,d,n),c=e.memoizedState),(o=It||hc(e,r,o,n,f,c,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),l.props=n,l.state=c,l.context=u,n=o):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{l=e.stateNode,Nd(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:et(e.type,o),l.props=u,h=e.pendingProps,f=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Qe(c):(c=Re(r)?dr:je.current,c=Jr(e,c));var x=r.getDerivedStateFromProps;(d=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||f!==c)&&fc(e,l,n,c),It=!1,f=e.memoizedState,l.state=f,ni(e,n,l,i);var y=e.memoizedState;o!==h||f!==y||Oe.current||It?(typeof x=="function"&&(Ja(e,r,x,n),y=e.memoizedState),(u=It||hc(e,r,u,n,f,y,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,y,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,y,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),l.props=n,l.state=y,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Ya(t,e,r,n,a,i)}function Ya(t,e,r,n,i,a){Qd(t,e);var l=(e.flags&128)!==0;if(!n&&!l)return i&&sc(e,r,!1),St(t,e,a);n=e.stateNode,Qm.current=e;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&l?(e.child=Gr(e,t.child,null,a),e.child=Gr(e,null,o,a)):Ne(t,e,o,a),e.memoizedState=n.state,i&&sc(e,r,!0),e.child}function Yd(t){var e=t.stateNode;e.pendingContext?nc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nc(t,e.context,!1),Ql(t,e.containerInfo)}function wc(t,e,r,n,i){return Kr(),Wl(i),e.flags|=256,Ne(t,e,r,n),e.child}var Xa={dehydrated:null,treeContext:null,retryLane:0};function Za(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xd(t,e,r){var n=e.pendingProps,i=ee.current,a=!1,l=(e.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),K(ee,i&1),t===null)return Ha(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=n.children,t=n.fallback,a?(n=e.mode,a=e.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Si(l,n,0,null),t=ur(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Za(r),e.memoizedState=Xa,t):so(e,l));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Ym(t,e,l,n,o,i,r);if(a){a=n.fallback,l=e.mode,i=t.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Jt(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Jt(o,a):(a=ur(a,l,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,l=t.child.memoizedState,l=l===null?Za(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~r,e.memoizedState=Xa,n}return a=t.child,t=a.sibling,n=Jt(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function so(t,e){return e=Si({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ws(t,e,r,n){return n!==null&&Wl(n),Gr(e,t.child,null,r),t=so(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ym(t,e,r,n,i,a,l){if(r)return e.flags&256?(e.flags&=-257,n=sa(Error(k(422))),ws(t,e,l,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Si({mode:"visible",children:n.children},i,0,null),a=ur(a,i,l,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Gr(e,t.child,null,l),e.child.memoizedState=Za(l),e.memoizedState=Xa,a);if(!(e.mode&1))return ws(t,e,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(k(419)),n=sa(a,n,void 0),ws(t,e,l,n)}if(o=(l&t.childLanes)!==0,Pe||o){if(n=pe,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,kt(t,i),it(n,t,i,-1))}return uo(),n=sa(Error(k(421))),ws(t,e,l,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=up.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Me=qt(i.nextSibling),Ue=e,X=!0,nt=null,t!==null&&(We[He++]=yt,We[He++]=vt,We[He++]=hr,yt=t.id,vt=t.overflow,hr=e),e=so(e,n.children),e.flags|=4096,e)}function bc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Va(t.return,e,r)}function ia(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Zd(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Ne(t,e,n.children,r),n=ee.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bc(t,r,e);else if(t.tag===19)bc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(K(ee,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&si(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ia(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&si(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ia(e,!0,r,null,a);break;case"together":ia(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ls(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function St(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),mr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,r=Jt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Jt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Xm(t,e,r){switch(e.tag){case 3:Yd(e),Kr();break;case 5:kd(e);break;case 1:Re(e.type)&&Xs(e);break;case 4:Ql(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;K(ti,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(K(ee,ee.current&1),e.flags|=128,null):r&e.child.childLanes?Xd(t,e,r):(K(ee,ee.current&1),t=St(t,e,r),t!==null?t.sibling:null);K(ee,ee.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Zd(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),K(ee,ee.current),n)break;return null;case 22:case 23:return e.lanes=0,Gd(t,e,r)}return St(t,e,r)}var eh,el,th,rh;eh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};el=function(){};th=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,or(ft.current);var a=null;switch(r){case"input":i=ja(t,i),n=ja(t,n),a=[];break;case"select":i=re({},i,{value:void 0}),n=re({},n,{value:void 0}),a=[];break;case"textarea":i=ka(t,i),n=ka(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Qs)}Ca(r,n);var l;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($n.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($n.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&G("scroll",t),a||o===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};rh=function(t,e,r,n){r!==n&&(e.flags|=4)};function fn(t,e){if(!X)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function we(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Zm(t,e,r){var n=e.pendingProps;switch(ql(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(e),null;case 1:return Re(e.type)&&Ys(),we(e),null;case 3:return n=e.stateNode,Qr(),Q(Oe),Q(je),Xl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ys(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nt!==null&&(ol(nt),nt=null))),el(t,e),we(e),null;case 5:Yl(e);var i=or(Vn.current);if(r=e.type,t!==null&&e.stateNode!=null)th(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(k(166));return we(e),null}if(t=or(ft.current),ys(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[dt]=e,n[Wn]=a,t=(e.mode&1)!==0,r){case"dialog":G("cancel",n),G("close",n);break;case"iframe":case"object":case"embed":G("load",n);break;case"video":case"audio":for(i=0;i<vn.length;i++)G(vn[i],n);break;case"source":G("error",n);break;case"img":case"image":case"link":G("error",n),G("load",n);break;case"details":G("toggle",n);break;case"input":Po(n,a),G("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},G("invalid",n);break;case"textarea":Ro(n,a),G("invalid",n)}Ca(r,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&xs(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&xs(n.textContent,o,t),i=["children",""+o]):$n.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&G("scroll",n)}switch(r){case"input":cs(n),Oo(n,a,!0);break;case"textarea":cs(n),Io(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Qs)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Pu(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(r,{is:n.is}):(t=l.createElement(r),r==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,r),t[dt]=e,t[Wn]=n,eh(t,e,!1,!1),e.stateNode=t;e:{switch(l=Ea(r,n),r){case"dialog":G("cancel",t),G("close",t),i=n;break;case"iframe":case"object":case"embed":G("load",t),i=n;break;case"video":case"audio":for(i=0;i<vn.length;i++)G(vn[i],t);i=n;break;case"source":G("error",t),i=n;break;case"img":case"image":case"link":G("error",t),G("load",t),i=n;break;case"details":G("toggle",t),i=n;break;case"input":Po(t,n),i=ja(t,n),G("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=re({},n,{value:void 0}),G("invalid",t);break;case"textarea":Ro(t,n),i=ka(t,n),G("invalid",t);break;default:i=n}Ca(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?Iu(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ou(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Dn(t,c):typeof c=="number"&&Dn(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&($n.hasOwnProperty(a)?c!=null&&a==="onScroll"&&G("scroll",t):c!=null&&El(t,a,c,l))}switch(r){case"input":cs(t),Oo(t,n,!1);break;case"textarea":cs(t),Io(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Kt(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Fr(t,!!n.multiple,a,!1):n.defaultValue!=null&&Fr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return we(e),null;case 6:if(t&&e.stateNode!=null)rh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(k(166));if(r=or(Vn.current),or(ft.current),ys(e)){if(n=e.stateNode,r=e.memoizedProps,n[dt]=e,(a=n.nodeValue!==r)&&(t=Ue,t!==null))switch(t.tag){case 3:xs(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xs(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dt]=e,e.stateNode=n}return we(e),null;case 13:if(Q(ee),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(X&&Me!==null&&e.mode&1&&!(e.flags&128))wd(),Kr(),e.flags|=98560,a=!1;else if(a=ys(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(k(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(k(317));a[dt]=e}else Kr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;we(e),a=!1}else nt!==null&&(ol(nt),nt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ee.current&1?de===0&&(de=3):uo())),e.updateQueue!==null&&(e.flags|=4),we(e),null);case 4:return Qr(),el(t,e),t===null&&Bn(e.stateNode.containerInfo),we(e),null;case 10:return Jl(e.type._context),we(e),null;case 17:return Re(e.type)&&Ys(),we(e),null;case 19:if(Q(ee),a=e.memoizedState,a===null)return we(e),null;if(n=(e.flags&128)!==0,l=a.rendering,l===null)if(n)fn(a,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=si(t),l!==null){for(e.flags|=128,fn(a,!1),n=l.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return K(ee,ee.current&1|2),e.child}t=t.sibling}a.tail!==null&&ie()>Xr&&(e.flags|=128,n=!0,fn(a,!1),e.lanes=4194304)}else{if(!n)if(t=si(l),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),fn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!X)return we(e),null}else 2*ie()-a.renderingStartTime>Xr&&r!==1073741824&&(e.flags|=128,n=!0,fn(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(r=a.last,r!==null?r.sibling=l:e.child=l,a.last=l)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ie(),e.sibling=null,r=ee.current,K(ee,n?r&1|2:r&1),e):(we(e),null);case 22:case 23:return co(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ae&1073741824&&(we(e),e.subtreeFlags&6&&(e.flags|=8192)):we(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function ep(t,e){switch(ql(e),e.tag){case 1:return Re(e.type)&&Ys(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qr(),Q(Oe),Q(je),Xl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yl(e),null;case 13:if(Q(ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));Kr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Q(ee),null;case 4:return Qr(),null;case 10:return Jl(e.type._context),null;case 22:case 23:return co(),null;case 24:return null;default:return null}}var bs=!1,be=!1,tp=typeof WeakSet=="function"?WeakSet:Set,P=null;function Mr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ne(t,e,n)}else r.current=null}function tl(t,e,r){try{r()}catch(n){ne(t,e,n)}}var jc=!1;function rp(t,e){if(Ma=Js,t=ld(),zl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var x;h!==r||i!==0&&h.nodeType!==3||(o=l+i),h!==a||n!==0&&h.nodeType!==3||(c=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(x=h.firstChild)!==null;)f=h,h=x;for(;;){if(h===t)break t;if(f===r&&++u===i&&(o=l),f===a&&++d===n&&(c=l),(x=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=x}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ua={focusedElem:t,selectionRange:r},Js=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,S=y.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?b:et(e.type,b),S);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(v){ne(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return y=jc,jc=!1,y}function Cn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&tl(e,r,a)}i=i.next}while(i!==n)}}function Ni(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function rl(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function nh(t){var e=t.alternate;e!==null&&(t.alternate=null,nh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dt],delete e[Wn],delete e[Ba],delete e[Mm],delete e[Um])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sh(t){return t.tag===5||t.tag===3||t.tag===4}function _c(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Qs));else if(n!==4&&(t=t.child,t!==null))for(nl(t,e,r),t=t.sibling;t!==null;)nl(t,e,r),t=t.sibling}function sl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(sl(t,e,r),t=t.sibling;t!==null;)sl(t,e,r),t=t.sibling}var ge=null,tt=!1;function Et(t,e,r){for(r=r.child;r!==null;)ih(t,e,r),r=r.sibling}function ih(t,e,r){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(gi,r)}catch{}switch(r.tag){case 5:be||Mr(r,e);case 6:var n=ge,i=tt;ge=null,Et(t,e,r),ge=n,tt=i,ge!==null&&(tt?(t=ge,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ge.removeChild(r.stateNode));break;case 18:ge!==null&&(tt?(t=ge,r=r.stateNode,t.nodeType===8?Xi(t.parentNode,r):t.nodeType===1&&Xi(t,r),Un(t)):Xi(ge,r.stateNode));break;case 4:n=ge,i=tt,ge=r.stateNode.containerInfo,tt=!0,Et(t,e,r),ge=n,tt=i;break;case 0:case 11:case 14:case 15:if(!be&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&tl(r,e,l),i=i.next}while(i!==n)}Et(t,e,r);break;case 1:if(!be&&(Mr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ne(r,e,o)}Et(t,e,r);break;case 21:Et(t,e,r);break;case 22:r.mode&1?(be=(n=be)||r.memoizedState!==null,Et(t,e,r),be=n):Et(t,e,r);break;default:Et(t,e,r)}}function Nc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new tp),e.forEach(function(n){var i=dp.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Xe(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,l=e,o=l;e:for(;o!==null;){switch(o.tag){case 5:ge=o.stateNode,tt=!1;break e;case 3:ge=o.stateNode.containerInfo,tt=!0;break e;case 4:ge=o.stateNode.containerInfo,tt=!0;break e}o=o.return}if(ge===null)throw Error(k(160));ih(a,l,i),ge=null,tt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ne(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ah(e,t),e=e.sibling}function ah(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xe(e,t),ot(t),n&4){try{Cn(3,t,t.return),Ni(3,t)}catch(b){ne(t,t.return,b)}try{Cn(5,t,t.return)}catch(b){ne(t,t.return,b)}}break;case 1:Xe(e,t),ot(t),n&512&&r!==null&&Mr(r,r.return);break;case 5:if(Xe(e,t),ot(t),n&512&&r!==null&&Mr(r,r.return),t.flags&32){var i=t.stateNode;try{Dn(i,"")}catch(b){ne(t,t.return,b)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,l=r!==null?r.memoizedProps:a,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Eu(i,a),Ea(o,l);var u=Ea(o,a);for(l=0;l<c.length;l+=2){var d=c[l],h=c[l+1];d==="style"?Iu(i,h):d==="dangerouslySetInnerHTML"?Ou(i,h):d==="children"?Dn(i,h):El(i,d,h,u)}switch(o){case"input":_a(i,a);break;case"textarea":Tu(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Fr(i,!!a.multiple,x,!1):f!==!!a.multiple&&(a.defaultValue!=null?Fr(i,!!a.multiple,a.defaultValue,!0):Fr(i,!!a.multiple,a.multiple?[]:"",!1))}i[Wn]=a}catch(b){ne(t,t.return,b)}}break;case 6:if(Xe(e,t),ot(t),n&4){if(t.stateNode===null)throw Error(k(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(b){ne(t,t.return,b)}}break;case 3:if(Xe(e,t),ot(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Un(e.containerInfo)}catch(b){ne(t,t.return,b)}break;case 4:Xe(e,t),ot(t);break;case 13:Xe(e,t),ot(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(lo=ie())),n&4&&Nc(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(be=(u=be)||d,Xe(e,t),be=u):Xe(e,t),ot(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(P=t,d=t.child;d!==null;){for(h=P=d;P!==null;){switch(f=P,x=f.child,f.tag){case 0:case 11:case 14:case 15:Cn(4,f,f.return);break;case 1:Mr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(b){ne(n,r,b)}}break;case 5:Mr(f,f.return);break;case 22:if(f.memoizedState!==null){Sc(h);continue}}x!==null?(x.return=f,P=x):Sc(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Ru("display",l))}catch(b){ne(t,t.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){ne(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xe(e,t),ot(t),n&4&&Nc(t);break;case 21:break;default:Xe(e,t),ot(t)}}function ot(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(sh(r)){var n=r;break e}r=r.return}throw Error(k(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Dn(i,""),n.flags&=-33);var a=_c(t);sl(t,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,o=_c(t);nl(t,o,l);break;default:throw Error(k(161))}}catch(c){ne(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function np(t,e,r){P=t,lh(t)}function lh(t,e,r){for(var n=(t.mode&1)!==0;P!==null;){var i=P,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||bs;if(!l){var o=i.alternate,c=o!==null&&o.memoizedState!==null||be;o=bs;var u=be;if(bs=l,(be=c)&&!u)for(P=i;P!==null;)l=P,c=l.child,l.tag===22&&l.memoizedState!==null?Cc(i):c!==null?(c.return=l,P=c):Cc(i);for(;a!==null;)P=a,lh(a),a=a.sibling;P=i,bs=o,be=u}kc(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,P=a):kc(t)}}function kc(t){for(;P!==null;){var e=P;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:be||Ni(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!be)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:et(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&cc(e,a,n);break;case 3:var l=e.updateQueue;if(l!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}cc(e,l,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Un(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}be||e.flags&512&&rl(e)}catch(f){ne(e,e.return,f)}}if(e===t){P=null;break}if(r=e.sibling,r!==null){r.return=e.return,P=r;break}P=e.return}}function Sc(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var r=e.sibling;if(r!==null){r.return=e.return,P=r;break}P=e.return}}function Cc(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ni(4,e)}catch(c){ne(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){ne(e,i,c)}}var a=e.return;try{rl(e)}catch(c){ne(e,a,c)}break;case 5:var l=e.return;try{rl(e)}catch(c){ne(e,l,c)}}}catch(c){ne(e,e.return,c)}if(e===t){P=null;break}var o=e.sibling;if(o!==null){o.return=e.return,P=o;break}P=e.return}}var sp=Math.ceil,li=Ct.ReactCurrentDispatcher,io=Ct.ReactCurrentOwner,Ke=Ct.ReactCurrentBatchConfig,B=0,pe=null,le=null,xe=0,Ae=0,Ur=Yt(0),de=0,Qn=null,mr=0,ki=0,ao=0,En=null,Ee=null,lo=0,Xr=1/0,pt=null,oi=!1,il=null,Ht=null,js=!1,Mt=null,ci=0,Tn=0,al=null,Ms=-1,Us=0;function ke(){return B&6?ie():Ms!==-1?Ms:Ms=ie()}function Vt(t){return t.mode&1?B&2&&xe!==0?xe&-xe:zm.transition!==null?(Us===0&&(Us=Hu()),Us):(t=H,t!==0||(t=window.event,t=t===void 0?16:Xu(t.type)),t):1}function it(t,e,r,n){if(50<Tn)throw Tn=0,al=null,Error(k(185));Zn(t,r,n),(!(B&2)||t!==pe)&&(t===pe&&(!(B&2)&&(ki|=r),de===4&&Dt(t,xe)),Ie(t,n),r===1&&B===0&&!(e.mode&1)&&(Xr=ie()+500,bi&&Xt()))}function Ie(t,e){var r=t.callbackNode;zf(t,e);var n=Vs(t,t===pe?xe:0);if(n===0)r!==null&&Ao(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ao(r),e===1)t.tag===0?Fm(Ec.bind(null,t)):xd(Ec.bind(null,t)),Am(function(){!(B&6)&&Xt()}),r=null;else{switch(Vu(n)){case 1:r=Il;break;case 4:r=qu;break;case 16:r=Hs;break;case 536870912:r=Wu;break;default:r=Hs}r=ph(r,oh.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function oh(t,e){if(Ms=-1,Us=0,B&6)throw Error(k(327));var r=t.callbackNode;if(Hr()&&t.callbackNode!==r)return null;var n=Vs(t,t===pe?xe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ui(t,n);else{e=n;var i=B;B|=2;var a=uh();(pe!==t||xe!==e)&&(pt=null,Xr=ie()+500,cr(t,e));do try{lp();break}catch(o){ch(t,o)}while(!0);Vl(),li.current=a,B=i,le!==null?e=0:(pe=null,xe=0,e=de)}if(e!==0){if(e===2&&(i=Ia(t),i!==0&&(n=i,e=ll(t,i))),e===1)throw r=Qn,cr(t,0),Dt(t,n),Ie(t,ie()),r;if(e===6)Dt(t,n);else{if(i=t.current.alternate,!(n&30)&&!ip(i)&&(e=ui(t,n),e===2&&(a=Ia(t),a!==0&&(n=a,e=ll(t,a))),e===1))throw r=Qn,cr(t,0),Dt(t,n),Ie(t,ie()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(k(345));case 2:nr(t,Ee,pt);break;case 3:if(Dt(t,n),(n&130023424)===n&&(e=lo+500-ie(),10<e)){if(Vs(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ke(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=za(nr.bind(null,t,Ee,pt),e);break}nr(t,Ee,pt);break;case 4:if(Dt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var l=31-st(n);a=1<<l,l=e[l],l>i&&(i=l),n&=~a}if(n=i,n=ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sp(n/1960))-n,10<n){t.timeoutHandle=za(nr.bind(null,t,Ee,pt),n);break}nr(t,Ee,pt);break;case 5:nr(t,Ee,pt);break;default:throw Error(k(329))}}}return Ie(t,ie()),t.callbackNode===r?oh.bind(null,t):null}function ll(t,e){var r=En;return t.current.memoizedState.isDehydrated&&(cr(t,e).flags|=256),t=ui(t,e),t!==2&&(e=Ee,Ee=r,e!==null&&ol(e)),t}function ol(t){Ee===null?Ee=t:Ee.push.apply(Ee,t)}function ip(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!at(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dt(t,e){for(e&=~ao,e&=~ki,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-st(e),n=1<<r;t[r]=-1,e&=~n}}function Ec(t){if(B&6)throw Error(k(327));Hr();var e=Vs(t,0);if(!(e&1))return Ie(t,ie()),null;var r=ui(t,e);if(t.tag!==0&&r===2){var n=Ia(t);n!==0&&(e=n,r=ll(t,n))}if(r===1)throw r=Qn,cr(t,0),Dt(t,e),Ie(t,ie()),r;if(r===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,nr(t,Ee,pt),Ie(t,ie()),null}function oo(t,e){var r=B;B|=1;try{return t(e)}finally{B=r,B===0&&(Xr=ie()+500,bi&&Xt())}}function pr(t){Mt!==null&&Mt.tag===0&&!(B&6)&&Hr();var e=B;B|=1;var r=Ke.transition,n=H;try{if(Ke.transition=null,H=1,t)return t()}finally{H=n,Ke.transition=r,B=e,!(B&6)&&Xt()}}function co(){Ae=Ur.current,Q(Ur)}function cr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Dm(r)),le!==null)for(r=le.return;r!==null;){var n=r;switch(ql(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ys();break;case 3:Qr(),Q(Oe),Q(je),Xl();break;case 5:Yl(n);break;case 4:Qr();break;case 13:Q(ee);break;case 19:Q(ee);break;case 10:Jl(n.type._context);break;case 22:case 23:co()}r=r.return}if(pe=t,le=t=Jt(t.current,null),xe=Ae=e,de=0,Qn=null,ao=ki=mr=0,Ee=En=null,lr!==null){for(e=0;e<lr.length;e++)if(r=lr[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}r.pending=n}lr=null}return t}function ch(t,e){do{var r=le;try{if(Vl(),Ds.current=ai,ii){for(var n=te.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ii=!1}if(fr=0,me=ue=te=null,Sn=!1,Jn=0,io.current=null,r===null||r.return===null){de=1,Qn=e,le=null;break}e:{var a=t,l=r.return,o=r,c=e;if(e=xe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=pc(l);if(x!==null){x.flags&=-257,gc(x,l,o,a,e),x.mode&1&&mc(a,u,e),e=x,c=u;var y=e.updateQueue;if(y===null){var b=new Set;b.add(c),e.updateQueue=b}else y.add(c);break e}else{if(!(e&1)){mc(a,u,e),uo();break e}c=Error(k(426))}}else if(X&&o.mode&1){var S=pc(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),gc(S,l,o,a,e),Wl(Yr(c,o));break e}}a=c=Yr(c,o),de!==4&&(de=2),En===null?En=[a]:En.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=Vd(a,c,e);oc(a,g);break e;case 1:o=c;var p=a.type,m=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ht===null||!Ht.has(m)))){a.flags|=65536,e&=-e,a.lanes|=e;var v=Jd(a,o,e);oc(a,v);break e}}a=a.return}while(a!==null)}hh(r)}catch(w){e=w,le===r&&r!==null&&(le=r=r.return);continue}break}while(!0)}function uh(){var t=li.current;return li.current=ai,t===null?ai:t}function uo(){(de===0||de===3||de===2)&&(de=4),pe===null||!(mr&268435455)&&!(ki&268435455)||Dt(pe,xe)}function ui(t,e){var r=B;B|=2;var n=uh();(pe!==t||xe!==e)&&(pt=null,cr(t,e));do try{ap();break}catch(i){ch(t,i)}while(!0);if(Vl(),B=r,li.current=n,le!==null)throw Error(k(261));return pe=null,xe=0,de}function ap(){for(;le!==null;)dh(le)}function lp(){for(;le!==null&&!Rf();)dh(le)}function dh(t){var e=mh(t.alternate,t,Ae);t.memoizedProps=t.pendingProps,e===null?hh(t):le=e,io.current=null}function hh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ep(r,e),r!==null){r.flags&=32767,le=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{de=6,le=null;return}}else if(r=Zm(r,e,Ae),r!==null){le=r;return}if(e=e.sibling,e!==null){le=e;return}le=e=t}while(e!==null);de===0&&(de=5)}function nr(t,e,r){var n=H,i=Ke.transition;try{Ke.transition=null,H=1,op(t,e,r,n)}finally{Ke.transition=i,H=n}return null}function op(t,e,r,n){do Hr();while(Mt!==null);if(B&6)throw Error(k(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(Bf(t,a),t===pe&&(le=pe=null,xe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||js||(js=!0,ph(Hs,function(){return Hr(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ke.transition,Ke.transition=null;var l=H;H=1;var o=B;B|=4,io.current=null,rp(t,r),ah(r,t),Em(Ua),Js=!!Ma,Ua=Ma=null,t.current=r,np(r),If(),B=o,H=l,Ke.transition=a}else t.current=r;if(js&&(js=!1,Mt=t,ci=i),a=t.pendingLanes,a===0&&(Ht=null),Af(r.stateNode),Ie(t,ie()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(oi)throw oi=!1,t=il,il=null,t;return ci&1&&t.tag!==0&&Hr(),a=t.pendingLanes,a&1?t===al?Tn++:(Tn=0,al=t):Tn=0,Xt(),null}function Hr(){if(Mt!==null){var t=Vu(ci),e=Ke.transition,r=H;try{if(Ke.transition=null,H=16>t?16:t,Mt===null)var n=!1;else{if(t=Mt,Mt=null,ci=0,B&6)throw Error(k(331));var i=B;for(B|=4,P=t.current;P!==null;){var a=P,l=a.child;if(P.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(P=u;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:Cn(8,d,a)}var h=d.child;if(h!==null)h.return=d,P=h;else for(;P!==null;){d=P;var f=d.sibling,x=d.return;if(nh(d),d===u){P=null;break}if(f!==null){f.return=x,P=f;break}P=x}}}var y=a.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}P=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,P=l;else e:for(;P!==null;){if(a=P,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Cn(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,P=g;break e}P=a.return}}var p=t.current;for(P=p;P!==null;){l=P;var m=l.child;if(l.subtreeFlags&2064&&m!==null)m.return=l,P=m;else e:for(l=p;P!==null;){if(o=P,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ni(9,o)}}catch(w){ne(o,o.return,w)}if(o===l){P=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,P=v;break e}P=o.return}}if(B=i,Xt(),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(gi,t)}catch{}n=!0}return n}finally{H=r,Ke.transition=e}}return!1}function Tc(t,e,r){e=Yr(r,e),e=Vd(t,e,1),t=Wt(t,e,1),e=ke(),t!==null&&(Zn(t,1,e),Ie(t,e))}function ne(t,e,r){if(t.tag===3)Tc(t,t,r);else for(;e!==null;){if(e.tag===3){Tc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ht===null||!Ht.has(n))){t=Yr(r,t),t=Jd(e,t,1),e=Wt(e,t,1),t=ke(),e!==null&&(Zn(e,1,t),Ie(e,t));break}}e=e.return}}function cp(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&r,pe===t&&(xe&r)===r&&(de===4||de===3&&(xe&130023424)===xe&&500>ie()-lo?cr(t,0):ao|=r),Ie(t,e)}function fh(t,e){e===0&&(t.mode&1?(e=hs,hs<<=1,!(hs&130023424)&&(hs=4194304)):e=1);var r=ke();t=kt(t,e),t!==null&&(Zn(t,e,r),Ie(t,r))}function up(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),fh(t,r)}function dp(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(k(314))}n!==null&&n.delete(e),fh(t,r)}var mh;mh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Oe.current)Pe=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Pe=!1,Xm(t,e,r);Pe=!!(t.flags&131072)}else Pe=!1,X&&e.flags&1048576&&yd(e,ei,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ls(t,e),t=e.pendingProps;var i=Jr(e,je.current);Wr(e,r),i=eo(null,e,n,t,i,r);var a=to();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Re(n)?(a=!0,Xs(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gl(e),i.updater=_i,e.stateNode=i,i._reactInternals=e,Ka(e,n,t,r),e=Ya(null,e,n,!0,a,r)):(e.tag=0,X&&a&&Bl(e),Ne(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ls(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=fp(n),t=et(n,t),i){case 0:e=Qa(null,e,n,t,r);break e;case 1:e=vc(null,e,n,t,r);break e;case 11:e=xc(null,e,n,t,r);break e;case 14:e=yc(null,e,n,et(n.type,t),r);break e}throw Error(k(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:et(n,i),Qa(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:et(n,i),vc(t,e,n,i,r);case 3:e:{if(Yd(e),t===null)throw Error(k(387));n=e.pendingProps,a=e.memoizedState,i=a.element,Nd(t,e),ni(e,n,null,r);var l=e.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Yr(Error(k(423)),e),e=wc(t,e,n,r,i);break e}else if(n!==i){i=Yr(Error(k(424)),e),e=wc(t,e,n,r,i);break e}else for(Me=qt(e.stateNode.containerInfo.firstChild),Ue=e,X=!0,nt=null,r=jd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kr(),n===i){e=St(t,e,r);break e}Ne(t,e,n,r)}e=e.child}return e;case 5:return kd(e),t===null&&Ha(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,l=i.children,Fa(n,i)?l=null:a!==null&&Fa(n,a)&&(e.flags|=32),Qd(t,e),Ne(t,e,l,r),e.child;case 6:return t===null&&Ha(e),null;case 13:return Xd(t,e,r);case 4:return Ql(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Gr(e,null,n,r):Ne(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:et(n,i),xc(t,e,n,i,r);case 7:return Ne(t,e,e.pendingProps,r),e.child;case 8:return Ne(t,e,e.pendingProps.children,r),e.child;case 12:return Ne(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,l=i.value,K(ti,n._currentValue),n._currentValue=l,a!==null)if(at(a.value,l)){if(a.children===i.children&&!Oe.current){e=St(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=bt(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Va(a.return,r,e),o.lanes|=r;break}c=c.next}}else if(a.tag===10)l=a.type===e.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(k(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Va(l,r,e),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===e){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Ne(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Wr(e,r),i=Qe(i),n=n(i),e.flags|=1,Ne(t,e,n,r),e.child;case 14:return n=e.type,i=et(n,e.pendingProps),i=et(n.type,i),yc(t,e,n,i,r);case 15:return Kd(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:et(n,i),Ls(t,e),e.tag=1,Re(n)?(t=!0,Xs(e)):t=!1,Wr(e,r),Hd(e,n,i),Ka(e,n,i,r),Ya(null,e,n,!0,t,r);case 19:return Zd(t,e,r);case 22:return Gd(t,e,r)}throw Error(k(156,e.tag))};function ph(t,e){return Bu(t,e)}function hp(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(t,e,r,n){return new hp(t,e,r,n)}function ho(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fp(t){if(typeof t=="function")return ho(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pl)return 11;if(t===Ol)return 14}return 2}function Jt(t,e){var r=t.alternate;return r===null?(r=Je(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Fs(t,e,r,n,i,a){var l=2;if(n=t,typeof t=="function")ho(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Tr:return ur(r.children,i,a,e);case Tl:l=8,i|=8;break;case ya:return t=Je(12,r,e,i|2),t.elementType=ya,t.lanes=a,t;case va:return t=Je(13,r,e,i),t.elementType=va,t.lanes=a,t;case wa:return t=Je(19,r,e,i),t.elementType=wa,t.lanes=a,t;case ku:return Si(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _u:l=10;break e;case Nu:l=9;break e;case Pl:l=11;break e;case Ol:l=14;break e;case Rt:l=16,n=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=Je(l,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function ur(t,e,r,n){return t=Je(7,t,n,e),t.lanes=r,t}function Si(t,e,r,n){return t=Je(22,t,n,e),t.elementType=ku,t.lanes=r,t.stateNode={isHidden:!1},t}function aa(t,e,r){return t=Je(6,t,null,e),t.lanes=r,t}function la(t,e,r){return e=Je(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mp(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zi(0),this.expirationTimes=zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fo(t,e,r,n,i,a,l,o,c){return t=new mp(t,e,r,o,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Je(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gl(a),t}function pp(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function gh(t){if(!t)return Gt;t=t._reactInternals;e:{if(yr(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Re(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var r=t.type;if(Re(r))return gd(t,r,e)}return e}function xh(t,e,r,n,i,a,l,o,c){return t=fo(r,n,!0,t,i,a,l,o,c),t.context=gh(null),r=t.current,n=ke(),i=Vt(r),a=bt(n,i),a.callback=e??null,Wt(r,a,i),t.current.lanes=i,Zn(t,i,n),Ie(t,n),t}function Ci(t,e,r,n){var i=e.current,a=ke(),l=Vt(i);return r=gh(r),e.context===null?e.context=r:e.pendingContext=r,e=bt(a,l),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Wt(i,e,l),t!==null&&(it(t,i,l,a),$s(t,i,l)),l}function di(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function mo(t,e){Pc(t,e),(t=t.alternate)&&Pc(t,e)}function gp(){return null}var yh=typeof reportError=="function"?reportError:function(t){console.error(t)};function po(t){this._internalRoot=t}Ei.prototype.render=po.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));Ci(t,e,null,null)};Ei.prototype.unmount=po.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pr(function(){Ci(null,t,null,null)}),e[Nt]=null}};function Ei(t){this._internalRoot=t}Ei.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gu();t={blockedOn:null,target:t,priority:e};for(var r=0;r<$t.length&&e!==0&&e<$t[r].priority;r++);$t.splice(r,0,t),r===0&&Yu(t)}};function go(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ti(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Oc(){}function xp(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=di(l);a.call(u)}}var l=xh(e,n,t,0,null,!1,!1,"",Oc);return t._reactRootContainer=l,t[Nt]=l.current,Bn(t.nodeType===8?t.parentNode:t),pr(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=di(c);o.call(u)}}var c=fo(t,0,!1,null,null,!1,!1,"",Oc);return t._reactRootContainer=c,t[Nt]=c.current,Bn(t.nodeType===8?t.parentNode:t),pr(function(){Ci(e,c,r,n)}),c}function Pi(t,e,r,n,i){var a=r._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var o=i;i=function(){var c=di(l);o.call(c)}}Ci(e,l,t,i)}else l=xp(r,e,t,i,n);return di(l)}Ju=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=yn(e.pendingLanes);r!==0&&($l(e,r|1),Ie(e,ie()),!(B&6)&&(Xr=ie()+500,Xt()))}break;case 13:pr(function(){var n=kt(t,1);if(n!==null){var i=ke();it(n,t,1,i)}}),mo(t,1)}};Dl=function(t){if(t.tag===13){var e=kt(t,134217728);if(e!==null){var r=ke();it(e,t,134217728,r)}mo(t,134217728)}};Ku=function(t){if(t.tag===13){var e=Vt(t),r=kt(t,e);if(r!==null){var n=ke();it(r,t,e,n)}mo(t,e)}};Gu=function(){return H};Qu=function(t,e){var r=H;try{return H=t,e()}finally{H=r}};Pa=function(t,e,r){switch(e){case"input":if(_a(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=wi(n);if(!i)throw Error(k(90));Cu(n),_a(n,i)}}}break;case"textarea":Tu(t,r);break;case"select":e=r.value,e!=null&&Fr(t,!!r.multiple,e,!1)}};Au=oo;Lu=pr;var yp={usingClientEntryPoint:!1,Events:[ts,Ir,wi,$u,Du,oo]},mn={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vp={bundleType:mn.bundleType,version:mn.version,rendererPackageName:mn.rendererPackageName,rendererConfig:mn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Fu(t),t===null?null:t.stateNode},findFiberByHostInstance:mn.findFiberByHostInstance||gp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_s.isDisabled&&_s.supportsFiber)try{gi=_s.inject(vp),ht=_s}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yp;ze.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!go(e))throw Error(k(200));return pp(t,e,null,r)};ze.createRoot=function(t,e){if(!go(t))throw Error(k(299));var r=!1,n="",i=yh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=fo(t,1,!1,null,null,r,!1,n,i),t[Nt]=e.current,Bn(t.nodeType===8?t.parentNode:t),new po(e)};ze.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=Fu(e),t=t===null?null:t.stateNode,t};ze.flushSync=function(t){return pr(t)};ze.hydrate=function(t,e,r){if(!Ti(e))throw Error(k(200));return Pi(null,t,e,!0,r)};ze.hydrateRoot=function(t,e,r){if(!go(t))throw Error(k(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",l=yh;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),e=xh(e,null,t,1,r??null,i,!1,a,l),t[Nt]=e.current,Bn(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Ei(e)};ze.render=function(t,e,r){if(!Ti(e))throw Error(k(200));return Pi(null,t,e,!1,r)};ze.unmountComponentAtNode=function(t){if(!Ti(t))throw Error(k(40));return t._reactRootContainer?(pr(function(){Pi(null,null,t,!1,function(){t._reactRootContainer=null,t[Nt]=null})}),!0):!1};ze.unstable_batchedUpdates=oo;ze.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ti(r))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return Pi(t,e,r,!1,n)};ze.version="18.3.1-next-f1338f8080-20240426";function vh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vh)}catch(t){console.error(t)}}vh(),vu.exports=ze;var wp=vu.exports,wh,Rc=wp;wh=Rc.createRoot,Rc.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),A=(t,e)=>{const r=C.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:o="",children:c,...u},d)=>C.createElement("svg",{ref:d,...bp,width:i,height:i,stroke:n,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${jp(t)}`,o].join(" "),...u},[...e.map(([h,f])=>C.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=A("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=A("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=A("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=A("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=A("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=A("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=A("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=A("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=A("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=A("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=A("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=A("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=A("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=A("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=A("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=A("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=A("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=A("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=A("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=A("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=A("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=A("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=A("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=A("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=A("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=A("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=A("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=A("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=A("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=A("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=A("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=A("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=A("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=A("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=A("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=A("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=A("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=A("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=A("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=A("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=A("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=A("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=A("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Lp="modulepreload",Mp=function(t){return"/"+t},qc={},ss=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=Mp(c),c in qc)return;qc[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Lp,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,x)=>{h.addEventListener("load",f),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return i.then(l=>{for(const o of l||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},Up=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ss(async()=>{const{default:n}=await Promise.resolve().then(()=>nn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class vo extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Fp extends vo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Wc extends vo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Hc extends vo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(dl||(dl={}));var zp=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class Bp{constructor(e,{headers:r={},customFetch:n,region:i=dl.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=Up(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return zp(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:l}=r;let o={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=l):typeof l=="string"?(o["Content-Type"]="text/plain",d=l):typeof FormData<"u"&&l instanceof FormData?d=l:(o["Content-Type"]="application/json",d=JSON.stringify(l)));const h=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(b=>{throw new Fp(b)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Wc(h);if(!h.ok)throw new Hc(h);let x=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return x==="application/json"?y=yield h.json():x==="application/octet-stream"?y=yield h.blob():x==="text/event-stream"?y=h:x==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof Hc||i instanceof Wc?i.context:void 0}}})}}var Te={},wo={},Oi={},is={},Ri={},Ii={},qp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zr=qp();const Wp=Zr.fetch,_h=Zr.fetch.bind(Zr),Nh=Zr.Headers,Hp=Zr.Request,Vp=Zr.Response,nn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Nh,Request:Hp,Response:Vp,default:_h,fetch:Wp},Symbol.toStringTag,{value:"Module"})),Jp=Jh(nn);var $i={};Object.defineProperty($i,"__esModule",{value:!0});let Kp=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};$i.default=Kp;var kh=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ii,"__esModule",{value:!0});const Gp=kh(Jp),Qp=kh($i);let Yp=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Gp.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var l,o,c,u;let d=null,h=null,f=null,x=a.status,y=a.statusText;if(a.ok){if(this.method!=="HEAD"){const p=await a.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?h=p:h=JSON.parse(p))}const S=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");S&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,x=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const S=await a.text();try{d=JSON.parse(S),Array.isArray(d)&&a.status===404&&(h=[],d=null,x=200,y="OK")}catch{a.status===404&&S===""?(x=204,y="No Content"):d={message:S}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,x=200,y="OK"),d&&this.shouldThrowOnError)throw new Qp.default(d)}return{error:d,data:h,count:f,status:x,statusText:y}});return this.shouldThrowOnError||(i=i.catch(a=>{var l,o,c;return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};Ii.default=Yp;var Xp=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ri,"__esModule",{value:!0});const Zp=Xp(Ii);let e0=class extends Zp.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(l,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:l="text"}={}){var o;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${u}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ri.default=e0;var t0=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(is,"__esModule",{value:!0});const r0=t0(Ri);let n0=class extends r0.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${l}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};is.default=n0;var s0=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oi,"__esModule",{value:!0});const pn=s0(is);let i0=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const l=(e??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",l),n&&this.headers.append("Prefer",`count=${n}`),new pn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var i;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new pn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var l;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new pn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(e,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new pn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new pn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Oi.default=i0;var Sh=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wo,"__esModule",{value:!0});const a0=Sh(Oi),l0=Sh(is);let o0=class Ch{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new a0.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ch(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){var l;let o;const c=new URL(`${this.url}/rpc/${e}`);let u;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(o="POST",u=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new l0.default({method:o,url:c,headers:d,schema:this.schemaName,body:u,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};wo.default=o0;var sn=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Te,"__esModule",{value:!0});Te.PostgrestError=Te.PostgrestBuilder=Te.PostgrestTransformBuilder=Te.PostgrestFilterBuilder=Te.PostgrestQueryBuilder=Te.PostgrestClient=void 0;const Eh=sn(wo);Te.PostgrestClient=Eh.default;const Th=sn(Oi);Te.PostgrestQueryBuilder=Th.default;const Ph=sn(is);Te.PostgrestFilterBuilder=Ph.default;const Oh=sn(Ri);Te.PostgrestTransformBuilder=Oh.default;const Rh=sn(Ii);Te.PostgrestBuilder=Rh.default;const Ih=sn($i);Te.PostgrestError=Ih.default;var c0=Te.default={PostgrestClient:Eh.default,PostgrestQueryBuilder:Th.default,PostgrestFilterBuilder:Ph.default,PostgrestTransformBuilder:Oh.default,PostgrestBuilder:Rh.default,PostgrestError:Ih.default};const{PostgrestClient:u0,PostgrestQueryBuilder:Tx,PostgrestFilterBuilder:Px,PostgrestTransformBuilder:Ox,PostgrestBuilder:Rx,PostgrestError:Ix}=c0;class d0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const h0="2.15.5",f0=`realtime-js/${h0}`,m0="1.0.0",hl=1e4,p0=1e3,g0=100;var On;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(On||(On={}));var oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(oe||(oe={}));var rt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(rt||(rt={}));var fl;(function(t){t.websocket="websocket"})(fl||(fl={}));var ir;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ir||(ir={}));class x0{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(e.slice(l,l+i));l=l+i;const c=n.decode(e.slice(l,l+a));l=l+a;const u=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class $h{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(J||(J={}));const Vc=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,l)=>(a[l]=y0(l,t,e,i),a),{})},y0=(t,e,r,n)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,l=r[t];return a&&!n.includes(a)?Dh(a,l):ml(l)},Dh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return j0(e,r)}switch(t){case J.bool:return v0(e);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return w0(e);case J.json:case J.jsonb:return b0(e);case J.timestamp:return _0(e);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return ml(e);default:return ml(e)}},ml=t=>t,v0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},w0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},b0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},j0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const l=t.slice(1,r);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(o=>Dh(e,o))}return t},_0=t=>typeof t=="string"?t.replace(" ","T"):t,Ah=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class ca{constructor(e,r,n={},i=hl){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Jc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Jc||(Jc={}));class Rn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rn.syncState(this.state,i,a,l),this.pendingDiffs.forEach(c=>{this.state=Rn.syncDiff(this.state,c,a,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Rn.syncDiff(this.state,i,a,l),o())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),l=this.transformState(r),o={},c={};return this.map(a,(u,d)=>{l[u]||(c[u]=d)}),this.map(l,(u,d)=>{const h=a[u];if(h){const f=d.map(S=>S.presence_ref),x=h.map(S=>S.presence_ref),y=d.filter(S=>x.indexOf(S.presence_ref)<0),b=h.filter(S=>f.indexOf(S.presence_ref)<0);y.length>0&&(o[u]=y),b.length>0&&(c[u]=b)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,c)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(c),d.length>0){const h=e[o].map(x=>x.presence_ref),f=d.filter(x=>h.indexOf(x.presence_ref)<0);e[o].unshift(...f)}n(o,d,c)}),this.map(l,(o,c)=>{let u=e[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=u,i(o,u,c),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Kc||(Kc={}));var In;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(In||(In={}));var gt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(gt||(gt={}));class bo{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ca(this,rt.join,this.params,this.timeout),this.rejoinTimer=new $h(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=oe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Rn(this),this.broadcastEndpointURL=Ah(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==oe.closed){const{config:{broadcast:l,presence:o,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[In.PRESENCE]&&this.bindings[In.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},f={broadcast:l,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(x=>e==null?void 0:e(gt.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(gt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var y;if(this.socket.setAuth(),x===void 0){e==null||e(gt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,S=(y=b==null?void 0:b.length)!==null&&y!==void 0?y:0,g=[];for(let p=0;p<S;p++){const m=b[p],{filter:{event:v,schema:w,table:_,filter:N}}=m,T=x&&x[p];if(T&&T.event===v&&T.schema===w&&T.table===_&&T.filter===N)g.push(Object.assign(Object.assign({},m),{id:T.id}));else{this.unsubscribe(),this.state=oe.errored,e==null||e(gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(gt.SUBSCRIBED);return}}).receive("error",x=>{this.state=oe.errored,e==null||e(gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===oe.joined&&e===In.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:l}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,o,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=oe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new ca(this,rt.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=oe.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),l}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ca(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>g0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const l=e.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=rt;if(n&&[o,c,u,d].indexOf(l)>=0&&n!==this._joinRef())return;let f=this._onMessage(l,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var y,b,S;return((y=x.filter)===null||y===void 0?void 0:y.event)==="*"||((S=(b=x.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(x=>x.callback(f,n)):(a=this.bindings[l])===null||a===void 0||a.filter(x=>{var y,b,S,g,p,m;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const v=x.id,w=(y=x.filter)===null||y===void 0?void 0:y.event;return v&&((b=r.ids)===null||b===void 0?void 0:b.includes(v))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const v=(p=(g=x==null?void 0:x.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return v==="*"||v===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:b,table:S,commit_timestamp:g,type:p,errors:m}=y;f=Object.assign(Object.assign({},{schema:b,table:S,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(y))}x.callback(f,n)})}_isClosed(){return this.state===oe.closed}_isJoined(){return this.state===oe.joined}_isJoining(){return this.state===oe.joining}_isLeaving(){return this.state===oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&bo.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(rt.close,{},e)}_onError(e){this._on(rt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Vc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Vc(e.columns,e.old_record)),r}}const ua=()=>{},Ns={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},N0=[1e3,2e3,5e3,1e4],k0=1e4,S0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class C0{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hl,this.transport=null,this.heartbeatIntervalMs=Ns.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ua,this.ref=0,this.reconnectTimer=null,this.logger=ua,this.conn=null,this.sendBuffer=[],this.serializer=new x0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>ss(async()=>{const{default:o}=await Promise.resolve().then(()=>nn);return{default:o}},void 0).then(({default:o})=>o(...l)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${fl.websocket}`,this.httpEndpoint=Ah(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=d0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:m0}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case On.connecting:return ir.Connecting;case On.open:return ir.Open;case On.closing:return ir.Closing;default:return ir.Closed}}isConnected(){return this.connectionState()===ir.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new bo(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,l=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(p0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ns.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:l}=r,o=l?`(${l})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(rt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([S0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:f0};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(rt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new $h(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ns.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,l,o,c,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:hl,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Ns.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:ua,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:h=>N0[h-1]||k0,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class jo extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ce(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class E0 extends jo{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pl extends jo{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var T0=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const Lh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ss(async()=>{const{default:n}=await Promise.resolve().then(()=>nn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},P0=()=>T0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ss(()=>Promise.resolve().then(()=>nn),void 0)).Response:Response}),gl=t=>{if(Array.isArray(t))return t.map(r=>gl(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=gl(n)}),e},O0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var vr=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const da=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),R0=(t,e,r)=>vr(void 0,void 0,void 0,function*(){const n=yield P0();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,l=(i==null?void 0:i.statusCode)||a+"";e(new E0(da(i),a,l))}).catch(i=>{e(new pl(da(i),i))}):e(new pl(da(t),t))}),I0=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(O0(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function as(t,e,r,n,i,a){return vr(this,void 0,void 0,function*(){return new Promise((l,o)=>{t(r,I0(e,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>R0(c,o,n))})})}function fi(t,e,r,n){return vr(this,void 0,void 0,function*(){return as(t,"GET",e,r,n)})}function ut(t,e,r,n,i){return vr(this,void 0,void 0,function*(){return as(t,"POST",e,n,i,r)})}function xl(t,e,r,n,i){return vr(this,void 0,void 0,function*(){return as(t,"PUT",e,n,i,r)})}function $0(t,e,r,n){return vr(this,void 0,void 0,function*(){return as(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Mh(t,e,r,n,i){return vr(this,void 0,void 0,function*(){return as(t,"DELETE",e,n,i,r)})}var _e=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const D0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class A0{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Lh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return _e(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},Gc),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",l.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?xl:ut)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ce(a))return{data:null,error:a};throw a}})}upload(e,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return _e(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Gc.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield xl(this.fetch,o.toString(),c,{headers:d});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ce(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return _e(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield ut(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(this.url+a.url),o=l.searchParams.get("token");if(!o)throw new jo("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}})}update(e,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return _e(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ce(i))return{data:null,error:i};throw i}})}copy(e,r,n){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ce(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return _e(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield ut(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ce(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return _e(this,void 0,void 0,function*(){try{const i=yield ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ce(i))return{data:null,error:i};throw i}})}download(e,r){return _e(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=a?`?${a}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield fi(this.fetch,`${this.url}/${i}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}})}info(e){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield fi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:gl(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}})}exists(e){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield $0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ce(n)&&n instanceof pl){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Mh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}list(e,r,n){return _e(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},D0),r),{prefix:e||""});return{data:yield ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ce(i))return{data:null,error:i};throw i}})}listV2(e,r){return _e(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ut(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const L0="2.12.1",M0={"X-Client-Info":`storage-js/${L0}`};var br=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class U0{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},M0),r),this.fetch=Lh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return br(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ce(e))return{data:null,error:e};throw e}})}getBucket(e){return br(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return br(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return br(this,void 0,void 0,function*(){try{return{data:yield xl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}})}emptyBucket(e){return br(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}deleteBucket(e){return br(this,void 0,void 0,function*(){try{return{data:yield Mh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}}class F0 extends U0{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new A0(this.url,this.headers,e,this.fetch)}}const z0="2.57.4";let wn="";typeof Deno<"u"?wn="deno":typeof document<"u"?wn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wn="react-native":wn="node";const B0={"X-Client-Info":`supabase-js-${wn}/${z0}`},q0={headers:B0},W0={schema:"public"},H0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},V0={};var J0=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const K0=t=>{let e;return t?e=t:typeof fetch>"u"?e=_h:e=fetch,(...r)=>e(...r)},G0=()=>typeof Headers>"u"?Nh:Headers,Q0=(t,e,r)=>{const n=K0(r),i=G0();return(a,l)=>J0(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:t;let u=new i(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},l),{headers:u}))})};var Y0=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};function X0(t){return t.endsWith("/")?t:t+"/"}function Z0(t,e){var r,n;const{db:i,auth:a,realtime:l,global:o}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),l),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Y0(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function eg(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(X0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Uh="2.71.1",Sr=30*1e3,yl=3,ha=yl*Sr,tg="http://localhost:9999",rg="supabase.auth.token",ng={"X-Client-Info":`gotrue-js/${Uh}`},vl="X-Supabase-Api-Version",Fh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ig=10*60*1e3;class _o extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ag extends _o{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function lg(t){return L(t)&&t.name==="AuthApiError"}class zh extends _o{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Zt extends _o{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Ot extends Zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function og(t){return L(t)&&t.name==="AuthSessionMissingError"}class ks extends Zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ss extends Zt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Cs extends Zt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cg(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class Qc extends Zt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wl extends Zt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function fa(t){return L(t)&&t.name==="AuthRetryableFetchError"}class Yc extends Zt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class bl extends Zt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const mi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xc=` 	
\r=`.split(""),ug=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Xc.length;e+=1)t[Xc[e].charCodeAt(0)]=-2;for(let e=0;e<mi.length;e+=1)t[mi[e].charCodeAt(0)]=e;return t})();function Zc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(mi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(mi[n]),e.queuedBits-=6}}function Bh(t,e,r){const n=ug[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function eu(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{fg(l,n,r)};for(let l=0;l<t.length;l+=1)Bh(t.charCodeAt(l),i,a);return e.join("")}function dg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function hg(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}dg(n,e)}}function fg(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function mg(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Bh(t.charCodeAt(i),r,n);return new Uint8Array(e)}function pg(t){const e=[];return hg(t,r=>e.push(r)),new Uint8Array(e)}function gg(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>Zc(i,r,n)),Zc(null,r,n),e.join("")}function xg(t){return Math.round(Date.now()/1e3)+t}function yg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ze=()=>typeof window<"u"&&typeof document<"u",er={tested:!1,writable:!1},qh=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(er.tested)return er.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),er.tested=!0,er.writable=!0}catch{er.tested=!0,er.writable=!1}return er.writable};function vg(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Wh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ss(async()=>{const{default:n}=await Promise.resolve().then(()=>nn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},wg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Cr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},tr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Tt=async(t,e)=>{await t.removeItem(e)};class Di{constructor(){this.promise=new Di.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Di.promiseConstructor=Promise;function ma(t){const e=t.split(".");if(e.length!==3)throw new bl("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!sg.test(e[n]))throw new bl("JWT not in base64url format");return{header:JSON.parse(eu(e[0])),payload:JSON.parse(eu(e[1])),signature:mg(e[2]),raw:{header:e[0],payload:e[1]}}}async function bg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function jg(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){n(l);return}}catch(l){if(!e(a,l)){i(l);return}}})()})}function _g(t){return("0"+t.toString(16)).substr(-2)}function Ng(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,_g).join("")}async function kg(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Sg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await kg(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jr(t,e,r=!1){const n=Ng();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Cr(t,`${e}-code-verifier`,i);const a=await Sg(n);return[a,n===a?"plain":"s256"]}const Cg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Eg(t){const e=t.headers.get(vl);if(!e||!e.match(Cg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Tg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Pg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Og=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _r(t){if(!Og.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pa(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tu(t){return JSON.parse(JSON.stringify(t))}var Rg=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const sr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ig=[502,503,504];async function ru(t){var e;if(!wg(t))throw new wl(sr(t),0);if(Ig.includes(t.status))throw new wl(sr(t),t.status);let r;try{r=await t.json()}catch(a){throw new zh(sr(a),a)}let n;const i=Eg(t);if(i&&i.getTime()>=Fh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Yc(sr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ot}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Yc(sr(r),t.status,r.weak_password.reasons);throw new ag(sr(r),t.status||500,n)}const $g=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function F(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[vl]||(a[vl]=Fh["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const l=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await Dg(t,e,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Dg(t,e,r,n,i,a){const l=$g(e,n,i,a);let o;try{o=await t(r,Object.assign({},l))}catch(c){throw console.error(c),new wl(sr(c),0)}if(o.ok||await ru(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await ru(c)}}function mt(t){var e;let r=null;Ug(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=xg(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function nu(t){const e=mt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function At(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Ag(t){return{data:t,error:null}}function Lg(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,l=Rg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function Mg(t){return t}function Ug(t){return t.access_token&&t.refresh_token&&t.expires_in}const ga=["global","local","others"];var Fg=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class zg{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Wh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=ga[0]){if(ga.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ga.join(", ")}`);try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:At})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Fg(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Lg,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(L(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:At})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Mg});if(d.error)throw d.error;const h=await d.json(),f=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);u[`${S}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){_r(e);try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:At})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){_r(e);try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:At})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){_r(e);try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:At})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){_r(e.userId);try{const{data:r,error:n}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(L(r))return{data:null,error:r};throw r}}async _deleteFactor(e){_r(e.userId),_r(e.id);try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}function su(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Bg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Nr={debug:!!(globalThis&&qh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qg extends Hh{}async function Wg(t,e,r){Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new qg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Nr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Bg();const Hg={url:tg,storageKey:rg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ng,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function iu(t,e,r){return await r()}const kr={};class Yn{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yn.nextInstanceID,Yn.nextInstanceID+=1,this.instanceID>0&&Ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Hg),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new zg({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Wh(i.fetch),this.lock=i.lock||iu,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ze()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Wg:this.lock=iu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:qh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=su(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=su(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=kr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){kr[this.storageKey]=Object.assign(Object.assign({},kr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=kr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){kr[this.storageKey]=Object.assign(Object.assign({},kr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Uh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=vg(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ze()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),cg(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return L(r)?{error:r}:{error:new zh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:mt}),{data:l,error:o}=a;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:d,password:h,options:f}=e;let x=null,y=null;this.flowType==="pkce"&&([x,y]=await jr(this.storage,this.storageKey)),a=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:x,code_challenge_method:y},xform:mt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;a=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:mt})}else throw new Ss("You must provide either an email or phone number and a password");const{data:l,error:o}=a;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:l,options:o}=e;r=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:nu})}else if("phone"in e){const{phone:a,password:l,options:o}=e;r=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:nu})}else throw new Ss("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ks}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,a,l,o,c,u,d,h,f,x;let y,b;if("message"in e)y=e.message,b=e.signature;else{const{chain:S,wallet:g,statement:p,options:m}=e;let v;if(Ze())if(typeof g=="object")v=g;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))v=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=g}const w=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in v&&v.signIn){const _=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),p?{statement:p}:null));let N;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")N=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)N=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)y=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),b=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${w.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const _=await v.signMessage(new TextEncoder().encode(y),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=_}}try{const{data:S,error:g}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:gg(b)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:mt});if(g)throw g;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new ks}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:g})}catch(S){if(L(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const r=await tr(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:l}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:mt});if(await Tt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ks}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(L(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:l}=e,o=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:mt}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ks}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,l;try{if("email"in e){const{email:o,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await jr(this.storage,this.storageKey));const{error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:c}=e,{data:u,error:d}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ss("You must provide either an email or phone number.")}catch(o){if(L(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:mt});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,u=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await jr(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Ag})}catch(a){if(L(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ot;const{error:i}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:l}=await F(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:l,error:o}=await F(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new Ss("You must provide either an email or phone number and a type")}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await tr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ha:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await tr(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=pa()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:At}):await this._useSession(async r=>{var n,i,a;const{data:l,error:o}=r;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ot}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:At})})}catch(r){if(L(r))return og(r)&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ot;const l=i.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await jr(this.storage,this.storageKey));const{data:u,error:d}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:At});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ot;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:l}=ma(e.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(L(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:l,error:o}=r;if(o)throw o;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ot;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ze())throw new Cs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Cs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Qc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Qc("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:o,expires_at:c,token_type:u}=e;if(!a||!o||!l||!u)throw new Cs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;c&&(f=parseInt(c));const x=f-d;x*1e3<=Sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:b,error:S}=await this._getUser(a);if(S)throw S;const g={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:f,refresh_token:l,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(L(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await tr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,e);if(o&&!(lg(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=yg(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await jr(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(L(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var l,o,c,u,d;const{data:h,error:f}=a;if(f)throw f;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ze()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(L(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)throw l;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await jg(async i=>(i>0&&await bg(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mt})),(i,a)=>{const l=200*Math.pow(2,i);return a&&fa(a)&&Date.now()+l-n<Sr})}catch(n){if(this._debug(r,"error",n),L(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ze()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await tr(this.storage,this.storageKey);if(i&&this.userStorage){let l=await tr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Cr(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:pa()}else if(i&&!i.user&&!i.user){const l=await tr(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Tt(this.storage,this.storageKey+"-user"),await Cr(this.storage,this.storageKey,i)):i.user=pa()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ha;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${ha}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),fa(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:o}=await this._getUser(i.access_token);!o&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Di;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new Ot;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),L(a)){const l={session:null,error:a};return fa(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(c){a.push(c)}});if(await Promise.all(l),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Cr(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=tu(i);await Cr(this.storage,this.storageKey,a)}else{const i=tu(r);await Cr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Tt(this.storage,this.storageKey),await Tt(this.storage,this.storageKey+"-code-verifier"),await Tt(this.storage,this.storageKey+"-user"),this.userStorage&&await Tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Sr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Sr}ms, refresh threshold is ${yl} ticks`),i<=yl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Hh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,l]=await jr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await F(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:l,error:o}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(L(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(L(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=ma(i.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+ig>i)return n;const{data:a,error:l}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:x,error:y}=await this.getSession();if(y||!x.session)return{data:null,error:y};n=x.session.access_token}const{header:i,payload:a,signature:l,raw:{header:o,payload:c}}=ma(n);r!=null&&r.allowExpired||Tg(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:a,header:i,signature:l},error:null}}const d=Pg(i.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,l,pg(`${o}.${c}`)))throw new bl("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}}Yn.nextInstanceID=0;const Vg=Yn;class Jg extends Vg{constructor(e){super(e)}}var Kg=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class Gg{constructor(e,r,n){var i,a,l;this.supabaseUrl=e,this.supabaseKey=r;const o=eg(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:W0,realtime:V0,auth:Object.assign(Object.assign({},H0),{storageKey:c}),global:q0},d=Z0(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=d.auth)!==null&&l!==void 0?l:{},this.headers,d.global.fetch),this.fetch=Q0(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new u0(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new F0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Bp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Kg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:l,flowType:o,lock:c,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jg({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:l,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new C0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Qg=(t,e,r)=>new Gg(t,e,r);function Yg(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Yg()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xg="https://hwthgbbckcowdqoxvbsx.supabase.co",Zg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh3dGhnYmJja2Nvd2Rxb3h2YnN4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk4NDgzMjgsImV4cCI6MjA3NTQyNDMyOH0.algrOqrqVZBI7s2c-DUWoJYHCY32KSvocVpKU0ntgzI",ae=Qg(Xg,Zg);function ex({onSave:t,onCancel:e}){const r=C.useRef(null),[n,i]=C.useState(!1),[a,l]=C.useState(!0);C.useEffect(()=>{const f=r.current;if(!f)return;const x=f.getContext("2d");x&&(x.strokeStyle="#000",x.lineWidth=2,x.lineCap="round",x.lineJoin="round")},[]);const o=f=>{const x=r.current;if(!x)return;const y=x.getBoundingClientRect(),b=x.getContext("2d");if(!b)return;i(!0),l(!1);const S="touches"in f?f.touches[0].clientX-y.left:f.clientX-y.left,g="touches"in f?f.touches[0].clientY-y.top:f.clientY-y.top;b.beginPath(),b.moveTo(S,g)},c=f=>{if(!n)return;const x=r.current;if(!x)return;const y=x.getBoundingClientRect(),b=x.getContext("2d");if(!b)return;const S="touches"in f?f.touches[0].clientX-y.left:f.clientX-y.left,g="touches"in f?f.touches[0].clientY-y.top:f.clientY-y.top;b.lineTo(S,g),b.stroke()},u=()=>{i(!1)},d=()=>{const f=r.current;if(!f)return;const x=f.getContext("2d");x&&(x.clearRect(0,0,f.width,f.height),l(!0))},h=()=>{const f=r.current;if(!f||a)return;const x=f.toDataURL("image/png");t(x)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-2xl w-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-800",children:"Sign Here"}),s.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:s.jsx(wt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"border-2 border-gray-300 rounded-lg bg-white",children:s.jsx("canvas",{ref:r,width:600,height:200,className:"w-full cursor-crosshair touch-none",onMouseDown:o,onMouseMove:c,onMouseUp:u,onMouseLeave:u,onTouchStart:o,onTouchMove:c,onTouchEnd:u})}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Sign using your mouse or touchscreen"})]}),s.jsxs("div",{className:"flex gap-3 p-4 border-t bg-gray-50",children:[s.jsx("button",{onClick:d,className:"flex-1 bg-gray-200 text-gray-700 px-4 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Clear"}),s.jsx("button",{onClick:e,className:"flex-1 bg-gray-200 text-gray-700 px-4 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:h,disabled:a,className:"flex-1 bg-green-600 text-white px-4 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Save Signature"})]})]})})}function tx({bookingData:t,onComplete:e,onCancel:r}){const[n,i]=C.useState(1),[a,l]=C.useState(null);C.useEffect(()=>{window.scrollTo(0,0)},[]);const[o,c]=C.useState({customer_address:"",customer_city:"",customer_state:"",customer_zip:"",drivers_license_number:"",drivers_license_state:"",date_of_birth:"",insurance_carrier:"",insurance_policy_number:"",insurance_phone:"",insurance_expiration:"",pickup_time:"",return_time:"",pickup_type:"pickup",return_type:"return",order_deposit:50}),[u,d]=C.useState(["","","","","","",""]),[h,f]=C.useState({rental_order:"",terms:"",trailer:""}),x=m=>{const{name:v,value:w}=m.target;c(_=>({..._,[v]:w}))},y=(m,v)=>{const w=[...u];w[m]=v,d(w)},b=m=>{a==="rental"?f(v=>({...v,rental_order:m})):a==="terms"?f(v=>({...v,terms:m})):a==="trailer"&&f(v=>({...v,trailer:m})),l(null)},S=()=>o.customer_address&&o.customer_city&&o.customer_state&&o.customer_zip&&o.drivers_license_number&&o.drivers_license_state&&o.date_of_birth&&o.insurance_carrier&&o.insurance_policy_number&&o.insurance_phone&&o.insurance_expiration&&o.pickup_time&&o.return_time&&h.rental_order,g=()=>u.every(m=>m.length>0)&&h.terms,p=()=>{const m={...o,terms_initials:u,rental_order_signature:h.rental_order,terms_signature:h.terms,trailer_details_signature:h.trailer};e(m)};return s.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:[s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-slate-700 text-white p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(yo,{className:"h-8 w-8"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Rental Agreement"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`flex-1 h-2 rounded ${n>=1?"bg-green-400":"bg-gray-400"}`}),s.jsx("div",{className:`flex-1 h-2 rounded ${n>=2?"bg-green-400":"bg-gray-400"}`}),s.jsx("div",{className:`flex-1 h-2 rounded ${n>=3?"bg-green-400":"bg-gray-400"}`})]})]}),s.jsxs("div",{className:"p-6",children:[n===1&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Rental Order Information"}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Trailer:"})," ",t.trailer_type]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Pickup Date:"})," ",t.start_date]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Return Date:"})," ",t.end_date||"TBD"]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Deposit:"})," $",o.order_deposit]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Pickup Time *"}),s.jsx("input",{type:"time",name:"pickup_time",value:o.pickup_time,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Return Time *"}),s.jsx("input",{type:"time",name:"return_time",value:o.return_time,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Pickup Type *"}),s.jsxs("select",{name:"pickup_type",value:o.pickup_type,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 focus:border-transparent",children:[s.jsx("option",{value:"pickup",children:"Pickup"}),s.jsx("option",{value:"delivery",children:"Delivery"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Return Type *"}),s.jsxs("select",{name:"return_type",value:o.return_type,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 focus:border-transparent",children:[s.jsx("option",{value:"return",children:"Return"}),s.jsx("option",{value:"pickup",children:"Pickup"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Customer Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Street Address *"}),s.jsx("input",{type:"text",name:"customer_address",value:o.customer_address,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City *"}),s.jsx("input",{type:"text",name:"customer_city",value:o.customer_city,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"State *"}),s.jsx("input",{type:"text",name:"customer_state",value:o.customer_state,onChange:x,maxLength:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Zip Code *"}),s.jsx("input",{type:"text",name:"customer_zip",value:o.customer_zip,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 focus:border-transparent",required:!0})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Driver Information"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Driver's License # *"}),s.jsx("input",{type:"text",name:"drivers_license_number",value:o.drivers_license_number,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"License State *"}),s.jsx("input",{type:"text",name:"drivers_license_state",value:o.drivers_license_state,onChange:x,maxLength:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date of Birth *"}),s.jsx("input",{type:"date",name:"date_of_birth",value:o.date_of_birth,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 focus:border-transparent",required:!0})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Insurance Information"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Insurance Carrier *"}),s.jsx("input",{type:"text",name:"insurance_carrier",value:o.insurance_carrier,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Policy Number *"}),s.jsx("input",{type:"text",name:"insurance_policy_number",value:o.insurance_policy_number,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Insurance Phone *"}),s.jsx("input",{type:"tel",name:"insurance_phone",value:o.insurance_phone,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Policy Expiration *"}),s.jsx("input",{type:"date",name:"insurance_expiration",value:o.insurance_expiration,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 focus:border-transparent",required:!0})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Customer Signature"}),s.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-4",children:h.rental_order?s.jsxs("div",{className:"space-y-3",children:[s.jsx("img",{src:h.rental_order,alt:"Signature",className:"max-h-24 mx-auto"}),s.jsx("button",{onClick:()=>l("rental"),className:"w-full bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Change Signature"})]}):s.jsx("button",{onClick:()=>l("rental"),className:"w-full bg-green-600 text-white px-4 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:"Click to Sign"})}),s.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"By signing, you acknowledge that you have read and agree to the terms and conditions."})]})]}),n===2&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Terms and Conditions"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please read each section carefully and initial where indicated."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"1. Definitions"}),s.jsx("p",{className:"text-sm text-gray-700 mb-3",children:'"Agreement" means all terms and conditions found in this rental agreement. "You" or "your" means the renter. "We" or "our" means Molalla Trailer Rental. "Trailer" means the non-motorized trailer identified in this Agreement.'}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Initial:"}),s.jsx("input",{type:"text",maxLength:3,value:u[0],onChange:m=>y(0,m.target.value),className:"w-20 px-3 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-green-600 focus:border-transparent"})]})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"2. Rental, Indemnity and Warranties"}),s.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"This is a contract for rental of the Trailer. We make no warranties regarding the Trailer, no warranty of merchantability and no warranty that the Trailer is fit for a particular purpose."}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Initial:"}),s.jsx("input",{type:"text",maxLength:3,value:u[1],onChange:m=>y(1,m.target.value),className:"w-20 px-3 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-green-600 focus:border-transparent"})]})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"3. Condition and Return of Trailer"}),s.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"You must return the Trailer on the date and time specified, in the same condition received except for ordinary wear. Late returns incur a $50 per hour fee."}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Initial:"}),s.jsx("input",{type:"text",maxLength:3,value:u[2],onChange:m=>y(2,m.target.value),className:"w-20 px-3 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-green-600 focus:border-transparent"})]})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"4. Responsibility for Damage or Loss"}),s.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"You are responsible for all damage to, or loss or theft of, the Trailer, whether or not you are at fault. You must report all accidents to us and the police within 24 hours."}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Initial:"}),s.jsx("input",{type:"text",maxLength:3,value:u[3],onChange:m=>y(3,m.target.value),className:"w-20 px-3 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-green-600 focus:border-transparent"})]})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"5. Prohibited Uses"}),s.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Prohibited uses include: transporting dangerous materials, persons, or illegal items; use by unauthorized drivers; use under the influence; overloading; and intentional damage."}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Initial:"}),s.jsx("input",{type:"text",maxLength:3,value:u[4],onChange:m=>y(4,m.target.value),className:"w-20 px-3 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-green-600 focus:border-transparent"})]})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"6. Cancellation & Refund Policy"}),s.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:[s.jsx("strong",{children:"IMPORTANT:"})," Cancellations must be made through your customer portal. ",s.jsx("strong",{children:"More than 24 hours before rental start:"})," 100% refund (minus deposit). ",s.jsx("strong",{children:"12-24 hours before rental start:"})," 50% refund (minus deposit). ",s.jsx("strong",{children:"Less than 12 hours before rental start:"})," NO REFUND. The $50 deposit is always non-refundable upon cancellation and will be refunded only after trailer inspection upon return."]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Initial:"}),s.jsx("input",{type:"text",maxLength:3,value:u[5],onChange:m=>y(5,m.target.value),className:"w-20 px-3 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-green-600 focus:border-transparent"})]})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"7. Insurance & Additional Terms"}),s.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"You must maintain automobile liability insurance. You agree to pay all charges, late fees (5%), and costs."}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Initial:"}),s.jsx("input",{type:"text",maxLength:3,value:u[6]||"",onChange:m=>y(6,m.target.value),className:"w-20 px-3 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-green-600 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Terms & Conditions Signature"}),s.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-4",children:h.terms?s.jsxs("div",{className:"space-y-3",children:[s.jsx("img",{src:h.terms,alt:"Signature",className:"max-h-24 mx-auto"}),s.jsx("button",{onClick:()=>l("terms"),className:"w-full bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Change Signature"})]}):s.jsx("button",{onClick:()=>l("terms"),className:"w-full bg-green-600 text-white px-4 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:"Click to Sign"})})]})]}),n===3&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Trailer Details Acknowledgment"})}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsxs("h4",{className:"font-semibold text-gray-800 mb-4",children:["Trailer: ",t.trailer_type]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-800 mb-2",children:"Trailer Components"}),s.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Ramps (2) - $200 each"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Spare tire (1) - $200"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Solar battery charger (1) - $100"})]})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-gray-800 mb-2",children:"Included Items"}),s.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"5,000 Lb ratchet straps (2)"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"1,000 Lb ratchet straps (2)"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Chain binders (2)"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"14 ft 3/8 chain (2)"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Bottle jack (1)"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Tire iron (1)"})]})]})]})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-gray-800",children:[s.jsx("strong",{children:"Acknowledgment:"})," I certify I will carefully inspect the Trailer and all components and included equipment, and find them all to be present and in clean, satisfactory condition. I acknowledge that I am responsible for returning all items in good, clean, working condition or else I will be required to pay for any damaged, missing, or dirty items."]})}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Trailer Details Signature"}),s.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-4",children:h.trailer?s.jsxs("div",{className:"space-y-3",children:[s.jsx("img",{src:h.trailer,alt:"Signature",className:"max-h-24 mx-auto"}),s.jsx("button",{onClick:()=>l("trailer"),className:"w-full bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Change Signature"})]}):s.jsx("button",{onClick:()=>l("trailer"),className:"w-full bg-green-600 text-white px-4 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:"Click to Sign"})})]})]})]}),s.jsxs("div",{className:"border-t bg-gray-50 p-6",children:[s.jsxs("div",{className:"flex justify-between",children:[n>1&&s.jsx("button",{onClick:()=>i(n-1),className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Back"}),n<3?s.jsx("button",{onClick:()=>i(n+1),disabled:n===1?!S():!g(),className:"ml-auto bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Continue"}):s.jsx("button",{onClick:p,disabled:!h.trailer,className:"ml-auto bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Complete Agreement"})]}),n===1&&s.jsx("button",{onClick:r,className:"mt-3 w-full text-gray-600 hover:text-gray-800 text-sm font-medium",children:"Cancel and Return"})]})]})}),a&&s.jsx(ex,{onSave:b,onCancel:()=>l(null)})]})}function au({label:t,accept:e,maxSizeMB:r,onFileSelect:n,required:i=!1,helpText:a}){const[l,o]=C.useState(null),[c,u]=C.useState(null),[d,h]=C.useState(null),[f,x]=C.useState(!1),y=v=>{var R;const w=r*1024*1024;if(v.size>w)return`File size must be less than ${r}MB`;const _=e.split(",").map(Y=>Y.trim()),N="."+((R=v.name.split(".").pop())==null?void 0:R.toLowerCase()),T=v.type;return _.some(Y=>Y.startsWith(".")?N===Y.toLowerCase():T.match(new RegExp(Y.replace("*",".*"))))?null:`Please upload a valid file type: ${e}`},b=v=>{if(!v){o(null),u(null),h(null),n(null);return}const w=y(v);if(w){h(w),o(null),u(null),n(null);return}if(h(null),o(v),n(v),v.type.startsWith("image/")){const _=new FileReader;_.onloadend=()=>{u(_.result)},_.readAsDataURL(v)}else v.type==="application/pdf"&&u("pdf")},S=v=>{v.preventDefault(),x(!1);const w=v.dataTransfer.files[0];w&&b(w)},g=v=>{v.preventDefault(),x(!0)},p=()=>{x(!1)},m=()=>{b(null)};return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700",children:[t," ",i&&s.jsx("span",{className:"text-red-600",children:"*"})]}),a&&s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:a}),l?s.jsx("div",{className:"border-2 border-green-500 bg-green-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c&&c!=="pdf"?s.jsx("img",{src:c,alt:"Preview",className:"w-16 h-16 object-cover rounded border border-gray-300"}):s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded border border-gray-300 flex items-center justify-center",children:s.jsx(yo,{className:"h-8 w-8 text-gray-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx($,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:l.name})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:[(l.size/1024/1024).toFixed(2)," MB"]})]})]}),s.jsx("button",{type:"button",onClick:m,className:"text-gray-400 hover:text-red-600 transition-colors flex-shrink-0 ml-2","aria-label":"Remove file",children:s.jsx(wt,{className:"h-5 w-5"})})]})}):s.jsxs("div",{onDrop:S,onDragOver:g,onDragLeave:p,className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${f?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("input",{type:"file",accept:e,onChange:v=>{var w;return b(((w=v.target.files)==null?void 0:w[0])||null)},className:"hidden",id:`file-upload-${t.replace(/\s/g,"-")}`}),s.jsxs("label",{htmlFor:`file-upload-${t.replace(/\s/g,"-")}`,className:"cursor-pointer",children:[s.jsx(zs,{className:"h-10 w-10 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Click to upload or drag and drop"}),s.jsxs("p",{className:"text-xs text-gray-500",children:[e.replace(/\./g,"").toUpperCase()," (Max ",r,"MB)"]})]})]}),d&&s.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm bg-red-50 border border-red-200 rounded p-3",children:[s.jsx(hi,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{children:d})]})]})}function rx(){return s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-slate-50 border-2 border-blue-200 rounded-xl p-6 mt-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(jt,{className:"h-6 w-6 text-blue-600"}),s.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Secure & Flexible Payment"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-2 flex-shrink-0",children:s.jsx(Op,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"We Accept"}),s.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[s.jsx("span",{className:"text-sm bg-slate-100 px-2 py-1 rounded font-semibold",children:"Visa"}),s.jsx("span",{className:"text-sm bg-slate-100 px-2 py-1 rounded font-semibold",children:"Mastercard"}),s.jsx("span",{className:"text-sm bg-slate-100 px-2 py-1 rounded font-semibold",children:"Amex"}),s.jsx("span",{className:"text-sm bg-slate-100 px-2 py-1 rounded font-semibold",children:"Discover"})]}),s.jsxs("div",{className:"flex gap-2 items-center mt-2",children:[s.jsx("span",{className:"text-sm bg-blue-100 px-2 py-1 rounded font-semibold text-blue-700",children:"Venmo"}),s.jsx("span",{className:"text-sm bg-green-100 px-2 py-1 rounded font-semibold text-green-700",children:"Cash"})]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-blue-100 rounded-full p-2 flex-shrink-0",children:s.jsx(Dp,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"$50 Deposit"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Fully refundable when trailer is returned clean and undamaged"}),s.jsx("p",{className:"text-xs text-green-600 font-semibold mt-2",children:"✓ Returned within 2-3 business days"})]})]})})]}),s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-yellow-100 rounded-full p-2 flex-shrink-0",children:s.jsx(Pn,{className:"h-5 w-5 text-yellow-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Transparent Pricing"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Rental Fee:"}),s.jsx("span",{className:"font-semibold text-slate-800",children:"Based on duration"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Delivery Fee:"}),s.jsx("span",{className:"font-semibold text-slate-800",children:"$30 (if selected)"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Security Deposit:"}),s.jsx("span",{className:"font-semibold text-slate-800",children:"$50 (refundable)"})]}),s.jsxs("div",{className:"border-t pt-2 mt-2 flex justify-between",children:[s.jsx("span",{className:"font-bold text-slate-800",children:"You Pay Today:"}),s.jsx("span",{className:"font-bold text-green-600",children:"Rental + Delivery + Deposit"})]})]})]})]})}),s.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-sm text-gray-600",children:[s.jsx(jt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"256-bit SSL encryption • PCI compliant • Your data is secure"})]})]})}const Es={"Southland 6x12 10k":{daily:120,weekly:825,monthly:3250},"Southland 7x14 14k":{daily:130,weekly:900,monthly:3550}};function nx(){console.log("🚀 BookingForm component mounted/rendered");const[t,e]=C.useState("rental"),[r,n]=C.useState("Southland 7x14 14k"),[i,a]=C.useState({customer_name:"",customer_email:"",customer_phone:"",start_date:"",end_date:"",delivery_address:"",delivery_required:!1,notes:""}),[l,o]=C.useState(!1),[c,u]=C.useState("idle"),[d,h]=C.useState(""),[f,x]=C.useState(!1),[y,b]=C.useState(null),[S,g]=C.useState(null),[p,m]=C.useState(null),[v,w]=C.useState(!1),_=()=>t==="rental"&&i.delivery_required?30:0,N=()=>t==="rental"?50:0,T=()=>{if(t==="junk_removal"||t==="material_delivery")return 0;if(!i.start_date||!i.end_date)return Es[r].daily;const V=new Date(i.start_date),Z=new Date(i.end_date),E=Math.ceil((Z.getTime()-V.getTime())/(1e3*60*60*24))+1;return E>=30?Es[r].monthly:E>=7?Math.ceil(E/7)*Es[r].weekly:E*Es[r].daily},M=()=>{const V=T(),Z=_(),E=N();return V+Z+E},R=async(V,Z,E)=>{const O=V.name.split(".").pop(),U=`documents/${`${Z}_${E}_${Date.now()}.${O}`}`,{error:q}=await ae.storage.from("booking-documents").upload(U,V,{cacheControl:"3600",upsert:!1});if(q)throw q;const{data:{publicUrl:j}}=ae.storage.from("booking-documents").getPublicUrl(U);return j},Y=async V=>{if(console.log("📝 handleSubmit called"),V.preventDefault(),console.log("✅ preventDefault called"),console.log("📋 Form data:",i),t==="rental"&&(!S||!p)){h("Please upload both your driver's license and insurance document."),u("error");return}o(!0),u("idle"),h("");try{const Z=T(),E=_(),O=N(),I=M();console.log("Calculated prices:",{basePrice:Z,deliveryFee:E,deposit:O,totalPrice:I});const{data:U,error:q}=await ae.from("bookings").insert({customer_name:i.customer_name,customer_email:i.customer_email,customer_phone:i.customer_phone,service_type:t,trailer_type:t==="rental"?r:null,start_date:i.start_date,end_date:t==="rental"?i.end_date:null,delivery_address:i.delivery_address,delivery_required:i.delivery_required,notes:i.notes,status:"pending",total_price:I,delivery_fee:E,deposit_amount:O}).select().single();if(q)throw console.error("Database error:",q),q;if(console.log("Booking created with ID:",U.id),b(U.id),t==="rental"&&S&&p)try{w(!0),console.log("Uploading documents...");const j=await R(S,U.id,"license"),D=await R(p,U.id,"insurance"),{error:W}=await ae.from("bookings").update({drivers_license_url:j,insurance_document_url:D}).eq("id",U.id);W?console.error("Error updating booking with document URLs:",W):console.log("Documents uploaded successfully")}catch(j){console.error("Error uploading documents:",j),h("Warning: Booking created but documents failed to upload. Please contact us.")}finally{w(!1)}console.log("Service type:",t,"Delivery required:",i.delivery_required),t==="junk_removal"||t==="material_delivery"?(console.log("Quote request submitted - no payment required"),u("success"),b(null),a({customer_name:"",customer_email:"",customer_phone:"",start_date:"",end_date:"",delivery_address:"",delivery_required:!1,notes:""})):t==="rental"&&!i.delivery_required?(console.log("Showing rental agreement"),x(!0)):(console.log("Calling handleStripeCheckout"),await De(U.id))}catch(Z){console.error("Error submitting booking:",Z),u("error"),h("Failed to submit booking. Please try again or call us directly.")}finally{console.log("Finally block - setting isSubmitting to false"),o(!1)}},qe=async V=>{if(y){o(!0);try{M()>0?await De(y,V):(u("success"),x(!1),b(null),a({customer_name:"",customer_email:"",customer_phone:"",start_date:"",end_date:"",delivery_address:"",delivery_required:!1,notes:""}))}catch(Z){console.error("Error completing agreement:",Z),h("Failed to save agreement. Please try again.")}finally{o(!1)}}},De=async(V,Z)=>{try{if(console.log("Starting Stripe checkout for booking:",V),Z){const{error:q}=await ae.from("bookings").update({...Z,agreement_completed:!0,rental_order_signature_date:new Date().toISOString(),terms_signature_date:new Date().toISOString(),trailer_details_signature_date:new Date().toISOString()}).eq("id",V);if(q)throw new Error("Failed to save agreement")}const E=window.location.origin,I=await fetch("https://hwthgbbckcowdqoxvbsx.supabase.co/functions/v1/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh3dGhnYmJja2Nvd2Rxb3h2YnN4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk4NDgzMjgsImV4cCI6MjA3NTQyNDMyOH0.algrOqrqVZBI7s2c-DUWoJYHCY32KSvocVpKU0ntgzI"},body:JSON.stringify({bookingId:V,successUrl:`${E}/success?session_id={CHECKOUT_SESSION_ID}`,cancelUrl:`${E}/?canceled=true`})});if(!I.ok){const q=await I.json();throw new Error(q.error||"Failed to create checkout session")}const{url:U}=await I.json();if(!U)throw new Error("No checkout URL returned");window.location.href=U}catch(E){console.error("Error creating checkout session:",E);const O=E instanceof Error?E.message:"Unknown error";h(`Payment processing error: ${O}. Please contact us directly at 503-500-6121.`),u("error"),o(!1)}},lt=async()=>{y&&await ae.from("bookings").delete().eq("id",y),x(!1),b(null),o(!1)},he=V=>{const{name:Z,value:E}=V.target;a(O=>({...O,[Z]:E}))};return f&&y?s.jsx(tx,{bookingData:{customer_name:i.customer_name,customer_email:i.customer_email,customer_phone:i.customer_phone,start_date:i.start_date,end_date:i.end_date,delivery_address:i.delivery_address,service_type:t,total_price:M(),trailer_type:r},onComplete:qe,onCancel:lt}):c==="success"?s.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-8 text-center max-w-2xl mx-auto",children:[s.jsx("div",{className:"inline-block p-4 bg-green-100 rounded-full mb-4",children:s.jsx($,{className:"h-12 w-12 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-green-900 mb-2",children:"Booking Complete!"}),s.jsx("p",{className:"text-green-800 mb-6",children:t==="rental"?"Thank you for completing your rental agreement. We'll contact you shortly at the phone number you provided to confirm your trailer rental.":"Thank you for your quote request! We'll review your request and contact you within 24 hours with a detailed quote and payment instructions."}),s.jsx("button",{onClick:()=>u("idle"),className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:"Make Another Booking"})]}):s.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-3xl mx-auto",children:s.jsxs("form",{onSubmit:Y,autoComplete:"off",className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Service Type"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>e("rental"),className:`p-4 rounded-lg border-2 transition-all ${t==="rental"?"border-green-600 bg-green-50 text-green-900":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(Ve,{className:"h-6 w-6 mx-auto mb-2"}),s.jsx("div",{className:"font-semibold",children:"Trailer Rental"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Starting at $120/day"})]}),s.jsxs("button",{type:"button",onClick:()=>e("junk_removal"),className:`p-4 rounded-lg border-2 transition-all ${t==="junk_removal"?"border-green-600 bg-green-50 text-green-900":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(Ve,{className:"h-6 w-6 mx-auto mb-2"}),s.jsx("div",{className:"font-semibold",children:"Junk Removal"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Custom Quote"})]}),s.jsxs("button",{type:"button",onClick:()=>e("material_delivery"),className:`p-4 rounded-lg border-2 transition-all ${t==="material_delivery"?"border-green-600 bg-green-50 text-green-900":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(Ve,{className:"h-6 w-6 mx-auto mb-2"}),s.jsx("div",{className:"font-semibold",children:"Material Delivery"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Dirt, Gravel, Mulch"})]})]})]}),t==="rental"&&s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"trailer_type",className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Ve,{className:"inline h-4 w-4 mr-1"}),"Select Trailer *"]}),s.jsxs("select",{id:"trailer_type",value:r,onChange:V=>n(V.target.value),className:"w-full px-4 py-4 text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all",children:[s.jsx("option",{value:"Southland 6x12 10k",children:"Southland 6x12 10k - $120/day • $825/week • $3,250/month"}),s.jsx("option",{value:"Southland 7x14 14k",children:"Southland 7x14 14k - $130/day • $900/week • $3,550/month"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"customer_name",className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(jh,{className:"inline h-4 w-4 mr-1"}),"Full Name *"]}),s.jsx("input",{type:"text",id:"customer_name",name:"customer_name",autoComplete:"off",required:!0,value:i.customer_name,onChange:he,className:"w-full px-4 py-4 text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all",placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"customer_phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Le,{className:"inline h-4 w-4 mr-1"}),"Phone Number *"]}),s.jsx("input",{type:"tel",id:"customer_phone",name:"customer_phone",autoComplete:"off",required:!0,value:i.customer_phone,onChange:he,className:"w-full px-4 py-4 text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all",placeholder:"503-500-6121"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"customer_email",className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(ns,{className:"inline h-4 w-4 mr-1"}),"Email Address *"]}),s.jsx("input",{type:"email",id:"customer_email",name:"customer_email",autoComplete:"off",required:!0,value:i.customer_email,onChange:he,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"john@example.com"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"start_date",className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx($e,{className:"inline h-4 w-4 mr-1"}),t==="rental"?"Start Date":t==="material_delivery"?"Delivery Date":"Service Date"," *"]}),s.jsx("input",{type:"date",id:"start_date",name:"start_date",required:!0,value:i.start_date,onChange:he,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-4 text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all"})]}),t==="rental"&&s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"end_date",className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx($e,{className:"inline h-4 w-4 mr-1"}),"End Date *"]}),s.jsx("input",{type:"date",id:"end_date",name:"end_date",required:t==="rental",value:i.end_date,onChange:he,min:i.start_date||new Date().toISOString().split("T")[0],className:"w-full px-4 py-4 text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all"})]})]}),t==="rental"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:[s.jsx(Ve,{className:"inline h-4 w-4 mr-1"}),"Pickup or Delivery *"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>a(V=>({...V,delivery_required:!1})),className:`p-4 rounded-lg border-2 transition-all ${i.delivery_required?"border-gray-200 hover:border-gray-300":"border-green-600 bg-green-50 text-green-900"}`,children:[s.jsx("div",{className:"font-semibold",children:"I'll Pick Up"}),s.jsx("div",{className:"text-sm text-gray-600",children:"33250 S Wilhoit Rd, Molalla"})]}),s.jsxs("button",{type:"button",onClick:()=>a(V=>({...V,delivery_required:!0})),className:`p-4 rounded-lg border-2 transition-all ${i.delivery_required?"border-green-600 bg-green-50 text-green-900":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("div",{className:"font-semibold",children:"Deliver to Me"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Delivery fee applies"})]})]})]}),(i.delivery_required||t==="junk_removal"||t==="material_delivery")&&s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"delivery_address",className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(gr,{className:"inline h-4 w-4 mr-1"}),t==="rental"||t==="material_delivery"?"Delivery":"Service"," Address *"]}),s.jsx("input",{type:"text",id:"delivery_address",name:"delivery_address",required:i.delivery_required||t==="junk_removal"||t==="material_delivery",value:i.delivery_address,onChange:he,className:"w-full px-4 py-4 text-base border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all",placeholder:"123 Main St, Molalla, OR 97038"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"notes",className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(bh,{className:"inline h-4 w-4 mr-1"}),t==="material_delivery"?"Material Type & Quantity *":"Additional Notes"]}),s.jsx("textarea",{id:"notes",name:"notes",rows:4,value:i.notes,onChange:he,required:t==="material_delivery",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:t==="material_delivery"?"Please specify: Rock ($350-$550/7 yards depending on type), Fill Dirt ($100/7 yards), or Mulch ($280-$445/7 yards depending on mix)":"Tell us about your project or any special requirements..."})]}),t==="rental"&&s.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(jt,{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Required Documents"}),s.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"For your safety and ours, we require a valid driver's license and proof of insurance for all trailer rentals. Your information is securely stored and only used for rental verification purposes."})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(au,{label:"Driver's License",accept:".jpg,.jpeg,.png,.pdf",maxSizeMB:5,onFileSelect:g,required:!0,helpText:"Upload a clear photo or scan of your valid driver's license"}),s.jsx(au,{label:"Insurance Document",accept:".jpg,.jpeg,.png,.pdf",maxSizeMB:5,onFileSelect:m,required:!0,helpText:"Upload your current auto insurance card or policy document"})]}),s.jsx("div",{className:"bg-white border border-blue-200 rounded p-3",children:s.jsxs("p",{className:"text-xs text-gray-600",children:[s.jsx("strong",{children:"Privacy Notice:"})," Your documents are encrypted and stored securely. We only use this information to verify rental eligibility and will never share it with third parties. Documents are automatically deleted 30 days after your rental period ends."]})})]}),(t==="rental"&&i.start_date&&i.end_date||t==="junk_removal"||t==="material_delivery")&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsxs("div",{className:"space-y-2",children:[t==="rental"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700",children:"Rental Fee:"}),s.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",T()]})]}),_()>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700",children:"Delivery Fee:"}),s.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",_()]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700",children:"Refundable Deposit:"}),s.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",N()]})]}),s.jsx("div",{className:"border-t border-green-300 pt-2 mt-2",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700 font-semibold",children:"Total Due Now:"}),s.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",M()]})]})})]}),(t==="junk_removal"||t==="material_delivery")&&s.jsxs("div",{className:"text-center py-4",children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"Custom Quote Required"}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"We'll contact you with pricing details"})]})]}),t==="rental"&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-3",children:[s.jsx("p",{className:"text-sm text-blue-800 font-semibold mb-1",children:"💡 How Payment Works:"}),s.jsxs("ul",{className:"text-xs text-blue-700 space-y-1 ml-4 list-disc",children:[s.jsx("li",{children:"Pay rental fee + delivery (if selected) + $50 deposit today"}),s.jsx("li",{children:"Use trailer for your project"}),s.jsx("li",{children:"Return clean - get $50 deposit back in 2-3 business days"})]})]}),t!=="rental"&&s.jsx("p",{className:"text-sm text-gray-600 mt-3",children:"* Final pricing will be provided after we review your request"})]}),t==="rental"&&i.start_date&&i.end_date&&s.jsx(rx,{}),c==="error"&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-800",children:d}),s.jsx("button",{type:"submit",disabled:l||v,onMouseDown:()=>console.log("🖱️ Mouse down on button"),onClick:()=>console.log("🔘 Button onClick fired"),className:"w-full bg-green-600 text-white py-4 rounded-lg font-bold text-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:v?"Uploading Documents...":l?"Submitting...":t==="rental"?"Request Booking":"Request Quote"}),s.jsx("p",{className:"text-sm text-gray-600 text-center",children:t==="rental"&&!i.delivery_required?"After submitting, you'll complete the rental agreement with e-signature.":t==="rental"&&i.delivery_required?"We'll contact you to confirm delivery details and pricing. No rental agreement needed for delivery.":t==="material_delivery"?"We'll contact you to confirm material availability, delivery details, and final pricing.":"By submitting, you agree to be contacted about your booking request. We'll call or text you at the number provided to confirm details."})]})})}function sx({onClose:t,onSuccess:e}){const[r,n]=C.useState(!1),[i,a]=C.useState(""),[l,o]=C.useState(!1),[c,u]=C.useState({customer_name:"",customer_email:"",customer_phone:"",date_of_birth:"",drivers_license_number:"",address:"",city:"",state:"",zip_code:"",emergency_contact_name:"",emergency_contact_phone:"",service_type:"rental",trailer_type:"Southland 6x12 10k",start_date:"",end_date:"",delivery_address:"",delivery_required:!1,notes:"",total_price:0,deposit_amount:50}),[d,h]=C.useState({}),f=g=>{const{name:p,value:m,type:v}=g.target,w=g.target.checked;u(_=>({..._,[p]:v==="checkbox"?w:m}))},x=(g,p)=>{g.target.files&&g.target.files[0]&&h(m=>({...m,[p]:g.target.files[0]}))},y=g=>{h(p=>{const m={...p};return delete m[g],m})},b=async g=>{const p=[];for(const[m,v]of Object.entries(d))if(v){const w=v.name.split(".").pop(),_=`${g}/${m}.${w}`;p.push(ae.storage.from("booking-documents").upload(_,v,{upsert:!0}))}await Promise.all(p)},S=async g=>{g.preventDefault(),a(""),n(!0);try{if(!c.customer_name||!c.customer_email||!c.customer_phone)throw new Error("Please fill in all required customer information");if(c.service_type==="rental"&&(!c.start_date||!c.end_date))throw new Error("Please select rental dates");const p={customer_name:c.customer_name,customer_email:c.customer_email,customer_phone:c.customer_phone,date_of_birth:c.date_of_birth||null,drivers_license_number:c.drivers_license_number||null,address:c.address||null,city:c.city||null,state:c.state||null,zip_code:c.zip_code||null,emergency_contact_name:c.emergency_contact_name||null,emergency_contact_phone:c.emergency_contact_phone||null,service_type:c.service_type,trailer_type:c.trailer_type,start_date:c.start_date,end_date:c.end_date||null,delivery_address:c.delivery_address||c.address||"",delivery_required:c.delivery_required,notes:c.notes||"",status:"confirmed",total_price:c.total_price,deposit_amount:c.deposit_amount,payment_status:"pending",created_by_admin:!0},{data:m,error:v}=await ae.from("bookings").insert([p]).select().single();if(v)throw v;if(Object.keys(d).length>0){o(!0),await b(m.id);const w=!!d.license_front,_=!!d.license_back,N=!!d.insurance;await ae.from("bookings").update({license_uploaded:w||_,insurance_uploaded:N}).eq("id",m.id)}alert("Direct booking created successfully!"),e(),t()}catch(p){console.error("Error creating booking:",p),a(p.message||"Failed to create booking")}finally{n(!1),o(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full my-8",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center rounded-t-lg",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Create Direct Booking"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(wt,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:S,className:"p-6 space-y-6",children:[i&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-800",children:i}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(jh,{className:"h-5 w-5"}),"Customer Information"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",name:"customer_name",value:c.customer_name,onChange:f,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date of Birth"}),s.jsx("input",{type:"date",name:"date_of_birth",value:c.date_of_birth,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email *"}),s.jsx("input",{type:"email",name:"customer_email",value:c.customer_email,onChange:f,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"john@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone *"}),s.jsx("input",{type:"tel",name:"customer_phone",value:c.customer_phone,onChange:f,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"(555) 123-4567"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Driver's License Number"}),s.jsx("input",{type:"text",name:"drivers_license_number",value:c.drivers_license_number,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"DL123456"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(gr,{className:"h-5 w-5"}),"Address Information"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Street Address"}),s.jsx("input",{type:"text",name:"address",value:c.address,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"123 Main St"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City"}),s.jsx("input",{type:"text",name:"city",value:c.city,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Molalla"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"State"}),s.jsx("input",{type:"text",name:"state",value:c.state,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"OR",maxLength:2})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ZIP Code"}),s.jsx("input",{type:"text",name:"zip_code",value:c.zip_code,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"97038"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(Le,{className:"h-5 w-5"}),"Emergency Contact"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Emergency Contact Name"}),s.jsx("input",{type:"text",name:"emergency_contact_name",value:c.emergency_contact_name,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Jane Doe"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Emergency Contact Phone"}),s.jsx("input",{type:"tel",name:"emergency_contact_phone",value:c.emergency_contact_phone,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"(555) 987-6543"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(Ve,{className:"h-5 w-5"}),"Rental Details"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Service Type *"}),s.jsxs("select",{name:"service_type",value:c.service_type,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"rental",children:"Trailer Rental"}),s.jsx("option",{value:"junk_removal",children:"Junk Removal"}),s.jsx("option",{value:"material_delivery",children:"Material Delivery"})]})]}),c.service_type==="rental"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Trailer Type"}),s.jsxs("select",{name:"trailer_type",value:c.trailer_type,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"Southland 6x12 10k",children:"Southland 6x12 10k"}),s.jsx("option",{value:"Southland 7x14 14k",children:"Southland 7x14 14k"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Date *"}),s.jsx("input",{type:"date",name:"start_date",value:c.start_date,onChange:f,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End Date *"}),s.jsx("input",{type:"date",name:"end_date",value:c.end_date,onChange:f,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Total Price ($)"}),s.jsx("input",{type:"number",name:"total_price",value:c.total_price,onChange:f,step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"150.00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Deposit Amount ($)"}),s.jsx("input",{type:"number",name:"deposit_amount",value:c.deposit_amount,onChange:f,step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"50.00"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",name:"delivery_required",checked:c.delivery_required,onChange:f,className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Delivery Required"})]})}),c.delivery_required&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Delivery Address"}),s.jsx("input",{type:"text",name:"delivery_address",value:c.delivery_address,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Same as customer address or specify"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[s.jsx(yo,{className:"h-5 w-5"}),"Document Upload (License & Insurance)"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Driver's License (Front)"}),d.license_front?s.jsxs("div",{className:"relative border-2 border-green-300 rounded-lg p-3 bg-green-50",children:[s.jsx("p",{className:"text-sm text-gray-700 truncate",children:d.license_front.name}),s.jsx("button",{type:"button",onClick:()=>y("license_front"),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:s.jsx(wt,{className:"h-3 w-3"})})]}):s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[s.jsx(zs,{className:"h-8 w-8 text-gray-400 mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Click to upload"}),s.jsx("input",{type:"file",accept:"image/*",onChange:g=>x(g,"license_front"),className:"hidden"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Driver's License (Back)"}),d.license_back?s.jsxs("div",{className:"relative border-2 border-green-300 rounded-lg p-3 bg-green-50",children:[s.jsx("p",{className:"text-sm text-gray-700 truncate",children:d.license_back.name}),s.jsx("button",{type:"button",onClick:()=>y("license_back"),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:s.jsx(wt,{className:"h-3 w-3"})})]}):s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[s.jsx(zs,{className:"h-8 w-8 text-gray-400 mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Click to upload"}),s.jsx("input",{type:"file",accept:"image/*",onChange:g=>x(g,"license_back"),className:"hidden"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Insurance Card"}),d.insurance?s.jsxs("div",{className:"relative border-2 border-green-300 rounded-lg p-3 bg-green-50",children:[s.jsx("p",{className:"text-sm text-gray-700 truncate",children:d.insurance.name}),s.jsx("button",{type:"button",onClick:()=>y("insurance"),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:s.jsx(wt,{className:"h-3 w-3"})})]}):s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[s.jsx(zs,{className:"h-8 w-8 text-gray-400 mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Click to upload"}),s.jsx("input",{type:"file",accept:"image/*",onChange:g=>x(g,"insurance"),className:"hidden"})]})]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"You can upload these documents now or later when the customer arrives"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Notes"}),s.jsx("textarea",{name:"notes",value:c.notes,onChange:f,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Any special instructions or notes..."})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{type:"submit",disabled:r||l,className:"flex-1 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed font-semibold text-lg",children:l?"Uploading Documents...":r?"Creating Booking...":"Create Booking"}),s.jsx("button",{type:"button",onClick:t,disabled:r||l,className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-semibold disabled:opacity-50",children:"Cancel"})]})]})]})})}function ix(){const[t,e]=C.useState([]),[r,n]=C.useState(!0),[i,a]=C.useState("all"),[l,o]=C.useState(!1),[c,u]=C.useState(null),[d,h]=C.useState(""),[f,x]=C.useState(""),[y,b]=C.useState(""),[S,g]=C.useState(!1),[p,m]=C.useState(!1),[v,w]=C.useState(null),[_,N]=C.useState(!1),[T,M]=C.useState(""),[R,Y]=C.useState(null);C.useEffect(()=>{lt()},[]);const qe=(j,D,W)=>{const se=D.split(" ")[0];switch(j){case"pickup_reminder":return`Hi ${se}, reminder: Your Molalla Trailer pickup is tomorrow! Bring your driver's license. Call 503-500-6121 with questions.`;case"return_reminder":return`Hi ${se}, reminder: Trailer return due tomorrow by end of day. Need extension? Call 503-500-6121 - Molalla Trailer`;case"overdue":return`${se}, your trailer rental is OVERDUE. Please return ASAP or call 503-500-6121. Late fees apply. - Molalla Trailer`;case"active":return`${se}, your trailer rental is active! Return by ${W.end_date?new Date(W.end_date).toLocaleDateString():"end date"}. Questions? 503-500-6121`;case"completed":return`Thank you ${se}! Rental complete. Your deposit refund will be processed within 2-3 days. - Molalla Trailer Rentals`;default:return`Hi ${se}, this is Molalla Trailer Rentals regarding your booking. Call 503-500-6121 if you have questions.`}},De=(j,D)=>{const W=j.replace(/\D/g,""),se=encodeURIComponent(D);window.open(`sms:${W}?body=${se}`,"_blank")},lt=async()=>{try{const{data:j,error:D}=await ae.from("bookings").select("*").order("created_at",{ascending:!1});if(D)throw D;e(j||[])}catch(j){console.error("Error fetching bookings:",j)}finally{n(!1)}},he=async(j,D)=>{const W=t.find(fe=>fe.id===j);if(!W)return;const se={confirmed:`Approve and confirm booking for ${W.customer_name}?`,active:`Mark rental as ACTIVE for ${W.customer_name}? (Customer currently has the trailer)`,overdue:`Mark rental as OVERDUE for ${W.customer_name}? Customer will be notified.`,completed:`Mark booking for ${W.customer_name} as completed?`,cancelled:`Cancel booking for ${W.customer_name}? This cannot be undone.`,pending:"Move booking back to pending?"};if(confirm(se[D]||"Update booking status?"))try{const{error:fe}=await ae.from("bookings").update({status:D}).eq("id",j);if(fe)throw console.error("Supabase error:",fe),fe;alert(`Booking ${D} successfully!`);try{await fetch("https://hwthgbbckcowdqoxvbsx.supabase.co/functions/v1/send-status-notification",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh3dGhnYmJja2Nvd2Rxb3h2YnN4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk4NDgzMjgsImV4cCI6MjA3NTQyNDMyOH0.algrOqrqVZBI7s2c-DUWoJYHCY32KSvocVpKU0ntgzI"},body:JSON.stringify({customerEmail:W.customer_email,customerName:W.customer_name,bookingId:W.id,status:D,startDate:W.start_date,endDate:W.end_date,totalPrice:W.total_price})})}catch(an){console.error("Failed to send email notification:",an)}await lt()}catch(fe){console.error("Error updating booking:",fe),alert(`Failed to update booking: ${fe.message||"Unknown error"}`)}},V=j=>{var D;u(j),h(((D=j.total_price)==null?void 0:D.toString())||""),x(j.service_type==="junk_removal"?"Junk Removal Service":"Material Delivery Service"),o(!0),b(""),m(!1)},Z=async()=>{if(!(!c||!d)){g(!0);try{await ae.auth.getSession();const D=await fetch("https://hwthgbbckcowdqoxvbsx.supabase.co/functions/v1/create-payment-link",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh3dGhnYmJja2Nvd2Rxb3h2YnN4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk4NDgzMjgsImV4cCI6MjA3NTQyNDMyOH0.algrOqrqVZBI7s2c-DUWoJYHCY32KSvocVpKU0ntgzI"},body:JSON.stringify({bookingId:c.id,amount:parseFloat(d),description:f})});if(!D.ok)throw new Error("Failed to create payment link");const{url:W}=await D.json();b(W)}catch(j){console.error("Error generating payment link:",j),alert("Failed to generate payment link")}finally{g(!1)}}},E=()=>{navigator.clipboard.writeText(y),m(!0),setTimeout(()=>m(!1),2e3)},O=async(j,D)=>{const W=t.find(fe=>fe.id===j);if(!W||!W.deposit_amount)return;const se=D==="full"?W.deposit_amount:W.deposit_amount/2;if(confirm(`Refund ${D} deposit of $${se.toFixed(2)}?`)){w(j);try{const an=await fetch("https://hwthgbbckcowdqoxvbsx.supabase.co/functions/v1/refund-deposit",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh3dGhnYmJja2Nvd2Rxb3h2YnN4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk4NDgzMjgsImV4cCI6MjA3NTQyNDMyOH0.algrOqrqVZBI7s2c-DUWoJYHCY32KSvocVpKU0ntgzI"},body:JSON.stringify({bookingId:j,refundAmount:se})});if(!an.ok){const Vh=await an.json();throw new Error(Vh.error||"Failed to refund deposit")}alert("Deposit refunded successfully!"),await lt()}catch(fe){alert(fe.message||"Failed to refund deposit")}finally{w(null)}}},I=async j=>{if(confirm("Mark this booking as paid with cash?"))try{const{error:D}=await ae.from("bookings").update({payment_status:"paid",status:"confirmed"}).eq("id",j);if(D)throw D;await lt()}catch(D){console.error("Error marking as paid:",D),alert("Failed to update payment status")}},U=t.filter(j=>i==="all"||j.status===i).filter(j=>{if(!T)return!0;const D=T.toLowerCase();return j.customer_name.toLowerCase().includes(D)||j.customer_email.toLowerCase().includes(D)||j.customer_phone.toLowerCase().includes(D)||j.id.toLowerCase().includes(D)||j.drivers_license_number&&j.drivers_license_number.toLowerCase().includes(D)}),q=j=>{switch(j){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"confirmed":return"bg-green-100 text-green-800 border-green-300";case"active":return"bg-purple-100 text-purple-800 border-purple-300";case"overdue":return"bg-red-100 text-red-800 border-red-300 font-bold";case"completed":return"bg-blue-100 text-blue-800 border-blue-300";case"cancelled":return"bg-gray-100 text-gray-800 border-gray-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};return r?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading bookings..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Manage Bookings"}),s.jsxs("button",{onClick:()=>N(!0),className:"bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition-colors shadow-lg flex items-center gap-2",children:[s.jsx($p,{className:"h-5 w-5"}),"Create Direct Booking"]})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by name, email, phone, booking ID, or license number...",value:T,onChange:j=>M(j.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-lg"}),T&&s.jsx("button",{onClick:()=>M(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"✕"})]})}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs("button",{onClick:()=>a("all"),className:`px-4 py-2 rounded-lg font-semibold transition-colors ${i==="all"?"bg-slate-800 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:["All (",t.length,")"]}),s.jsxs("button",{onClick:()=>a("pending"),className:`px-4 py-2 rounded-lg font-semibold transition-colors ${i==="pending"?"bg-yellow-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:["Pending (",t.filter(j=>j.status==="pending").length,")"]}),s.jsxs("button",{onClick:()=>a("confirmed"),className:`px-4 py-2 rounded-lg font-semibold transition-colors ${i==="confirmed"?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:["Confirmed (",t.filter(j=>j.status==="confirmed").length,")"]}),s.jsxs("button",{onClick:()=>a("active"),className:`px-4 py-2 rounded-lg font-semibold transition-colors ${i==="active"?"bg-purple-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:["Active Rentals (",t.filter(j=>j.status==="active").length,")"]}),s.jsxs("button",{onClick:()=>a("overdue"),className:`px-4 py-2 rounded-lg font-bold transition-colors ${i==="overdue"?"bg-red-600 text-white animate-pulse":"bg-red-100 text-red-800 hover:bg-red-200 border-2 border-red-400"}`,children:["🚨 OVERDUE (",t.filter(j=>j.status==="overdue").length,")"]}),s.jsxs("button",{onClick:()=>a("completed"),className:`px-4 py-2 rounded-lg font-semibold transition-colors ${i==="completed"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:["Completed (",t.filter(j=>j.status==="completed").length,")"]}),s.jsxs("button",{onClick:()=>a("cancelled"),className:`px-4 py-2 rounded-lg font-semibold transition-colors ${i==="cancelled"?"bg-gray-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:["Cancelled (",t.filter(j=>j.status==="cancelled").length,")"]})]})]}),U.length===0?s.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:s.jsx("p",{className:"text-gray-600 text-lg",children:"No bookings found"})}):s.jsx("div",{className:"space-y-4",children:U.map(j=>{var D;return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-600",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800",children:j.customer_name}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${q(j.status)}`,children:j.status.toUpperCase()})]}),s.jsxs("div",{className:"flex items-center gap-4 text-gray-600 text-sm",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(xo,{className:"h-4 w-4"}),new Date(j.created_at).toLocaleDateString()]}),s.jsx("span",{className:"font-semibold text-green-600",children:j.service_type==="rental"?"Trailer Rental":"Junk Removal"})]})]}),s.jsxs("div",{className:"text-right",children:[j.service_type==="rental"&&s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",j.total_price]}),j.service_type==="junk_removal"&&s.jsx("div",{className:"text-lg font-semibold text-gray-600",children:"Quote Needed"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx(Le,{className:"h-4 w-4 text-gray-500"}),s.jsx("a",{href:`tel:${j.customer_phone}`,className:"hover:text-green-600 font-semibold",children:j.customer_phone}),s.jsxs("button",{onClick:()=>Y(R===j.id?null:j.id),className:"ml-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-xs font-semibold flex items-center gap-1",title:"Send Text Message",children:[s.jsx(bh,{className:"h-3 w-3"}),"Text"]})]}),R===j.id&&s.jsxs("div",{className:"ml-6 p-3 bg-blue-50 rounded-lg border-2 border-blue-200 space-y-2",children:[s.jsx("p",{className:"text-xs font-bold text-blue-900 mb-2",children:"Quick Text Templates:"}),s.jsxs("button",{onClick:()=>De(j.customer_phone,qe("pickup_reminder",j.customer_name,j)),className:"w-full text-left px-3 py-2 bg-white hover:bg-blue-100 rounded border border-blue-200 text-xs transition-colors",children:["📅 ",s.jsx("span",{className:"font-semibold",children:"Pickup Reminder"})," - Reminder about tomorrow's pickup"]}),s.jsxs("button",{onClick:()=>De(j.customer_phone,qe("return_reminder",j.customer_name,j)),className:"w-full text-left px-3 py-2 bg-white hover:bg-blue-100 rounded border border-blue-200 text-xs transition-colors",children:["🔔 ",s.jsx("span",{className:"font-semibold",children:"Return Reminder"})," - Reminder to return trailer"]}),s.jsxs("button",{onClick:()=>De(j.customer_phone,qe("overdue",j.customer_name,j)),className:"w-full text-left px-3 py-2 bg-white hover:bg-red-100 rounded border border-red-200 text-xs transition-colors",children:["🚨 ",s.jsx("span",{className:"font-semibold text-red-700",children:"Overdue Notice"})," - Urgent overdue notification"]}),s.jsxs("button",{onClick:()=>De(j.customer_phone,qe("default",j.customer_name,j)),className:"w-full text-left px-3 py-2 bg-white hover:bg-blue-100 rounded border border-blue-200 text-xs transition-colors",children:["💬 ",s.jsx("span",{className:"font-semibold",children:"Custom Message"})," - Blank message to customer"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx(ns,{className:"h-4 w-4 text-gray-500"}),s.jsx("a",{href:`mailto:${j.customer_email}`,className:"hover:text-green-600",children:j.customer_email})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx(gr,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{children:j.delivery_address})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx($e,{className:"h-4 w-4 text-gray-500"}),s.jsxs("span",{children:[new Date(j.start_date).toLocaleDateString(),j.end_date&&` - ${new Date(j.end_date).toLocaleDateString()}`]})]}),j.delivery_required&&s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx($,{className:"inline h-4 w-4 text-green-600 mr-1"}),"Delivery required"]}),j.notes&&s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Notes:"})," ",j.notes]})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsxs("div",{className:"flex gap-2 mb-3 flex-wrap",children:[j.payment_status&&s.jsxs("span",{className:`px-3 py-2 rounded-lg text-xs font-semibold ${j.payment_status==="paid"?"bg-green-100 text-green-800":j.payment_status==="refunded"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:["Payment: ",j.payment_status.toUpperCase()]}),j.deposit_refunded&&s.jsxs("span",{className:"px-3 py-2 rounded-lg text-xs font-semibold bg-blue-100 text-blue-800",children:["Deposit Refunded: $",((D=j.deposit_refund_amount)==null?void 0:D.toFixed(2))||"0.00"]})]}),s.jsxs("div",{className:"space-y-3",children:[j.status!=="cancelled"&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Booking Actions:"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[j.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>he(j.id,"confirmed"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-semibold flex items-center gap-1",children:[s.jsx($,{className:"h-4 w-4"}),"Approve & Confirm"]}),s.jsx("button",{onClick:()=>he(j.id,"cancelled"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-semibold",children:"Decline"})]}),j.status==="confirmed"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>he(j.id,"active"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm font-semibold flex items-center gap-1",children:[s.jsx(Ve,{className:"h-4 w-4"}),"Mark as Active Rental"]}),s.jsx("button",{onClick:()=>he(j.id,"cancelled"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-semibold",children:"Cancel"})]}),j.status==="active"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>he(j.id,"completed"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-semibold flex items-center gap-1",children:[s.jsx($,{className:"h-4 w-4"}),"Mark Complete (Returned)"]}),s.jsx("button",{onClick:()=>he(j.id,"cancelled"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-semibold",children:"Cancel"})]}),j.status==="overdue"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-bold animate-pulse",children:"🚨 OVERDUE - Contact Customer ASAP!"}),s.jsxs("button",{onClick:()=>he(j.id,"completed"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-semibold flex items-center gap-1",children:[s.jsx($,{className:"h-4 w-4"}),"Mark Complete (Returned)"]}),s.jsx("button",{onClick:()=>he(j.id,"active"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm font-semibold",children:"Mark as Active (Extension Granted)"})]}),j.status==="completed"&&s.jsx("span",{className:"px-4 py-2 bg-blue-100 text-blue-800 rounded-lg text-sm font-semibold",children:"✓ Booking Completed"})]})]}),j.payment_status!=="paid"&&j.status!=="cancelled"&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Payment Actions:"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[(j.service_type==="junk_removal"||j.service_type==="material_delivery")&&s.jsxs("button",{onClick:()=>V(j),className:"px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors text-sm font-semibold flex items-center gap-2",children:[s.jsx(Pn,{className:"h-4 w-4"}),"Create Payment Link"]}),s.jsxs("button",{onClick:()=>I(j.id),className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors text-sm font-semibold flex items-center gap-2",children:[s.jsx($,{className:"h-4 w-4"}),"Mark Paid (Cash)"]})]})]}),j.status==="completed"&&j.payment_status==="paid"&&j.deposit_amount&&!j.deposit_refunded&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Deposit Refund:"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs("button",{onClick:()=>O(j.id,"full"),disabled:v===j.id,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed text-sm font-semibold flex items-center gap-2",children:[s.jsx(Pn,{className:"h-4 w-4"}),"Refund Full ($",j.deposit_amount,")"]}),s.jsxs("button",{onClick:()=>O(j.id,"partial"),disabled:v===j.id,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed text-sm font-semibold flex items-center gap-2",children:[s.jsx(Pn,{className:"h-4 w-4"}),"Refund Half ($",(j.deposit_amount/2).toFixed(2),")"]})]})]})]})]})]},j.id)})}),l&&c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full p-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Generate Payment Link"}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("p",{className:"text-gray-600 mb-2",children:[s.jsx("strong",{children:"Customer:"})," ",c.customer_name]}),s.jsxs("p",{className:"text-gray-600 mb-2",children:[s.jsx("strong",{children:"Email:"})," ",c.customer_email]}),s.jsxs("p",{className:"text-gray-600 mb-4",children:[s.jsx("strong",{children:"Service:"})," ",c.service_type.replace("_"," ")]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Amount ($) *"}),s.jsx("input",{type:"number",step:"0.01",value:d,onChange:j=>h(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"600.00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description (optional)"}),s.jsx("input",{type:"text",value:f,onChange:j=>x(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Junk Removal Service"})]}),y&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-green-800 mb-2",children:"Payment Link Generated!"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:y,readOnly:!0,className:"flex-1 px-3 py-2 bg-white border border-green-300 rounded text-sm"}),s.jsxs("button",{onClick:E,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[p?s.jsx(kp,{className:"h-4 w-4"}):s.jsx(Pp,{className:"h-4 w-4"}),p?"Copied!":"Copy"]})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Send this link to the customer via email or text"})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[!y&&s.jsx("button",{onClick:Z,disabled:!d||S,className:"flex-1 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-300 font-semibold",children:S?"Generating...":"Generate Link"}),s.jsx("button",{onClick:()=>{o(!1),u(null),b("")},className:"flex-1 bg-gray-200 text-gray-800 px-6 py-3 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Close"})]})]})]})}),_&&s.jsx(sx,{onClose:()=>N(!1),onSuccess:lt})]})}function ax({onLoginSuccess:t}){const[e,r]=C.useState(""),[n,i]=C.useState(""),[a,l]=C.useState(!1),[o,c]=C.useState(""),u=async d=>{d.preventDefault(),l(!0),c("");try{const{data:h,error:f}=await ae.auth.signInWithPassword({email:e,password:n});if(f)throw f;h.user&&t()}catch(h){c(h.message||"Failed to sign in. Please check your credentials.")}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-slate-800 rounded-full mb-4",children:s.jsx(cl,{className:"h-8 w-8 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Admin Login"}),s.jsx("p",{className:"text-gray-600",children:"Sign in to manage bookings and customers"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[o&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(hi,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:o})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{id:"email",type:"email",value:e,onChange:d=>r(d.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 focus:border-transparent",placeholder:"admin@example.com"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(cl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{id:"password",type:"password",value:n,onChange:d=>i(d.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-600 focus:border-transparent",placeholder:"Enter your password"})]})]}),s.jsx("button",{type:"submit",disabled:a,className:"w-full bg-slate-800 text-white py-3 rounded-lg hover:bg-slate-700 transition-colors font-semibold disabled:bg-gray-400 disabled:cursor-not-allowed",children:a?"Signing in...":"Sign In"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Need help accessing your account?",s.jsx("br",{}),"Contact: ",s.jsx("a",{href:"tel:503-500-6121",className:"text-green-600 hover:underline",children:"503-500-6121"})]})})]})]})})}function lx(){const[t,e]=C.useState([]),[r,n]=C.useState(!0);C.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:o,error:c}=await ae.from("testimonials").select("*").eq("approved",!0).eq("is_featured",!0).order("created_at",{ascending:!1});if(c)throw c;e(o||[])}catch(o){console.error("Error fetching testimonials:",o)}finally{n(!1)}},a=o=>s.jsx("div",{className:"flex gap-1 mb-3",children:[...Array(5)].map((c,u)=>s.jsx(Ut,{className:`h-5 w-5 ${u<o?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},u))}),l=o=>{switch(o){case"rental":return"Trailer Rental";case"junk_removal":return"Junk Removal";case"material_delivery":return"Material Delivery";default:return"Customer"}};return r||t.length===0?null:s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h2",{className:"text-4xl font-bold text-center text-slate-800 mb-4",children:"What Our Customers Say"}),s.jsx("p",{className:"text-xl text-gray-600 text-center mb-16 max-w-3xl mx-auto",children:"Read reviews from satisfied customers who have used our dump trailer rentals, junk removal, and material delivery services."}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:t.map(o=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow",children:[a(o.rating),s.jsxs("p",{className:"text-gray-700 mb-4 text-lg leading-relaxed",children:['"',o.review_text,'"']}),s.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[s.jsx("p",{className:"font-semibold text-slate-800",children:o.customer_name}),s.jsx("p",{className:"text-sm text-gray-600",children:l(o.service_type)})]})]},o.id))})]})})}const ox=[{question:"What are your trailer rental rates?",answer:"We offer competitive daily, weekly, and monthly rates. Southland 6x12 10k starts at $120/day, $825/week, or $3,250/month. Southland 7x14 14k starts at $130/day, $900/week, or $3,550/month. Delivery fees vary by location."},{question:"What is the weight capacity of your trailers?",answer:"Our Southland 6x12 trailer has an 8,745 lb capacity, and our Southland 7x14 trailer has a 12,308 lb capacity. Both are perfect for construction debris, yard waste, dirt, gravel, and general hauling needs."},{question:"Do you deliver trailers?",answer:"Yes! We offer delivery service throughout Molalla and surrounding areas in Clackamas County. Delivery fees depend on distance. You can also pick up the trailer at our location: 33250 S Wilhoit Rd, Molalla."},{question:"What can I haul in your dump trailers?",answer:"Our trailers are perfect for construction debris, yard waste, dirt, gravel, mulch, furniture, appliances, and general junk removal. Please contact us if you have questions about specific materials."},{question:"How do I operate the dump feature?",answer:"Our dump trailers are easy to operate with a hydraulic lift system. We provide a brief demonstration during delivery or pickup. The process is simple and safe when following basic instructions."},{question:"What do I need to tow the trailer?",answer:`You'll need a vehicle with appropriate towing capacity and a 2 5/16" ball hitch. We recommend a truck or SUV rated for the trailer's weight. Contact us if you're unsure about your vehicle's compatibility.`},{question:"How far in advance should I book?",answer:"We recommend booking as early as possible, especially during peak season (spring and summer). However, we often have same-day or next-day availability. Call us at 503-500-6121 to check current availability."},{question:"What areas do you serve?",answer:"We primarily serve Molalla and surrounding areas in Clackamas County, including Canby, Oregon City, Woodburn, and nearby communities. Contact us to confirm delivery to your specific location."},{question:"Do you offer junk removal services?",answer:"Yes! We provide full-service junk removal where we handle all the loading and hauling for you. This is perfect for estate cleanouts, foreclosure cleanup, or any situation where you need us to do the heavy lifting."},{question:"What payment methods do you accept?",answer:"We accept card, cash, or Venmo. Payment is due at the time of rental or service."},{question:"Is there a deposit required?",answer:"Yes, we require a refundable security deposit for trailer rentals. The deposit amount varies by trailer type and rental duration. The deposit is fully refunded when the trailer is returned in good condition."},{question:"Can I extend my rental period?",answer:"Absolutely! Just give us a call at 503-500-6121 before your rental period ends, and we'll be happy to extend it based on availability. Extended rentals may qualify for weekly or monthly rates."}];function cx(){const[t,e]=C.useState(null),r=n=>{e(t===n?null:n)};return s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-4xl font-bold text-center text-slate-800 mb-4",children:"Frequently Asked Questions"}),s.jsx("p",{className:"text-xl text-gray-600 text-center mb-16",children:"Find answers to common questions about our trailer rentals and services"}),s.jsx("div",{className:"space-y-4",children:ox.map((n,i)=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-all hover:shadow-lg",children:[s.jsxs("button",{onClick:()=>r(i),className:"w-full px-6 py-5 text-left flex justify-between items-center hover:bg-gray-50 transition-colors",children:[s.jsx("span",{className:"font-semibold text-lg text-slate-800 pr-4",children:n.question}),t===i?s.jsx(Tp,{className:"h-5 w-5 text-green-600 flex-shrink-0"}):s.jsx(Sp,{className:"h-5 w-5 text-gray-400 flex-shrink-0"})]}),t===i&&s.jsx("div",{className:"px-6 pb-5 pt-2",children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.answer})})]},i))}),s.jsxs("div",{className:"mt-12 text-center bg-white rounded-lg p-8 shadow-md",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-3",children:"Still have questions?"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"We're here to help! Give us a call or send us an email."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx("a",{href:"tel:503-500-6121",className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:"Call: 503-500-6121"}),s.jsx("a",{href:"mailto:Molallatrailerrental@outlook.com",className:"bg-slate-700 text-white px-6 py-3 rounded-lg hover:bg-slate-600 transition-colors font-semibold",children:"Email Us"})]})]})]})})}function ux(){const t=[{src:"/trailer-dumping.jpg.jpg",alt:"Hydraulic dump trailer in action, unloading debris",category:"Dumping"},{src:"/trailer-excavator.jpg.jpg",alt:"Heavy equipment loading trailer at construction site",category:"Construction"},{src:"/trailer-junk-removal.jpg.jpg",alt:"Junk removal and debris hauling service",category:"Junk Removal"},{src:"/trailer-soil.jpg.jpg",alt:"Soil and material delivery for landscaping projects",category:"Material Delivery"},{src:"/trailer-dirt-load.jpg.jpg",alt:"Trailer loaded with dirt for residential project",category:"Dirt Hauling"},{src:"/image copy copy copy copy copy copy.png",alt:"Professional dump trailer ready for your next project",category:"Our Fleet"}];return s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h2",{className:"text-4xl font-bold text-center text-slate-800 mb-4",children:"Our Work in Action"}),s.jsx("p",{className:"text-xl text-gray-600 text-center mb-16 max-w-3xl mx-auto",children:"See our professional dump trailers serving Molalla and surrounding areas. From junk removal to material delivery, we handle projects of all sizes."}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 gap-6",children:t.map((e,r)=>s.jsxs("div",{className:"group relative rounded-lg overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300",children:[s.jsx("img",{src:e.src,alt:e.alt,className:"w-full h-72 object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("span",{className:"inline-block bg-green-600 text-white px-3 py-1 rounded-full text-sm font-semibold",children:e.category}),s.jsx("p",{className:"text-white mt-2 text-sm",children:e.alt})]})})]},r))}),s.jsxs("div",{className:"mt-12 text-center",children:[s.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"Ready to start your project? Our professional trailers are available for daily, weekly, or monthly rentals."}),s.jsx("a",{href:"tel:503-500-6121",className:"inline-block bg-green-600 text-white px-8 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold text-lg",children:"Call Now: 503-500-6121"})]})]})})}const dx=[{name:"2025 Southland 6x12 SL612-10K Dump Trailer",image:"/image copy copy copy copy copy copy.png",price:{daily:"$120",weekly:"$825",monthly:"$3,250"},specs:[{icon:s.jsx(Lc,{className:"h-5 w-5"}),label:"Bed Dimensions",value:"6' W x 12' L"},{icon:s.jsx(Fc,{className:"h-5 w-5"}),label:"Weight Capacity",value:"8,745 lbs"},{icon:s.jsx(Ac,{className:"h-5 w-5"}),label:"Sidewall Height",value:"24 inches"},{icon:s.jsx($c,{className:"h-5 w-5"}),label:"Hitch Size",value:'2 5/16" ball'},{icon:s.jsx(zc,{className:"h-5 w-5"}),label:"Dump System",value:"Hydraulic"},{icon:s.jsx(jt,{className:"h-5 w-5"}),label:"GVWR",value:"11,464 lbs"}],features:["Perfect for residential projects and yard cleanup","Easy loading with low sides","Hydraulic dump for effortless unloading","Heavy-duty construction","LED lighting package","Full length tarp included"],includedItems:["(2) Ramps","(1) Spare tire","(1) Solar battery charger","(2) 5,000 Lbs ratchet straps","(2) 1,000 Lbs ratchet straps","(2) Chain binders","(2) 14ft 3/8 chain","(1) Bottle jack","(1) Tire iron"]},{name:"2025 Southland 7x14 SL714-14K Dump Trailer",image:"/image copy copy copy copy copy copy copy.png",price:{daily:"$130",weekly:"$900",monthly:"$3,550"},specs:[{icon:s.jsx(Lc,{className:"h-5 w-5"}),label:"Bed Dimensions",value:"7' W x 14' L"},{icon:s.jsx(Fc,{className:"h-5 w-5"}),label:"Weight Capacity",value:"12,308 lbs"},{icon:s.jsx(Ac,{className:"h-5 w-5"}),label:"Sidewall Height",value:"24 inches"},{icon:s.jsx($c,{className:"h-5 w-5"}),label:"Hitch Size",value:'2 5/16" ball'},{icon:s.jsx(zc,{className:"h-5 w-5"}),label:"Dump System",value:"Hydraulic"},{icon:s.jsx(jt,{className:"h-5 w-5"}),label:"GVWR",value:"15,432 lbs"}],features:["Ideal for larger commercial and construction projects","Maximum capacity for heavy materials","Hydraulic dump system with easy controls","Reinforced frame and axles","Upgraded LED lighting","Full length tarp included"],includedItems:["(2) Ramps","(1) Spare tire","(1) Solar battery charger","(2) 5,000 Lbs ratchet straps","(2) 1,000 Lbs ratchet straps","(2) Chain binders","(2) 14ft 3/8 chain","(1) Bottle jack","(1) Tire iron"]}];function hx(){return s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h2",{className:"text-4xl font-bold text-center text-slate-800 mb-4",children:"Trailer Specifications"}),s.jsx("p",{className:"text-xl text-gray-600 text-center mb-16 max-w-3xl mx-auto",children:"Professional-grade dump trailers built for reliability and performance. Choose the size that fits your project needs."}),s.jsx("div",{className:"space-y-12",children:dx.map((t,e)=>s.jsx("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-0",children:[s.jsxs("div",{className:"relative h-80 md:h-auto md:col-span-1",children:[s.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-contain bg-gray-100 rounded-l-xl"}),s.jsxs("div",{className:"absolute top-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg font-bold shadow-lg",children:["From ",t.price.daily,"/day"]})]}),s.jsxs("div",{className:"md:col-span-2 grid md:grid-cols-2",children:[s.jsxs("div",{className:"p-8 border-b md:border-b-0 md:border-r border-gray-200",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-6",children:t.name}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Rental Rates"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700 font-medium",children:"Daily"}),s.jsx("span",{className:"text-xl font-bold text-green-600",children:t.price.daily})]}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700 font-medium",children:"Weekly"}),s.jsx("span",{className:"text-xl font-bold text-green-600",children:t.price.weekly})]}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700 font-medium",children:"Monthly"}),s.jsx("span",{className:"text-xl font-bold text-green-600",children:t.price.monthly})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Technical Specifications"}),s.jsx("div",{className:"space-y-3",children:t.specs.map((r,n)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"text-green-600 mt-1",children:r.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm text-gray-600",children:r.label}),s.jsx("div",{className:"font-semibold text-slate-800",children:r.value})]})]},n))})]})]}),s.jsxs("div",{className:"p-8 bg-gray-50",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Key Features"}),s.jsx("ul",{className:"space-y-2",children:t.features.map((r,n)=>s.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[s.jsx("span",{className:"text-green-600 mt-1 font-bold",children:"•"}),s.jsx("span",{className:"text-sm",children:r})]},n))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Included with Your Rental"}),s.jsx("div",{className:"space-y-2",children:t.includedItems.map((r,n)=>s.jsxs("div",{className:"flex items-start gap-2 text-gray-700 bg-white px-3 py-2 rounded-lg",children:[s.jsx("span",{className:"text-green-600 mt-0.5 font-bold",children:"✓"}),s.jsx("span",{className:"text-sm font-medium",children:r})]},n))})]})]})]})]})},e))}),s.jsxs("div",{className:"mt-12 bg-slate-800 rounded-xl p-8 text-center text-white",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Need Help Choosing?"}),s.jsx("p",{className:"text-lg mb-6 opacity-90",children:"Not sure which trailer is right for your project? Give us a call and we'll help you select the perfect option."}),s.jsx("a",{href:"tel:503-500-6121",className:"inline-block bg-green-600 text-white px-8 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold text-lg",children:"Call: 503-500-6121"})]})]})})}function fx(){const t=[{name:"Molalla",featured:!0},{name:"Canby",featured:!0},{name:"Oregon City",featured:!0},{name:"Woodburn",featured:!1},{name:"Silverton",featured:!1},{name:"Estacada",featured:!1},{name:"Wilsonville",featured:!1},{name:"West Linn",featured:!1},{name:"Lake Oswego",featured:!1},{name:"Gladstone",featured:!1},{name:"Milwaukie",featured:!1},{name:"Sandy",featured:!1}];return s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(gr,{className:"h-8 w-8 text-green-600"}),s.jsx("h2",{className:"text-4xl font-bold text-slate-800",children:"Service Area"})]}),s.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"We proudly serve Molalla and surrounding communities throughout Clackamas County and beyond. Our dump trailer rentals, junk removal, and material delivery services are available across the region."}),s.jsx("p",{className:"text-base text-gray-600 mb-8",children:"Based in Molalla, Oregon, we specialize in serving homeowners, contractors, and businesses throughout Clackamas County. Whether you need a dump trailer in Canby, junk removal in Oregon City, or material delivery in Woodburn, we've got you covered with professional service and competitive rates."}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-8",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Primary Service Areas"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.filter(e=>e.featured).map((e,r)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),s.jsx("span",{className:"font-semibold text-slate-800",children:e.name})]},r))})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-8",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Extended Service Areas"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.filter(e=>!e.featured).map((e,r)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:e.name})]},r))})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Don't see your city listed?"}),s.jsx("p",{className:"text-green-800 mb-4",children:"We may still be able to serve your area! Delivery fees vary by distance. Contact us to confirm availability for your location."}),s.jsx("a",{href:"tel:503-500-6121",className:"inline-block bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:"Call: 503-500-6121"})]})]}),s.jsx("div",{className:"bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl p-8 shadow-xl",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-lg",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-6 text-center",children:"Delivery Information"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-3",children:s.jsx(gr,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Pickup Location"}),s.jsxs("p",{className:"text-gray-600",children:["33250 S Wilhoit Rd",s.jsx("br",{}),"Molalla, OR 97038"]})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-3",children:s.jsx($,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Free Self-Pickup"}),s.jsx("p",{className:"text-gray-600",children:"Pick up your trailer at our location at no extra charge. Perfect if you're nearby or prefer to save on delivery fees."})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-3",children:s.jsx($,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Delivery Available"}),s.jsx("p",{className:"text-gray-600",children:"We'll bring the trailer to you! Delivery fees are based on distance from our Molalla location. Contact us for a quote."})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-3",children:s.jsx($,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Flexible Scheduling"}),s.jsx("p",{className:"text-gray-600",children:"Schedule delivery and pickup times that work for your project timeline. Same-day service often available."})]})]})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[s.jsx("p",{className:"text-center text-gray-600 mb-4",children:"Questions about delivery to your area?"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("a",{href:"tel:503-500-6121",className:"flex-1 bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold text-center",children:"Call Now"}),s.jsx("a",{href:"mailto:Molallatrailerrental@outlook.com",className:"flex-1 bg-slate-700 text-white px-4 py-3 rounded-lg hover:bg-slate-600 transition-colors font-semibold text-center",children:"Email Us"})]})]})]})})]})})})}const Pt={"Southland 6x12 10k":{daily:120,weekly:825,monthly:3250},"Southland 7x14 14k":{daily:130,weekly:900,monthly:3550}};function mx(){const[t,e]=C.useState("Southland 7x14 14k"),[r,n]=C.useState(""),[i,a]=C.useState(""),[l,o]=C.useState(!1),c=()=>{if(!r||!i)return 0;const x=new Date(r),y=new Date(i),b=Math.ceil((y.getTime()-x.getTime())/(1e3*60*60*24))+1;return b<1?0:b>=30?Pt[t].monthly:b>=7?Math.ceil(b/7)*Pt[t].weekly:b*Pt[t].daily},u=()=>{if(!r||!i)return 0;const x=new Date(r),y=new Date(i);return Math.ceil((y.getTime()-x.getTime())/(1e3*60*60*24))+1},d=x=>{x.preventDefault(),r&&i&&o(!0)},h=u(),f=c();return s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-green-50 to-green-100",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("div",{className:"inline-block p-4 bg-green-600 rounded-full mb-4",children:s.jsx(Np,{className:"h-8 w-8 text-white"})}),s.jsx("h2",{className:"text-4xl font-bold text-slate-800 mb-4",children:"Pricing Calculator"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Get an instant estimate for your trailer rental. Actual pricing confirmed upon booking."})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8",children:[s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"trailer",className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Ve,{className:"inline h-4 w-4 mr-1"}),"Select Trailer"]}),s.jsxs("select",{id:"trailer",value:t,onChange:x=>e(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-lg",children:[s.jsx("option",{value:"Southland 6x12 10k",children:"Southland 6x12 10k - Starting at $120/day"}),s.jsx("option",{value:"Southland 7x14 14k",children:"Southland 7x14 14k - Starting at $130/day"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"start",className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx($e,{className:"inline h-4 w-4 mr-1"}),"Start Date"]}),s.jsx("input",{type:"date",id:"start",value:r,onChange:x=>{n(x.target.value),o(!1)},min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-lg",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"end",className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx($e,{className:"inline h-4 w-4 mr-1"}),"End Date"]}),s.jsx("input",{type:"date",id:"end",value:i,onChange:x=>{a(x.target.value),o(!1)},min:r||new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-lg",required:!0})]})]}),s.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-4 rounded-lg text-lg font-bold hover:bg-green-700 transition-colors",children:"Calculate Estimate"})]}),l&&h>0&&f>0&&s.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-lg p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"text-gray-600 text-lg mb-2",children:"Estimated Rental Cost"}),s.jsxs("div",{className:"text-5xl font-bold text-green-600 mb-2",children:["$",f.toLocaleString()]}),s.jsxs("div",{className:"text-gray-600",children:["for ",h," ",h===1?"day":"days"]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-3",children:"Pricing Breakdown:"}),s.jsxs("div",{className:"space-y-2 text-gray-700",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Trailer:"}),s.jsx("span",{className:"font-semibold",children:t})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Rental Period:"}),s.jsxs("span",{className:"font-semibold",children:[h," days"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Rate Applied:"}),s.jsx("span",{className:"font-semibold",children:h>=30?"Monthly Rate":h>=7?"Weekly Rate":"Daily Rate"})]})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Note:"})," This is an estimate only. Delivery fees are not included and vary by location. A refundable security deposit is required."]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx("a",{href:"#booking",onClick:x=>{x.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})},className:"flex-1 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold text-center",children:"Book Now"}),s.jsx("a",{href:"tel:503-500-6121",className:"flex-1 bg-slate-700 text-white px-6 py-3 rounded-lg hover:bg-slate-600 transition-colors font-semibold text-center",children:"Call: 503-500-6121"})]})]})}),s.jsxs("div",{className:"mt-8 bg-gray-50 rounded-lg p-6",children:[s.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Pricing Tiers:"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700",children:"Daily Rate (1-6 days)"}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"font-semibold text-slate-800",children:["$",Pt[t].daily,"/day"]})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700",children:"Weekly Rate (7+ days)"}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-semibold text-slate-800",children:["$",Pt[t].weekly,"/week"]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["($",Math.round(Pt[t].weekly/7),"/day)"]})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-700",children:"Monthly Rate (30+ days)"}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-semibold text-slate-800",children:["$",Pt[t].monthly,"/month"]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["($",Math.round(Pt[t].monthly/30),"/day)"]})]})]})]})]})]})]})})}function px(){const[t,e]=C.useState(new Date),[r,n]=C.useState(new Map),[i,a]=C.useState(!0);C.useEffect(()=>{l()},[t]);const l=async()=>{a(!0);const f=t.getFullYear(),x=t.getMonth(),y=new Date(f,x,1),b=new Date(f,x+1,0),S=y.toISOString().split("T")[0],g=b.toISOString().split("T")[0],{data:p}=await ae.from("bookings").select("start_date, end_date").in("status",["confirmed","pending"]).eq("service_type","rental").gte("end_date",S).lte("start_date",g),m=new Map,v=2;for(let w=new Date(y);w<=b;w.setDate(w.getDate()+1)){const _=w.toISOString().split("T")[0];let N=0;p==null||p.forEach(T=>{const M=new Date(T.start_date),R=T.end_date?new Date(T.end_date):M,Y=new Date(_);Y>=M&&Y<=R&&N++}),m.set(_,v-N)}n(m),a(!1)},o=()=>{const f=t.getFullYear(),x=t.getMonth(),y=new Date(f,x,1),S=new Date(f,x+1,0).getDate(),g=y.getDay(),p=[];for(let m=0;m<g;m++)p.push(null);for(let m=1;m<=S;m++){const v=new Date(f,x,m),w=v.toISOString().split("T")[0],_=r.get(w)||0,N=v<new Date(new Date().setHours(0,0,0,0));p.push({date:w,available:_,isAvailable:_>0&&!N})}return p},c=()=>{e(new Date(t.getFullYear(),t.getMonth()-1))},u=()=>{e(new Date(t.getFullYear(),t.getMonth()+1))},d=["January","February","March","April","May","June","July","August","September","October","November","December"],h=o();return s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-white",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx($e,{className:"h-10 w-10 text-green-600 mr-3"}),s.jsx("h2",{className:"text-4xl font-bold text-slate-800",children:"Check Trailer Availability"})]}),s.jsx("p",{className:"text-xl text-gray-600",children:"See real-time availability for our dump trailers"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Previous month",children:s.jsx(Cp,{className:"h-6 w-6 text-slate-700"})}),s.jsxs("h3",{className:"text-2xl font-bold text-slate-800",children:[d[t.getMonth()]," ",t.getFullYear()]}),s.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Next month",children:s.jsx(Ep,{className:"h-6 w-6 text-slate-700"})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(f=>s.jsx("div",{className:"text-center font-semibold text-gray-600 py-2",children:f},f))}),i?s.jsx("div",{className:"flex justify-center items-center py-20",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):s.jsx("div",{className:"grid grid-cols-7 gap-2",children:h.map((f,x)=>{if(!f)return s.jsx("div",{className:"aspect-square"},`empty-${x}`);const y=new Date(f.date).getDate(),b=new Date(f.date)<new Date(new Date().setHours(0,0,0,0));return s.jsxs("div",{className:`aspect-square border-2 rounded-lg p-2 flex flex-col items-center justify-center transition-all ${b?"bg-gray-100 border-gray-200 opacity-50":f.isAvailable?"border-green-500 bg-green-50 hover:bg-green-100":"border-red-300 bg-red-50"}`,children:[s.jsx("span",{className:`text-lg font-semibold ${b?"text-gray-400":f.isAvailable?"text-green-700":"text-red-600"}`,children:y}),s.jsx("span",{className:`text-xs font-medium mt-1 ${b?"text-gray-400":f.isAvailable?"text-green-600":"text-red-500"}`,children:b?"Past":`${f.available} left`})]},f.date)})}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[s.jsxs("div",{className:"flex flex-wrap gap-6 justify-center text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-green-500 bg-green-50 rounded mr-2"}),s.jsx("span",{className:"text-gray-700",children:"Available"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-red-300 bg-red-50 rounded mr-2"}),s.jsx("span",{className:"text-gray-700",children:"Fully Booked"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-gray-200 bg-gray-100 rounded mr-2"}),s.jsx("span",{className:"text-gray-700",children:"Past Date"})]})]}),s.jsx("p",{className:"text-center text-gray-600 mt-4",children:"We have 2 trailers available. Book early to secure your dates!"})]})]})]})})}function gx(){const[t,e]=C.useState(""),[r,n]=C.useState(""),[i,a]=C.useState([]),[l,o]=C.useState(!1),[c,u]=C.useState(!1),[d,h]=C.useState(""),[f,x]=C.useState(null),[y,b]=C.useState(null),S=async w=>{if(w.preventDefault(),o(!0),h(""),u(!0),!t&&!r){h("Please enter either email or phone number"),o(!1);return}let _=ae.from("bookings").select("*").order("created_at",{ascending:!1});if(t&&(_=_.eq("customer_email",t.toLowerCase().trim())),r){const M=r.replace(/\D/g,"");_=_.eq("customer_phone",M)}const{data:N,error:T}=await _;T?(h("Error fetching bookings. Please try again."),console.error(T)):a(N||[]),o(!1)},g=w=>{switch(w){case"confirmed":return"text-green-700 bg-green-100";case"pending":return"text-yellow-700 bg-yellow-100";case"completed":return"text-blue-700 bg-blue-100";case"cancelled":return"text-red-700 bg-red-100";default:return"text-gray-700 bg-gray-100"}},p=w=>{switch(w){case"confirmed":return s.jsx($,{className:"h-5 w-5"});case"pending":return s.jsx(xo,{className:"h-5 w-5"});case"completed":return s.jsx($,{className:"h-5 w-5"});case"cancelled":return s.jsx(Bc,{className:"h-5 w-5"});default:return s.jsx(hi,{className:"h-5 w-5"})}},m=w=>new Date(w).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),v=async w=>{if(confirm(`Are you sure you want to cancel this booking? Refund amount depends on timing:

• More than 24 hours: 100% refund (minus $50 deposit)
• 12-24 hours: 50% refund (minus $50 deposit)
• Less than 12 hours: NO REFUND

The $50 deposit is non-refundable upon cancellation.`)){x(w),h(""),b(null);try{const N=await fetch("https://hwthgbbckcowdqoxvbsx.supabase.co/functions/v1/process-refund",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh3dGhnYmJja2Nvd2Rxb3h2YnN4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk4NDgzMjgsImV4cCI6MjA3NTQyNDMyOH0.algrOqrqVZBI7s2c-DUWoJYHCY32KSvocVpKU0ntgzI"},body:JSON.stringify({bookingId:w})}),T=await N.json();if(!N.ok)throw new Error(T.error||"Failed to process refund");b(`Refund processed successfully! $${T.refundAmount.toFixed(2)} will be returned to your card within 5-10 business days.`);const M=i.map(R=>R.id===w?{...R,status:"cancelled",payment_status:"refunded",refund_amount:T.refundAmount}:R);a(M)}catch(_){h(_.message||"Failed to process refund. Please contact us directly.")}finally{x(null)}}};return s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx(ul,{className:"h-10 w-10 text-green-600 mr-3"}),s.jsx("h2",{className:"text-4xl font-bold text-slate-800",children:"Customer Portal"})]}),s.jsx("p",{className:"text-xl text-gray-600",children:"Look up your bookings and view rental history"})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:s.jsxs("form",{onSubmit:S,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",id:"email",value:t,onChange:w=>e(w.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"your@email.com"})]}),s.jsx("div",{className:"text-center text-gray-500 font-medium",children:"- OR -"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",id:"phone",value:r,onChange:w=>n(w.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"(503) 555-1234"})]}),d&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:d}),y&&s.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:y}),s.jsx("button",{type:"submit",disabled:l,className:"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Searching..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ul,{className:"h-5 w-5"}),"Search My Bookings"]})})]})}),c&&i.length===0&&!l&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-8 text-center",children:[s.jsx(hi,{className:"h-12 w-12 text-yellow-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-yellow-800 mb-2",children:"No Bookings Found"}),s.jsx("p",{className:"text-yellow-700",children:"We couldn't find any bookings with the provided information. Please check your email or phone number and try again."})]}),i.length>0&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"Your Bookings"}),i.map(w=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-semibold text-slate-800 mb-1",children:w.service_type==="rental"?"Dump Trailer Rental":"Junk Removal Service"}),s.jsxs("p",{className:"text-gray-600",children:["Booking ID: ",w.id.slice(0,8)]})]}),s.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full font-semibold ${g(w.status)}`,children:[p(w.status),s.jsx("span",{className:"capitalize",children:w.status})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx($e,{className:"h-5 w-5 text-green-600 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Rental Period"}),s.jsxs("p",{className:"text-gray-900",children:[m(w.start_date),w.end_date&&` - ${m(w.end_date)}`]})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Pn,{className:"h-5 w-5 text-green-600 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Total Price"}),s.jsxs("p",{className:"text-gray-900 font-semibold",children:["$",Number(w.total_price).toFixed(2)]})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(gr,{className:"h-5 w-5 text-green-600 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Location"}),s.jsx("p",{className:"text-gray-900",children:w.delivery_address})]})]}),w.trailer_type&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx($,{className:"h-5 w-5 text-green-600 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Trailer Type"}),s.jsx("p",{className:"text-gray-900",children:w.trailer_type})]})]})]}),s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Booked on ",m(w.created_at)]})})]}),w.status==="confirmed"&&s.jsx("div",{className:"bg-green-50 px-6 py-4 border-t border-green-100",children:s.jsxs("p",{className:"text-green-800 font-medium",children:["Your booking is confirmed! We'll contact you at ",w.customer_phone," with delivery details."]})}),w.status==="pending"&&s.jsx("div",{className:"bg-yellow-50 px-6 py-4 border-t border-yellow-100",children:s.jsxs("p",{className:"text-yellow-800 font-medium",children:["Your booking is pending confirmation. We'll contact you shortly at ",w.customer_phone,"."]})}),w.status==="cancelled"&&w.refund_amount&&s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-100",children:s.jsxs("p",{className:"text-gray-800 font-medium",children:["Cancelled - $",w.refund_amount.toFixed(2)," refunded to your card"]})}),(w.status==="confirmed"||w.status==="pending")&&w.payment_status==="paid"&&s.jsxs("div",{className:"bg-white px-6 py-4 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>v(w.id),disabled:f===w.id,className:"w-full bg-red-600 text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:f===w.id?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bc,{className:"h-5 w-5"}),"Cancel Booking & Request Refund"]})}),s.jsx("p",{className:"text-xs text-gray-600 mt-2 text-center",children:"Refund amount varies by timing. See rental agreement for details."})]})]},w.id))]}),s.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Need Help?"}),s.jsx("p",{className:"text-blue-800 mb-3",children:"If you have questions about your booking or need to make changes, please contact us:"}),s.jsxs("div",{className:"space-y-2 text-blue-900",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Phone:"})," ",s.jsx("a",{href:"tel:503-500-6121",className:"underline hover:text-blue-700",children:"503-500-6121"})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",s.jsx("a",{href:"mailto:Molallatrailerrental@outlook.com",className:"underline hover:text-blue-700",children:"Molallatrailerrental@outlook.com"})]})]})]})]})})}function xx(){const[t,e]=C.useState(!1),[r,n]=C.useState(""),[i,a]=C.useState(""),[l,o]=C.useState(""),[c,u]=C.useState(!1),d=h=>{h.preventDefault();const f=`mailto:Molallatrailerrental@outlook.com?subject=Quick Question from ${encodeURIComponent(i)}&body=${encodeURIComponent(`Name: ${i}
Contact: ${l}

Message:
${r}`)}`;window.location.href=f,u(!0),setTimeout(()=>{u(!1),n(""),a(""),o(""),e(!1)},3e3)};return s.jsxs(s.Fragment,{children:[!t&&s.jsxs("button",{onClick:()=>e(!0),className:"fixed bottom-6 right-6 bg-green-600 text-white p-4 rounded-full shadow-2xl hover:bg-green-700 transition-all hover:scale-110 z-50 flex items-center gap-2 group","aria-label":"Open chat",children:[s.jsx(Dc,{className:"h-6 w-6"}),s.jsx("span",{className:"hidden group-hover:inline-block text-sm font-semibold pr-2",children:"Need Help?"})]}),t&&s.jsxs("div",{className:"fixed bottom-6 right-6 w-96 max-w-[calc(100vw-3rem)] bg-white rounded-lg shadow-2xl z-50 flex flex-col max-h-[600px]",children:[s.jsxs("div",{className:"bg-green-600 text-white p-4 rounded-t-lg flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dc,{className:"h-5 w-5"}),s.jsx("h3",{className:"font-semibold",children:"Quick Contact"})]}),s.jsx("button",{onClick:()=>e(!1),className:"text-white hover:bg-green-700 p-1 rounded transition-colors","aria-label":"Close chat",children:s.jsx(wt,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"p-4 flex-1 overflow-y-auto",children:c?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-3 mb-4",children:s.jsx(Mc,{className:"h-8 w-8 text-green-600"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Message Sent!"}),s.jsx("p",{className:"text-gray-600 text-center text-sm",children:"Thank you for contacting us. We'll get back to you soon!"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Hi! We're here to help. Send us a quick message or call us directly."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("a",{href:"tel:503-500-6121",className:"flex items-center gap-2 text-green-600 hover:text-green-700 font-semibold text-sm",children:[s.jsx(Le,{className:"h-4 w-4"}),"503-500-6121"]}),s.jsxs("a",{href:"mailto:Molallatrailerrental@outlook.com",className:"flex items-center gap-2 text-green-600 hover:text-green-700 font-semibold text-sm",children:[s.jsx(ns,{className:"h-4 w-4"}),"Email Us"]})]})]}),s.jsxs("form",{onSubmit:d,className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"chat-name",className:"block text-xs font-medium text-gray-700 mb-1",children:"Your Name"}),s.jsx("input",{type:"text",id:"chat-name",value:i,onChange:h=>a(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",placeholder:"John Doe",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"chat-contact",className:"block text-xs font-medium text-gray-700 mb-1",children:"Phone or Email"}),s.jsx("input",{type:"text",id:"chat-contact",value:l,onChange:h=>o(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",placeholder:"your@email.com or (503) 555-1234",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"chat-message",className:"block text-xs font-medium text-gray-700 mb-1",children:"Message"}),s.jsx("textarea",{id:"chat-message",value:r,onChange:h=>n(h.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm resize-none",placeholder:"How can we help you?",required:!0})]}),s.jsxs("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 rounded-lg font-semibold hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[s.jsx(Mc,{className:"h-4 w-4"}),"Send Message"]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"We typically respond within a few hours during business hours"})]})}),s.jsx("div",{className:"p-3 bg-gray-50 rounded-b-lg border-t border-gray-200",children:s.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Veteran Owned & Operated"})})]})]})}function yx({onBookNow:t}){const[e,r]=C.useState(null);return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-red-100 text-red-700 px-4 py-2 rounded-full font-semibold mb-6",children:[s.jsx(Ut,{className:"h-5 w-5 fill-red-600"}),"Veteran Owned & Operated"]}),s.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold text-slate-900 mb-6 leading-tight",children:["Need a Dump Trailer?",s.jsx("br",{}),s.jsx("span",{className:"text-green-600",children:"We Deliver Today"})]}),s.jsx("p",{className:"text-2xl text-gray-700 mb-8 max-w-3xl mx-auto",children:"Professional dump trailer rentals starting at $120/day. Serving Molalla & surrounding areas with same-day delivery available."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-6",children:[s.jsxs("button",{onClick:t,className:"bg-green-600 text-white px-10 py-5 rounded-xl text-xl font-bold hover:bg-green-700 transition-all transform hover:scale-105 shadow-2xl flex items-center justify-center gap-3",children:[s.jsx($e,{className:"h-6 w-6"}),"Book Now - Get 10% Off"]}),s.jsxs("a",{href:"tel:503-500-6121",className:"bg-slate-800 text-white px-10 py-5 rounded-xl text-xl font-bold hover:bg-slate-700 transition-all transform hover:scale-105 shadow-2xl flex items-center justify-center gap-3",children:[s.jsx(Le,{className:"h-6 w-6"}),"Call: 503-500-6121"]})]}),s.jsxs("p",{className:"text-gray-600 text-lg",children:[s.jsx("span",{className:"font-bold text-green-600",children:"Limited Time Offer:"})," Book online and save 10% on your first rental"]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-16",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-shadow border-2 border-transparent hover:border-green-500",children:[s.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mb-6 mx-auto",children:s.jsx(xo,{className:"h-8 w-8 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3 text-center",children:"Same-Day Delivery"}),s.jsx("p",{className:"text-gray-600 text-center text-lg",children:"Call before noon and get your trailer delivered the same day"})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-shadow border-2 border-transparent hover:border-green-500",children:[s.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mb-6 mx-auto",children:s.jsx(jt,{className:"h-8 w-8 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3 text-center",children:"Clean & Ready"}),s.jsx("p",{className:"text-gray-600 text-center text-lg",children:"All trailers are cleaned, inspected, and ready for your project"})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-shadow border-2 border-transparent hover:border-green-500",children:[s.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mb-6 mx-auto",children:s.jsx(Ut,{className:"h-8 w-8 text-green-600 fill-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3 text-center",children:"Local & Trusted"}),s.jsx("p",{className:"text-gray-600 text-center text-lg",children:"Veteran owned business serving the Molalla community"})]})]}),s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden mb-16",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white py-8 px-8 text-center",children:[s.jsx("h2",{className:"text-4xl font-extrabold mb-2",children:"Choose Your Service"}),s.jsx("p",{className:"text-xl opacity-90",children:"Select what you need and get an instant quote"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-0 divide-x divide-gray-200",children:[s.jsxs("button",{onClick:()=>r("rental"),className:`p-10 text-left hover:bg-gray-50 transition-all ${e==="rental"?"bg-green-50 border-4 border-green-600":""}`,children:[s.jsx(Ve,{className:"h-12 w-12 text-green-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:"Dump Trailer Rental"}),s.jsx("p",{className:"text-gray-600 mb-4 text-lg",children:"Perfect for yard waste, construction debris, and home cleanouts"}),s.jsx("div",{className:"text-3xl font-extrabold text-green-600 mb-2",children:"$120/day"}),s.jsx("p",{className:"text-gray-500",children:"Delivery available"}),e==="rental"&&s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"7-yard capacity"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"Easy hydraulic dump"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"Weekly rates available"})]}),s.jsxs("button",{onClick:t,className:"w-full mt-4 bg-green-600 text-white px-6 py-4 rounded-lg font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:["Book This Service",s.jsx(oa,{className:"h-5 w-5"})]})]})]}),s.jsxs("button",{onClick:()=>r("junk"),className:`p-10 text-left hover:bg-gray-50 transition-all ${e==="junk"?"bg-green-50 border-4 border-green-600":""}`,children:[s.jsx(Ve,{className:"h-12 w-12 text-green-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:"Junk Removal"}),s.jsx("p",{className:"text-gray-600 mb-4 text-lg",children:"We load it, we haul it, we dispose of it. You relax."}),s.jsx("div",{className:"text-3xl font-extrabold text-green-600 mb-2",children:"Call for Quote"}),s.jsx("p",{className:"text-gray-500",children:"503-500-6121"}),e==="junk"&&s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"Full-service removal"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"Same-day service available"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"Eco-friendly disposal"})]}),s.jsxs("button",{onClick:t,className:"w-full mt-4 bg-green-600 text-white px-6 py-4 rounded-lg font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:["Request Quote",s.jsx(oa,{className:"h-5 w-5"})]})]})]}),s.jsxs("button",{onClick:()=>r("delivery"),className:`p-10 text-left hover:bg-gray-50 transition-all ${e==="delivery"?"bg-green-50 border-4 border-green-600":""}`,children:[s.jsx(Ve,{className:"h-12 w-12 text-green-600 mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:"Material Delivery"}),s.jsx("p",{className:"text-gray-600 mb-4 text-lg",children:"Dirt, gravel, and mulch delivered to your location"}),s.jsx("div",{className:"text-3xl font-extrabold text-green-600 mb-2",children:"From $100"}),s.jsx("p",{className:"text-gray-500",children:"Per 7 yards delivered"}),e==="delivery"&&s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"Fill dirt: $100/7 yards"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"Gravel: $350-$550/7 yards"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-gray-700",children:"Mulch: $280-$445/7 yards"})]}),s.jsxs("button",{onClick:t,className:"w-full mt-4 bg-green-600 text-white px-6 py-4 rounded-lg font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:["Order Delivery",s.jsx(oa,{className:"h-5 w-5"})]})]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-slate-900 rounded-3xl shadow-2xl p-12 text-white text-center",children:[s.jsx("h2",{className:"text-4xl font-extrabold mb-4",children:"Why Customers Choose Us"}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mt-10",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-5xl font-extrabold text-green-400 mb-2",children:"100%"}),s.jsx("p",{className:"text-xl text-gray-300",children:"Satisfaction Rate"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-5xl font-extrabold text-green-400 mb-2",children:"500+"}),s.jsx("p",{className:"text-xl text-gray-300",children:"Happy Customers"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-5xl font-extrabold text-green-400 mb-2",children:"Same Day"}),s.jsx("p",{className:"text-xl text-gray-300",children:"Delivery Available"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-5xl font-extrabold text-green-400 mb-2",children:"24/7"}),s.jsx("p",{className:"text-xl text-gray-300",children:"Online Booking"})]})]})]}),s.jsxs("div",{className:"mt-16 text-center",children:[s.jsx("h2",{className:"text-4xl font-extrabold text-slate-900 mb-6",children:"Ready to Get Started?"}),s.jsx("p",{className:"text-2xl text-gray-700 mb-8",children:"Book online now and save 10% on your first rental"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs("button",{onClick:t,className:"bg-green-600 text-white px-12 py-6 rounded-xl text-2xl font-bold hover:bg-green-700 transition-all transform hover:scale-105 shadow-2xl flex items-center justify-center gap-3",children:[s.jsx($e,{className:"h-7 w-7"}),"Book Now & Save 10%"]}),s.jsxs("a",{href:"tel:503-500-6121",className:"bg-white text-slate-800 border-4 border-slate-800 px-12 py-6 rounded-xl text-2xl font-bold hover:bg-slate-50 transition-all transform hover:scale-105 shadow-2xl flex items-center justify-center gap-3",children:[s.jsx(Le,{className:"h-7 w-7"}),"Call: 503-500-6121"]})]}),s.jsx("p",{className:"mt-6 text-gray-600 text-lg",children:"Serving Molalla, Canby, Oregon City, Woodburn, Silverton & surrounding areas"})]})]})})}function vx(){const[t,e]=C.useState(null);return C.useEffect(()=>{const n=new URLSearchParams(window.location.search).get("session_id");e(n)},[]),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 text-center max-w-2xl",children:[s.jsx("div",{className:"inline-block p-4 bg-green-100 rounded-full mb-4",children:s.jsx($,{className:"h-16 w-16 text-green-600"})}),s.jsx("h1",{className:"text-3xl font-bold text-green-900 mb-4",children:"Payment Successful!"}),s.jsx("p",{className:"text-gray-700 mb-6 text-lg",children:"Your booking has been confirmed and your payment has been processed successfully."}),s.jsx("p",{className:"text-gray-600 mb-8",children:"We've sent a confirmation email with all the details. We'll contact you shortly to finalize arrangements."}),t&&s.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Reference: ",t.slice(-12)]}),s.jsx("a",{href:"/",className:"inline-block bg-green-600 text-white px-8 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:"Return to Home"})]})})}function wx(){return s.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-green-600 to-green-700",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center text-white",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-3",children:s.jsx(Ut,{className:"h-8 w-8 fill-white"})}),s.jsx("div",{className:"text-4xl font-bold",children:"5.0"}),s.jsx("div",{className:"text-sm opacity-90",children:"Star Rating"}),s.jsx("div",{className:"text-xs opacity-75",children:"Google Reviews"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-3",children:s.jsx(Ap,{className:"h-8 w-8"})}),s.jsx("div",{className:"text-4xl font-bold",children:"500+"}),s.jsx("div",{className:"text-sm opacity-90",children:"Happy Customers"}),s.jsx("div",{className:"text-xs opacity-75",children:"Since 2020"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-3",children:s.jsx($e,{className:"h-8 w-8"})}),s.jsx("div",{className:"text-4xl font-bold",children:"2000+"}),s.jsx("div",{className:"text-sm opacity-90",children:"Rentals Completed"}),s.jsx("div",{className:"text-xs opacity-75",children:"And counting"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-3",children:s.jsx(_p,{className:"h-8 w-8"})}),s.jsx("div",{className:"text-4xl font-bold",children:"100%"}),s.jsx("div",{className:"text-sm opacity-90",children:"Veteran Owned"}),s.jsx("div",{className:"text-xs opacity-75",children:"Trusted Service"})]})]}),s.jsxs("div",{className:"mt-12 text-center",children:[s.jsx("p",{className:"text-white text-lg mb-4 font-semibold",children:"Join hundreds of satisfied customers in Molalla and surrounding areas"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-sm text-white/90",children:[s.jsx("span",{className:"bg-white/20 px-4 py-2 rounded-full",children:"Molalla"}),s.jsx("span",{className:"bg-white/20 px-4 py-2 rounded-full",children:"Canby"}),s.jsx("span",{className:"bg-white/20 px-4 py-2 rounded-full",children:"Oregon City"}),s.jsx("span",{className:"bg-white/20 px-4 py-2 rounded-full",children:"Woodburn"}),s.jsx("span",{className:"bg-white/20 px-4 py-2 rounded-full",children:"Clackamas County"})]})]})]})})}function lu({message:t,variant:e="general",onBookClick:r}){const n={services:"bg-gradient-to-r from-green-600 to-green-700",pricing:"bg-gradient-to-r from-slate-700 to-slate-800",general:"bg-gradient-to-r from-green-600 to-green-700"};return s.jsx("section",{className:`py-12 px-4 sm:px-6 lg:px-8 ${n[e]}`,children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center text-white",children:[s.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:t}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[s.jsxs("button",{onClick:r,className:"bg-white text-green-600 px-8 py-4 rounded-lg text-lg font-bold hover:bg-gray-100 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center gap-2 min-w-[200px]",children:[s.jsx($e,{className:"h-5 w-5"}),"Book Online Now"]}),s.jsx("span",{className:"text-white font-semibold hidden sm:block",children:"or"}),s.jsxs("a",{href:"tel:503-500-6121",className:"bg-white/20 backdrop-blur-sm text-white px-8 py-4 rounded-lg text-lg font-bold hover:bg-white/30 transition-all shadow-lg flex items-center justify-center gap-2 min-w-[200px]",children:[s.jsx(Le,{className:"h-5 w-5"}),"503-500-6121"]})]})]})})}function bx(){return C.useEffect(()=>{const t={"@context":"https://schema.org","@type":"LocalBusiness",name:"Molalla Trailer Rentals",image:"https://rentmolallatrailers.com/logo Offical.JPG","@id":"https://rentmolallatrailers.com",url:"https://rentmolallatrailers.com",telephone:"+15035006121",email:"Molallatrailerrental@outlook.com",priceRange:"$$",address:{"@type":"PostalAddress",streetAddress:"33250 S Wilhoit Rd",addressLocality:"Molalla",addressRegion:"OR",postalCode:"97038",addressCountry:"US"},geo:{"@type":"GeoCoordinates",latitude:45.146,longitude:-122.579},openingHoursSpecification:{"@type":"OpeningHoursSpecification",dayOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],opens:"00:00",closes:"23:59"},sameAs:["https://rentmolallatrailers.com"],areaServed:[{"@type":"City",name:"Molalla"},{"@type":"City",name:"Canby"},{"@type":"City",name:"Oregon City"},{"@type":"City",name:"Woodburn"},{"@type":"AdministrativeArea",name:"Clackamas County"}],additionalType:"https://en.wikipedia.org/wiki/Veteran-owned_business",description:"Veteran-owned dump trailer rental and junk removal service serving Molalla and surrounding areas. Professional dump trailers, material delivery, and complete junk removal services.",hasOfferCatalog:{"@type":"OfferCatalog",name:"Trailer Rental Services",itemListElement:[{"@type":"Offer",itemOffered:{"@type":"Service",name:"Dump Trailer Rental",description:"Professional-grade dump trailers for daily, weekly, or monthly rental"},priceSpecification:{"@type":"PriceSpecification",price:"120",priceCurrency:"USD",unitText:"per day"}},{"@type":"Offer",itemOffered:{"@type":"Service",name:"Junk Removal Service",description:"Full-service junk removal for residential and commercial properties"}},{"@type":"Offer",itemOffered:{"@type":"Service",name:"Material Delivery",description:"Dirt, gravel, and mulch delivery for landscaping and construction"}}]},aggregateRating:{"@type":"AggregateRating",ratingValue:"5.0",reviewCount:"150"}},e=document.createElement("script");return e.type="application/ld+json",e.text=JSON.stringify(t),document.head.appendChild(e),()=>{document.head.removeChild(e)}},[]),null}function jx({onBookClick:t}){const[e,r]=C.useState(!1),[n,i]=C.useState(!1);C.useEffect(()=>{const o=u=>{n||u.clientY<=0&&(r(!0),i(!0),localStorage.setItem("exitPopupShown",Date.now().toString()))};return(()=>{const u=localStorage.getItem("exitPopupShown");u&&(Date.now()-parseInt(u))/864e5<7&&i(!0)})(),document.addEventListener("mouseleave",o),()=>{document.removeEventListener("mouseleave",o)}},[n]);const a=()=>{r(!1)},l=()=>{r(!1),t()};return e?s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-8 relative animate-in zoom-in duration-300",children:[s.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close",children:s.jsx(wt,{className:"h-6 w-6"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4",children:s.jsx(Uc,{className:"h-8 w-8 text-red-600"})}),s.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Wait! Before You Go..."}),s.jsxs("p",{className:"text-lg text-gray-600",children:["Get ",s.jsx("span",{className:"text-red-600 font-bold",children:"$10 OFF"})," your first rental!"]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border-2 border-red-200 rounded-xl p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[s.jsx(Uc,{className:"h-6 w-6 text-red-600"}),s.jsx("span",{className:"text-2xl font-bold text-red-600",children:"FIRST10"})]}),s.jsx("p",{className:"text-center text-gray-700 font-semibold",children:"Use code at checkout for $10 off any rental!"}),s.jsx("p",{className:"text-center text-sm text-gray-600 mt-2",children:"Valid for new customers • Expires in 7 days"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:l,className:"w-full bg-green-600 text-white px-8 py-4 rounded-lg text-lg font-bold hover:bg-green-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center gap-2",children:[s.jsx($e,{className:"h-5 w-5"}),"Book Now & Save $10"]}),s.jsxs("a",{href:"tel:503-500-6121",className:"w-full bg-slate-700 text-white px-8 py-4 rounded-lg text-lg font-bold hover:bg-slate-600 transition-all shadow-lg flex items-center justify-center gap-2",children:[s.jsx(Le,{className:"h-5 w-5"}),"Call: 503-500-6121"]}),s.jsx("button",{onClick:a,className:"w-full text-gray-500 hover:text-gray-700 text-sm py-2 transition-colors",children:"No thanks, I'll pay full price"})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-slate-800",children:"500+"}),s.jsx("div",{className:"text-gray-600",children:"Happy Customers"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-slate-800",children:"5.0★"}),s.jsx("div",{className:"text-gray-600",children:"Rating"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-slate-800",children:"Same Day"}),s.jsx("div",{className:"text-gray-600",children:"Available"})]})]})})]})}):null}function _x(){console.log("🏠 App component rendered");const[t,e]=C.useState("home");console.log("📍 Current view:",t);const[r,n]=C.useState(!1),[i,a]=C.useState(!1);C.useEffect(()=>{l(),new URLSearchParams(window.location.search).get("session_id")&&e("success");const{data:{subscription:u}}=ae.auth.onAuthStateChange((d,h)=>{a(!!h)});return()=>u.unsubscribe()},[]);const l=async()=>{try{const{data:{session:c}}=await ae.auth.getSession();a(!!c)}catch(c){console.error("Error checking auth:",c)}},o=async()=>{await ae.auth.signOut(),a(!1),e("home")};return t==="ad"?s.jsx(yx,{onBookNow:()=>{console.log("📱 Book Now clicked from ad"),e("booking"),console.log("✅ View set to booking")}}):t==="success"?s.jsx(vx,{}):t==="booking"?(console.log("📝 Rendering booking view"),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-slate-800 shadow-lg",children:s.jsx("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("button",{onClick:()=>e("home"),className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[s.jsx("img",{src:"/logo Offical.JPG",alt:"Molalla Trailer Rentals",className:"h-14 w-14 rounded-full object-cover"}),s.jsx("span",{className:"text-2xl font-bold text-white",children:"Molalla Trailer Rentals"})]}),s.jsx("button",{onClick:()=>e("home"),className:"text-white hover:text-green-400 transition-colors",children:"Back to Home"})]})})}),s.jsxs("div",{className:"py-12 px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Book Your Service"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Fill out the form below and we'll contact you to confirm"})]}),s.jsx(nx,{})]})]})):t==="admin"?i?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-slate-800 shadow-lg",children:s.jsx("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("button",{onClick:()=>e("home"),className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[s.jsx("img",{src:"/logo Offical.JPG",alt:"Molalla Trailer Rentals",className:"h-14 w-14 rounded-full object-cover"}),s.jsx("span",{className:"text-2xl font-bold text-white",children:"Molalla Trailer Rentals"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e("home"),className:"text-white hover:text-green-400 transition-colors",children:"Back to Home"}),s.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors font-semibold",children:[s.jsx(Rp,{className:"h-4 w-4"}),"Logout"]})]})]})})}),s.jsx(ix,{})]}):s.jsx(ax,{onLoginSuccess:()=>a(!0)}):t==="portal"?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-slate-800 shadow-lg",children:s.jsx("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("button",{onClick:()=>e("home"),className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[s.jsx("img",{src:"/logo Offical.JPG",alt:"Molalla Trailer Rentals",className:"h-14 w-14 rounded-full object-cover"}),s.jsx("span",{className:"text-2xl font-bold text-white",children:"Molalla Trailer Rentals"})]}),s.jsx("button",{onClick:()=>e("home"),className:"text-white hover:text-green-400 transition-colors",children:"Back to Home"})]})})}),s.jsx(gx,{})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(bx,{}),s.jsx("header",{className:"bg-slate-800 shadow-lg sticky top-0 z-50",children:s.jsxs("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("button",{onClick:()=>e("home"),className:"flex items-center space-x-2 hover:opacity-80 transition-opacity flex-shrink-0",children:[s.jsx("img",{src:"/logo Offical.JPG",alt:"Molalla Trailer Rentals",className:"h-12 w-12 rounded-full object-cover"}),s.jsx("span",{className:"text-xl font-bold text-white whitespace-nowrap",children:"Molalla Trailer Rentals"})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-6 flex-1 justify-center",children:[s.jsx("a",{href:"#services",className:"text-gray-200 hover:text-green-400 transition-colors font-medium",children:"Services"}),s.jsx("a",{href:"#reviews",className:"text-gray-200 hover:text-green-400 transition-colors font-medium",children:"Reviews"}),s.jsx("a",{href:"#faq",className:"text-gray-200 hover:text-green-400 transition-colors font-medium",children:"FAQ"}),s.jsx("a",{href:"#booking",onClick:c=>{c.preventDefault(),e("booking")},className:"text-gray-200 hover:text-green-400 transition-colors font-medium",children:"Book Now"}),s.jsx("a",{href:"#portal",onClick:c=>{c.preventDefault(),e("portal")},className:"text-gray-200 hover:text-green-400 transition-colors font-medium",children:"My Bookings"}),s.jsx("a",{href:"#about",className:"text-gray-200 hover:text-green-400 transition-colors font-medium",children:"About"}),s.jsx("a",{href:"#contact",className:"text-gray-200 hover:text-green-400 transition-colors font-medium",children:"Contact"})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-5 flex-shrink-0",children:[s.jsx("a",{href:"https://www.facebook.com/molallatrailerrental",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-400 transition-colors","aria-label":"Visit our Facebook page",children:s.jsx(Ic,{className:"h-5 w-5"})}),s.jsx("a",{href:"https://www.tiktok.com/@molallatrailerrental",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white transition-colors","aria-label":"Visit our TikTok page",children:s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})})}),s.jsxs("a",{href:"tel:503-500-6121",className:"text-white hover:text-green-400 transition-colors font-semibold flex items-center gap-2",children:[s.jsx(Le,{className:"h-4 w-4"}),s.jsx("span",{children:"503-500-6121"})]}),s.jsx("button",{onClick:()=>e("booking"),className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-all font-bold shadow-lg hover:shadow-xl transform hover:scale-105",children:"Book Now"})]}),s.jsx("button",{onClick:()=>n(!r),className:"md:hidden text-white p-2 hover:bg-slate-700 rounded-lg transition-colors","aria-label":"Toggle menu",children:r?s.jsx(wt,{className:"h-6 w-6"}):s.jsx(Ip,{className:"h-6 w-6"})})]}),r&&s.jsx("div",{className:"md:hidden mt-4 pb-4 border-t border-slate-700 pt-4",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsx("a",{href:"#services",onClick:()=>n(!1),className:"text-gray-200 hover:text-green-400 transition-colors py-2",children:"Services"}),s.jsx("a",{href:"#reviews",onClick:()=>n(!1),className:"text-gray-200 hover:text-green-400 transition-colors py-2",children:"Reviews"}),s.jsx("a",{href:"#faq",onClick:()=>n(!1),className:"text-gray-200 hover:text-green-400 transition-colors py-2",children:"FAQ"}),s.jsx("button",{onClick:()=>{e("booking"),n(!1)},className:"text-left text-gray-200 hover:text-green-400 transition-colors py-2",children:"Book Now"}),s.jsx("button",{onClick:()=>{e("portal"),n(!1)},className:"text-left text-gray-200 hover:text-green-400 transition-colors py-2",children:"My Bookings"}),s.jsx("a",{href:"#about",onClick:()=>n(!1),className:"text-gray-200 hover:text-green-400 transition-colors py-2",children:"About"}),s.jsx("a",{href:"#contact",onClick:()=>n(!1),className:"text-gray-200 hover:text-green-400 transition-colors py-2",children:"Contact"}),s.jsxs("div",{className:"flex flex-col gap-3 pt-4 border-t border-slate-700",children:[s.jsx("button",{onClick:()=>{e("booking"),n(!1)},className:"bg-green-600 text-white px-6 py-4 rounded-lg hover:bg-green-700 transition-colors font-bold text-center text-lg shadow-lg",children:"Book Now"}),s.jsxs("a",{href:"tel:503-500-6121",className:"bg-slate-700 text-white px-6 py-4 rounded-lg hover:bg-slate-600 transition-colors font-bold text-center text-lg shadow-lg flex items-center justify-center gap-2",children:[s.jsx(Le,{className:"h-5 w-5"}),"Call: 503-500-6121"]})]})]})})]})}),s.jsx("section",{className:"relative bg-gradient-to-br from-slate-700 via-slate-600 to-slate-800 py-20 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Ut,{className:"h-6 w-6 text-yellow-400 fill-yellow-400"}),s.jsx("span",{className:"text-yellow-400 font-semibold text-lg",children:"Veteran Owned & Operated"})]}),s.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white leading-tight mb-6",children:"Dump Trailer Rentals & Junk Removal"}),s.jsx("p",{className:"text-xl text-gray-200 mb-6",children:"Professional dump trailer rentals and complete junk removal services serving Molalla and surrounding areas. Whether you're clearing out a property or hauling debris, we've got you covered."}),s.jsxs("div",{className:"bg-yellow-400 text-slate-900 px-4 py-3 rounded-lg mb-6 inline-flex items-center gap-2 font-bold shadow-lg",children:[s.jsx("span",{className:"text-2xl",children:"🎉"}),s.jsx("span",{children:"New customers save $10 with code FIRST10"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("button",{onClick:()=>e("booking"),className:"bg-green-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-green-700 transition-colors text-center shadow-lg flex items-center justify-center gap-2",children:[s.jsx($e,{className:"h-5 w-5"}),"Book Online Now"]}),s.jsxs("a",{href:"tel:503-500-6121",className:"bg-white text-slate-800 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-100 transition-colors text-center shadow-lg flex items-center justify-center gap-2",children:[s.jsx(Le,{className:"h-5 w-5"}),"Call: 503-500-6121"]})]})]}),s.jsx("div",{className:"relative flex items-center justify-center",children:s.jsx("img",{src:"/image copy copy copy copy.png",alt:"Dump trailer in action",className:"rounded-lg shadow-2xl w-auto max-w-full h-auto max-h-96 object-contain",loading:"eager"})})]})})}),s.jsx("section",{className:"py-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-slate-50 to-gray-50 border-y border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 items-center justify-items-center",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-3",children:s.jsx(jt,{className:"h-8 w-8 text-red-600"})}),s.jsx("div",{className:"font-bold text-slate-800 text-lg",children:"Veteran Owned"}),s.jsx("div",{className:"text-sm text-gray-600",children:"& Operated"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-3",children:s.jsx(jt,{className:"h-8 w-8 text-green-600"})}),s.jsx("div",{className:"font-bold text-slate-800 text-lg",children:"Fully Insured"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Licensed & Bonded"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-yellow-100 rounded-full mb-3",children:s.jsx(Ut,{className:"h-8 w-8 text-yellow-600 fill-yellow-600"})}),s.jsx("div",{className:"font-bold text-slate-800 text-lg",children:"5-Star Service"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Trusted Locally"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-3",children:s.jsx($,{className:"h-8 w-8 text-blue-600"})}),s.jsx("div",{className:"font-bold text-slate-800 text-lg",children:"Same Day"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Available"})]})]})})}),s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h2",{className:"text-4xl font-bold text-center text-slate-800 mb-16",children:"Why Choose Us"}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"text-center p-6 rounded-lg hover:shadow-xl transition-shadow bg-gray-50",children:[s.jsx("div",{className:"inline-block p-4 bg-red-100 rounded-full mb-6",children:s.jsx(Ut,{className:"h-10 w-10 text-red-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-3",children:"Veteran Owned"}),s.jsx("p",{className:"text-gray-600",children:"Proudly veteran owned and operated with a commitment to excellence and integrity."})]}),s.jsxs("div",{className:"text-center p-6 rounded-lg hover:shadow-xl transition-shadow bg-gray-50",children:[s.jsx("div",{className:"inline-block p-4 bg-green-100 rounded-full mb-6",children:s.jsx($,{className:"h-10 w-10 text-green-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-3",children:"Reliable Equipment"}),s.jsx("p",{className:"text-gray-600",children:"Well-maintained dump trailers ready for your project. Clean, inspected, and dependable."})]}),s.jsxs("div",{className:"text-center p-6 rounded-lg hover:shadow-xl transition-shadow bg-gray-50",children:[s.jsx("div",{className:"inline-block p-4 bg-slate-100 rounded-full mb-6",children:s.jsx(Ve,{className:"h-10 w-10 text-slate-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-3",children:"Delivery Available"}),s.jsx("p",{className:"text-gray-600",children:"Convenient delivery service available for your dump trailer rentals."})]}),s.jsxs("div",{className:"text-center p-6 rounded-lg hover:shadow-xl transition-shadow bg-gray-50",children:[s.jsx("div",{className:"inline-block p-4 bg-green-100 rounded-full mb-6",children:s.jsx(jt,{className:"h-10 w-10 text-green-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-3",children:"Local & Trusted"}),s.jsx("p",{className:"text-gray-600",children:"Serving Molalla and surrounding areas with honest pricing and reliable service."})]})]})]})}),s.jsx("section",{id:"services",className:"py-20 px-4 sm:px-6 lg:px-8 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h2",{className:"text-4xl font-bold text-center text-slate-800 mb-4",children:"Our Services"}),s.jsx("p",{className:"text-xl text-gray-600 text-center mb-16 max-w-3xl mx-auto",children:"From dump trailer rentals to complete junk removal and material delivery, we provide the solutions you need for your projects in Molalla and surrounding areas."}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow",children:[s.jsx("img",{src:"https://www.MyTrailer.Rentals/Portal/Images/000483/Trailers/1503/074c04195a9189533abdee75a5afdda9.jpg",alt:"Dump trailer rental in action",className:"w-full h-72 object-cover",loading:"lazy"}),s.jsxs("div",{className:"p-8",children:[s.jsx("h3",{className:"text-3xl font-semibold text-slate-800 mb-4",children:"Dump Trailer Rentals"}),s.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Heavy-duty dump trailers perfect for hauling debris, yard waste, construction materials, dirt, and more. Easy to load, easy to dump."}),s.jsxs("ul",{className:"space-y-3 mb-6",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx($,{className:"h-5 w-5 text-green-600 mt-1 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:"Professional-grade dump trailers"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx($,{className:"h-5 w-5 text-green-600 mt-1 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:"Daily and weekly rental rates"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx($,{className:"h-5 w-5 text-green-600 mt-1 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:"Delivery available"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx($,{className:"h-5 w-5 text-green-600 mt-1 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:"Clean and well-maintained"})]})]}),s.jsx("div",{className:"text-green-600 font-bold text-2xl",children:"Starting at $120/day"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Delivery available"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow",children:[s.jsx("img",{src:"/image.png",alt:"Junk removal service with equipment",className:"w-full h-72 object-cover",loading:"lazy"}),s.jsxs("div",{className:"p-8",children:[s.jsx("h3",{className:"text-3xl font-semibold text-slate-800 mb-4",children:"Junk Removal Services"}),s.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Full-service junk removal for homes, businesses, and properties. We handle everything from pickup to disposal."}),s.jsxs("ul",{className:"space-y-3 mb-6",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx($,{className:"h-5 w-5 text-green-600 mt-1 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:"We load and haul everything"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx($,{className:"h-5 w-5 text-green-600 mt-1 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:"Residential & commercial"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx($,{className:"h-5 w-5 text-green-600 mt-1 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:"Construction debris removal"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx($,{className:"h-5 w-5 text-green-600 mt-1 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:"Eco-friendly disposal"})]})]}),s.jsx("div",{className:"text-green-600 font-bold text-2xl",children:"Call for Quote"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"503-500-6121"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow",children:[s.jsx("img",{src:"/image copy copy copy copy copy.png",alt:"Material delivery service",className:"w-full h-72 object-cover",loading:"lazy"}),s.jsxs("div",{className:"p-8",children:[s.jsx("h3",{className:"text-3xl font-semibold text-slate-800 mb-4",children:"Dirt, Gravel & Mulch Delivery"}),s.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Professional delivery of rock, fill dirt, and premium mulch for your landscaping and construction projects."}),s.jsxs("ul",{className:"space-y-3 mb-6",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx($,{className:"h-5 w-5 text-green-600 mt-1 mr-3 flex-shrink-0"}),s.jsxs("span",{className:"text-gray-700",children:["7 yards of rock: ",s.jsx("strong",{children:"$350-$550"})]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx($,{className:"h-5 w-5 text-green-600 mt-1 mr-3 flex-shrink-0"}),s.jsxs("span",{className:"text-gray-700",children:["7 yards of fill dirt: ",s.jsx("strong",{children:"$100"})]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx($,{className:"h-5 w-5 text-green-600 mt-1 mr-3 flex-shrink-0"}),s.jsxs("span",{className:"text-gray-700",children:["7 yards of mulch: ",s.jsx("strong",{children:"$280-$445"})]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx($,{className:"h-5 w-5 text-green-600 mt-1 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:"Delivery included"})]})]}),s.jsx("div",{className:"text-green-600 font-bold text-2xl",children:"Starting at $100"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Per 7 yards delivered"})]})]})]})]})}),s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-green-600 to-green-700",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center text-white",children:[s.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Ready to Book Your Trailer?"}),s.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Book online in minutes or call us directly. We'll confirm your reservation and delivery details."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs("button",{onClick:()=>e("booking"),className:"bg-white text-green-600 px-8 py-4 rounded-lg text-lg font-bold hover:bg-gray-100 transition-colors shadow-lg flex items-center justify-center gap-2",children:[s.jsx($e,{className:"h-5 w-5"}),"Book Online Now"]}),s.jsxs("a",{href:"tel:503-500-6121",className:"bg-slate-800 text-white px-8 py-4 rounded-lg text-lg font-bold hover:bg-slate-700 transition-colors shadow-lg flex items-center justify-center gap-2",children:[s.jsx(Le,{className:"h-5 w-5"}),"Call: 503-500-6121"]})]})]})}),s.jsx(hx,{}),s.jsx(lu,{message:"See a trailer that fits your needs? Reserve it today!",variant:"services",onBookClick:()=>e("booking")}),s.jsx(px,{}),s.jsx(ux,{}),s.jsx(wx,{}),s.jsx(mx,{}),s.jsx(fx,{}),s.jsx("div",{id:"reviews",children:s.jsx(lx,{})}),s.jsx("div",{id:"faq",children:s.jsx(cx,{})}),s.jsx(lu,{message:"Still have questions? Book now and we'll answer everything!",variant:"general",onBookClick:()=>e("booking")}),s.jsx("section",{id:"about",className:"py-20 px-4 sm:px-6 lg:px-8 bg-gray-50",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Ut,{className:"h-6 w-6 text-red-600 fill-red-600"}),s.jsx("span",{className:"text-red-600 font-semibold text-xl",children:"Veteran Owned & Operated"})]}),s.jsx("h2",{className:"text-4xl font-bold text-slate-800 mb-6",children:"Serving Molalla & Surrounding Areas"}),s.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"We're a veteran-owned and operated business specializing in dump trailer rentals and junk removal services for the Molalla community and surrounding areas."}),s.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"Whether you're tackling a home renovation, cleaning out a property, or managing a construction site, we provide the equipment and services you need to get the job done efficiently."}),s.jsx("p",{className:"text-lg text-gray-600",children:"Our mission is simple: deliver quality equipment, fair pricing, and exceptional customer service backed by the values of integrity and dedication that come with military service."})]}),s.jsx("div",{children:s.jsx("img",{src:"/logo Offical.JPG",alt:"Molalla Trailer Rentals",className:"rounded-lg shadow-xl",loading:"lazy"})})]})})}),s.jsx("section",{id:"contact",className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-slate-700 to-slate-800 text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Ready to Get Started?"}),s.jsx("p",{className:"text-xl mb-12 opacity-90",children:"Contact us today to rent a dump trailer or schedule junk removal service. Serving Molalla and surrounding areas!"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 text-left",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx(Le,{className:"h-6 w-6 mt-1 flex-shrink-0 text-green-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Call or Text"}),s.jsx("a",{href:"tel:503-500-6121",className:"hover:text-green-400 transition-colors text-xl font-semibold",children:"503-500-6121"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx(ns,{className:"h-6 w-6 mt-1 flex-shrink-0 text-green-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Email Us"}),s.jsx("a",{href:"mailto:Molallatrailerrental@outlook.com",className:"hover:text-green-400 transition-colors",children:"Molallatrailerrental@outlook.com"})]})]}),s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx(gr,{className:"h-6 w-6 mt-1 flex-shrink-0 text-green-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Service Area"}),s.jsxs("p",{children:["Molalla, OR",s.jsx("br",{}),"& Surrounding Areas"]})]})]})]}),s.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-600",children:[s.jsx("p",{className:"text-lg font-semibold mb-4",children:"Clackamas County & Surrounding Areas"}),s.jsx("p",{className:"text-2xl font-bold text-green-400 mb-2",children:"Call or Text: 503-500-6121"}),s.jsx("p",{className:"opacity-90",children:"Dump trailer rentals starting at $120/day with delivery available"}),s.jsxs("button",{onClick:()=>e("admin"),className:"mt-8 text-xs text-gray-500 hover:text-gray-400 transition-colors flex items-center gap-1 mx-auto",children:[s.jsx(cl,{className:"h-3 w-3"}),"Admin"]})]})]})}),s.jsx("footer",{className:"bg-slate-900 text-gray-400 py-8 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[s.jsx("img",{src:"/logo Offical.JPG",alt:"Molalla Trailer Rentals",className:"h-8 w-8 rounded-full object-cover"}),s.jsx("span",{className:"text-xl font-bold text-white",children:"Molalla Trailer Rentals"})]}),s.jsx("p",{className:"mb-4",children:"Veteran Owned & Operated"}),s.jsxs("div",{className:"flex items-center justify-center gap-6 mb-6",children:[s.jsxs("a",{href:"https://www.facebook.com/molallatrailerrental",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors","aria-label":"Visit our Facebook page",children:[s.jsx(Ic,{className:"h-6 w-6"}),s.jsx("span",{className:"text-sm",children:"Facebook"})]}),s.jsxs("a",{href:"https://www.tiktok.com/@molallatrailerrental",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors","aria-label":"Visit our TikTok page",children:[s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})}),s.jsx("span",{className:"text-sm",children:"TikTok"})]})]}),s.jsx("p",{children:"© 2025 Molalla Trailer Rentals. All rights reserved."})]})}),s.jsx(xx,{}),s.jsx(jx,{onBookClick:()=>e("booking")})]})}wh(document.getElementById("root")).render(s.jsx(C.StrictMode,{children:s.jsx(_x,{})}));
